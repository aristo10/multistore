import{cL as B,r as n,cM as r,cN as e,cU as I,cQ as L}from"./vendor-3a94a37a.js";import{bm as E,bn as q,bo as H,bp as O,bq as U,U as C,aX as G,ey as Q,bs as k,C as X,T as K,ez as Y}from"./index-ed7845ca.js";import{C as Z}from"./CreateDrawer-a7af16b9.js";import{C as _}from"./CommonDelete-4339174a.js";import{F as s,I as T,D as P,b as i,t as h,h as f,k as ee}from"./vendor-large-f75deccb.js";import{V as ae}from"./ViewBtn-ffc9b5cb.js";const le=()=>{const{Option:t}=i,o=B(),[x,u]=n.useState(!1),[d]=s.useForm(),[p,c]=n.useState("exactSalary"),[D,m]=n.useState(null),j=l=>{m(l)},{list:b,loading:y}=r(l=>l.jobLocation),{list:a,loading:g}=r(l=>l.jobWorkExperience),{list:w,loading:A}=r(l=>l.jobType),{list:N,loading:F}=r(l=>l.jobCategory),{list:J,loading:z}=r(l=>l.jobSkills),R=async l=>{u(!0);try{l.jobPaySystem=p,(await o(Q(l))).payload.message==="success"&&o(k({page:1,count:10,status:"true"})),u(!1)}catch{}},M=()=>{},W=["monthly","hourly","daily","yearly"],V=l=>{c(l.target.value)},S={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],["link"],[{color:[]},{background:[]}],["clean"]]},v=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","color","background"];return n.useEffect(()=>{o(E()),o(q()),o(H()),o(O()),o(U())},[o]),e.jsx(e.Fragment,{children:e.jsx(C,{permission:"create-job",children:e.jsx("div",{className:"mr-top mt-5 p-5 ant-card ",style:{maxWidth:"100%"},children:e.jsxs(s,{size:"small",form:d,name:"basic",layout:"vertical",initialValues:{remember:!0},onFinish:R,onFinishFailed:M,autoComplete:"off",children:[e.jsx("h2",{className:"text-center text-2xl mt-3 mb-3 txt-color font-bold ",children:"Job Information"}),e.jsx("div",{children:e.jsx(s.Item,{style:{marginBottom:"12px"},className:"w-full",label:"Job Title",name:"jobTitle",rules:[{required:!0,message:"Please input Job Title!"}],children:e.jsx(T,{placeholder:"React.js Developer"})})}),e.jsxs("div",{className:"flex gap-5 ",children:[e.jsx(s.Item,{style:{marginBottom:"12px"},className:"w-full",label:"Start Date",name:"startTime",rules:[{required:!0,message:"Please input Start Date!"}],children:e.jsx(P,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"12px"},className:"w-full",label:"End Date",name:"endTime",rules:[{required:!0,message:"Please input End Date!"}],children:e.jsx(P,{className:"date-picker hr-staffs-date-picker"})})]}),e.jsxs("div",{className:"flex gap-5 ",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Location",name:"jobLocationId",rules:[{required:!0,message:"Please input Job Location!"}],children:e.jsx(i,{placeholder:"Dhaka",allowClear:!0,loading:y,mode:"single",size:"middle",style:{width:"100%"},children:b&&b.map(l=>e.jsxs(t,{value:l.id,children:[l.jobLocation,","," ",l.countryName]},l.id))})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Experience",name:"jobWorkExperienceId",rules:[{required:!0,message:"Please input Job Work Experience!"}],children:e.jsx(i,{placeholder:"1-2 years",allowClear:!0,loading:g,mode:"single",size:"middle",style:{width:"100%"},children:a&&a.map(l=>e.jsx(t,{value:l.id,children:l.workExperience},l.id))})})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Type",name:"jobTypeId",rules:[{required:!0,message:"Please input Job Type!"}],children:e.jsx(i,{placeholder:"Full Time",allowClear:!0,loading:A,mode:"single",size:"middle",style:{width:"100%"},children:w&&w.map(l=>e.jsx(t,{value:l.id,children:l.jobTypeName},l.id))})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Category",name:"jobCategoryId",rules:[{required:!0,message:"Please input Job Category!"}],children:e.jsx(i,{placeholder:"Engineering",allowClear:!0,onChange:j,loading:F,mode:"single",size:"middle",style:{width:"100%"},children:N&&N.map(l=>e.jsx(t,{value:l.id,children:l.jobCategoryName},l.id))})})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Skill",name:"jobSkillId",rules:[{required:!0,message:"Please input Job Skill!"}],children:e.jsx(i,{mode:"multiple",loading:z,style:{width:"100%"},placeholder:"select Skills",optionLabelProp:"children",children:J&&J.map(l=>e.jsx(t,{value:l.id,children:l.jobSkillName},l.id))})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Total Position",name:"totalPosition",rules:[{required:!0,message:"Please input Total Position!"}],children:e.jsx(T,{placeholder:"please input total position"})})]}),e.jsx("div",{children:e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Pay By",name:"jobPayBy",rules:[{required:!0,message:"Please input Pay By!"}],children:e.jsx(i,{placeholder:"Monthly",allowClear:!0,mode:"single",size:"middle",style:{width:"100%"},children:W.map(l=>e.jsx(t,{className:"capitalize",value:l,children:l},l))})})}),e.jsx("div",{children:e.jsxs(h.Group,{onChange:V,value:p,children:[e.jsx(h,{value:"exactSalary",children:"Exact Salary"}),e.jsx(h,{value:"rangeSalary",children:"Range Salary"})]})}),p==="exactSalary"?e.jsx("div",{children:e.jsx(s.Item,{style:{marginBottom:"12px"},label:"Salary",name:"exactSalary",rules:[{required:!0,message:"Please input Exact Salary!"}],children:e.jsx(f,{placeholder:"00"})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-5",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Minimum",name:"startingSalary",rules:[{required:!0,message:"Please input Minimum Salary!"}],children:e.jsx(f,{placeholder:"00"})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Maximum",name:"maximumSalary",rules:[{required:!0,message:"Please input Maximum Salary!"}],children:e.jsx(f,{placeholder:"00"})})]})}),e.jsxs("div",{children:[e.jsx(s.Item,{style:{marginBottom:"25px"},label:"Job Requirement",name:"jobRequirement",rules:[{required:!0,message:"Please input Job Requirement!"}],children:e.jsx(I,{theme:"snow",modules:S,formats:v})}),e.jsx(s.Item,{style:{marginBottom:"25px"},label:"Job Description",name:"jobDescription",rules:[{required:!0,message:"Please input Job Description!"}],children:e.jsx(I,{theme:"snow",modules:S,formats:v})})]}),e.jsx(s.Item,{style:{marginBottom:"12px",marginTop:"12px"},children:e.jsx(G,{className:"mt-5",size:"large",color:"primary",type:"primary",htmlType:"submit",shape:"round",loading:x,children:"Add New Job"})})]})})})})},se=le;function ce(){const t=B(),{list:o,loading:x,total:u}=r(a=>a.job),{list:d,loading:p}=r(a=>a.jobCategory),{list:c,loading:D}=r(a=>a.jobLocation),[m,j]=n.useState({page:1,count:10,status:"true"}),b=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Title",dataIndex:"",key:"jobTitle",render:({id:a,jobTitle:g})=>e.jsx(L,{className:"hover:text-primary",to:`/admin/hrm/job/${a}`,children:g}),renderCsv:({jobTitle:a})=>a},{id:2,title:"Job Category",dataIndex:"jobCategory",key:"jobCategory",render:a=>a.jobCategoryName,renderCsv:a=>a.jobCategoryName},{id:2,title:"Total vacancy",dataIndex:"totalPosition",key:"totalPosition"},{id:2,title:"Job Type",dataIndex:"jobType",key:"jobType",render:a=>a.jobTypeName,renderCsv:a=>a.jobTypeName},{id:2,title:"Job Location",dataIndex:"jobLocation",key:"jobLocation",render:a=>a.jobLocation,renderCsv:a=>a.jobLocation},{id:4,title:"",key:"action",render:a=>[{label:e.jsx(ae,{title:"View",path:`/admin/hrm/job/${a.id}`}),key:"view"},{label:e.jsx(C,{permission:"update-job",children:e.jsxs(L,{to:`${a.id}/update`,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(ee,{className:" rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(_,{values:{id:a.id,status:a.status},title:a.status==="true"?"Hide":"Show",permission:"delete-jobCategory",deleteThunk:Y,loadThunk:k,query:m,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],y=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"jobCategoryId",label:"Job Category",type:"select",options:d==null?void 0:d.map(a=>({label:a==null?void 0:a.jobCategoryName,value:a==null?void 0:a.id})),className:"min-w-[123px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"jobLocationId",label:"Job Location",type:"select",options:c==null?void 0:c.map(a=>({label:a==null?void 0:a.jobLocation,value:a==null?void 0:a.id})),className:"min-w-[123px] max-w-[150px]",popupClassName:"w-[200px]"}];return n.useEffect(()=>{t(k(m))},[t,m]),n.useEffect(()=>{t(E()),t(q())},[t]),e.jsx(e.Fragment,{children:e.jsx(X,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Job",extra:e.jsx(Z,{permission:"create-job",title:"Create Job",width:60,children:e.jsx(se,{})}),children:e.jsx(C,{permission:"readAll-job",children:e.jsx(K,{total:u,columns:b,list:o,loading:x,filters:y,setPageConfig:j,title:"Job List",isSearch:!0})})})})}export{ce as default};
