import{cL as M,cM as C,r as n,cN as e,cS as f}from"./vendor-3a94a37a.js";import{cL as y,$ as p,cM as U,C as b,U as h,T as k,cN as N,cO as w}from"./index-ed7845ca.js";import{C as A}from"./CommonDelete-4339174a.js";import{C as F}from"./CreateDrawer-a7af16b9.js";import{A as I}from"./AddUoM-1dc09ff9.js";import{F as c,I as v,B as D,M as S,k as Y}from"./vendor-large-f75deccb.js";function E({handleCancel:s}){const i=M(),{edit:a}=C(r=>r.uom),[d]=c.useForm(),[o,l]=n.useState(),u=async r=>{await i(y({id:a.id,values:r})),s(),l(!1),i(p({status:!0,page:1,count:10}))},m=()=>{l(!1)};return n.useEffect(()=>{d.setFieldValue("name",a.name)},[a]),e.jsx(e.Fragment,{children:e.jsxs(c,{form:d,layout:"vertical",className:"sm:mx-10",onFinish:u,onFinishFailed:m,autoComplete:"off",labelAlign:"left",children:[e.jsx(c.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input UoM name!"}],children:e.jsx(v,{})}),e.jsx(c.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(D,{loading:o,onClick:()=>l(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update UoM"})})]})})}function H(){const s=M(),{list:i,total:a,loading:d}=C(t=>t.uom),[o,l]=n.useState({page:1,count:10,status:"true"}),[u,m]=n.useState(!1),r=()=>{m(!0)},x=()=>{m(!1)},j=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:3,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>f(t).format("YYYY-MM-DD"),renderCsv:t=>f(t).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:t=>[{label:e.jsx(h,{permission:"update-uom",children:e.jsxs("div",{onClick:()=>{s(N(t)),r()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(Y,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(A,{values:{id:t.id,status:t.status},title:t.status==="true"?"Hide":"Show",permission:"delete-uom",deleteThunk:w,loadThunk:p,query:o,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],g=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return n.useEffect(()=>(s(p(o)),()=>{s(U())}),[s,o]),e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"UoM List",extra:e.jsx(F,{permission:"create-uom",title:"Create UoM",width:35,children:e.jsx(I,{})}),children:e.jsx(h,{permission:"readAll-uom",children:e.jsx(k,{total:a,columns:j,list:i,filters:g,loading:d,setPageConfig:l,title:"UoM List"})})}),e.jsx(S,{title:"Update UoM",open:u,onCancel:x,footer:!1,children:e.jsx(E,{handleCancel:x})})]})}export{H as default};
