import{cN as t,r as n,dj as k,df as B,dg as T,cQ as i,dk as $,cL as D,cM as p,d0 as Q}from"./vendor-3a94a37a.js";import{U as E}from"./useStoreFilter-d90bb3a9.js";import{ae as _,ck as A,aP as j,Y as F,V as M,C as q,U as y,T as U,s as H,cl as L}from"./index-ed7845ca.js";import{C as O}from"./CreateButton-dda4b580.js";import{V as z}from"./ViewBtn-ffc9b5cb.js";import{C as R}from"./CommonDelete-4339174a.js";import{a as o}from"./nFormetter-959ac4e7.js";import{u as K}from"./useCurrency-4b14dd3d.js";import{T as m,k as Y}from"./vendor-large-f75deccb.js";function J({card:l}){const a=K();return t.jsx(n.Fragment,{children:t.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[t.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[t.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:t.jsx(k,{size:30})}),t.jsxs("div",{children:[t.jsx(m,{title:t.jsx("span",{className:"text-lg",children:l==null?void 0:l.uniqueProduct}),children:t.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[t.jsx("span",{}),l!=null&&l.uniqueProduct?o(l==null?void 0:l.uniqueProduct):0]})}),t.jsx("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:"Unique Product"})]})]}),t.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[t.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-600 bg-violet-100 rounded-lg mr-6",children:t.jsx(B,{size:30})}),t.jsx("div",{children:t.jsxs(m,{title:t.jsxs("span",{className:"text-lg",children:[t.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),l==null?void 0:l.inventorySalesValue.toFixed(3)]}),children:[t.jsxs("span",{className:"block text-violet-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[" ",t.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),l!=null&&l.inventorySalesValue?o(Number(l.inventorySalesValue)):0]}),t.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Inventory Sale Value"," "]})]})})]}),t.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[t.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-500 bg-violet-100 rounded-lg mr-6",children:t.jsx(T,{size:30})}),t.jsx("div",{children:t.jsxs(m,{title:t.jsxs("span",{className:"text-lg",children:[t.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),l==null?void 0:l.inventoryPurchaseValue.toFixed(3)]}),children:[t.jsxs("span",{className:"block text-violet-500 text-2xl sm:text-3xl font-bold sm:text-center",children:[t.jsx("span",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.currencySymbol}}),l!=null&&l.inventoryPurchaseValue?o(Number(l.inventoryPurchaseValue)):0]}),t.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Inventory Purchase Value"," "]})]})})]}),t.jsx("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:t.jsxs(i,{to:"/admin/product-sort-list",children:[t.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:t.jsx($,{size:30})}),t.jsxs("div",{children:[t.jsx(m,{title:t.jsx("span",{className:"text-lg",children:l==null?void 0:l.shortProductCount}),children:t.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[t.jsx("span",{}),l!=null&&l.shortProductCount?o(l==null?void 0:l.shortProductCount):0]})}),t.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Short Product"," "]})]})]})})]})})}const ae=()=>{const l=D(),[a,g]=n.useState(!1),{list:v,loading:w,total:N,card:h}=p(e=>e.products),{list:u}=p(e=>e.productBrands),{list:x}=p(e=>e.productSubCategories),{storeFilter:C}=E({all:!0}),f=e=>{e.target.src="/images/default.jpg"},b=[{id:1,title:"ID",dataIndex:"id",key:"id",width:"50px",render:e=>t.jsx(i,{to:`/admin/product/${e}`,children:e}),renderCsv:e=>e},{id:2,title:"Image",dataIndex:"productThumbnailImage",render:e=>t.jsx("div",{className:"w-[2.5rem] h-[1.375rem] relative",children:t.jsx("img",{className:"absolute object-cover w-full h-full",alt:"product",onError:f,src:`${window.env.VITE_APP_API}/media/view/${e}`||"/images/default.jpg"})}),key:"image",width:"70px",csvOff:!0},{id:4,title:"Name",dataIndex:"name",key:"name",render:(e,{id:s})=>t.jsx(i,{title:e,to:`/admin/product/${s}`,children:H(e,45)}),width:"150px",renderCsv:e=>e,tdClass:"whitespace-normal"},{id:10,title:"Brand",dataIndex:"productGroup",key:"productBrand",render:e=>{var s;return(s=e==null?void 0:e.productBrand)==null?void 0:s.name},renderCsv:e=>{var s;return(s=e==null?void 0:e.productBrand)==null?void 0:s.name}},{id:9,title:"Sub Category",dataIndex:"productGroup",key:"productSubCategory",render:e=>{var s;return(s=e==null?void 0:e.subCategory)==null?void 0:s.name},renderCsv:e=>{var s;return(s=e==null?void 0:e.subCategory)==null?void 0:s.name}},{id:3,title:"SKU",dataIndex:"sku",key:"sku"},{id:5,title:"UoM",key:"uomValue",render:({productGroup:e})=>{const{uom:s,uomValue:r}=e||{};return`${r||""}${s!=null&&s.name?`/${s.name}`:""}`},renderCsv:({productGroup:e})=>{const{uom:s,uomValue:r}=e||{};return`${r||""}${s!=null&&s.name?`/${s.name}`:""}`}},{id:7,title:"Store name",dataIndex:"stockInfo",key:"storeName",render:e=>{var s,r;return(r=(s=e==null?void 0:e[0])==null?void 0:s.store)==null?void 0:r.name},nestDataIndex:"store",renderNested:e=>e==null?void 0:e.name,renderCsv:e=>e==null?void 0:e.map(s=>{var r;return(r=s.store)==null?void 0:r.name}).join(", "),responsive:["md"]},{id:8,title:"Purchase price",dataIndex:"stockInfo",key:"productPurchasePrice",render:e=>{var s;return(s=e==null?void 0:e[0])==null?void 0:s.productPurchasePrice},nestDataIndex:"productPurchasePrice",renderNested:e=>e,renderCsv:e=>e==null?void 0:e.map(s=>s.productPurchasePrice).join(", ")},{id:9,title:"Sale price",dataIndex:"stockInfo",key:"productSalePrice",render:e=>{var s;return(s=e==null?void 0:e[0])==null?void 0:s.productSalePrice},nestDataIndex:"productSalePrice",renderNested:e=>e,renderCsv:e=>e==null?void 0:e.map(s=>s.productSalePrice).join(", "),responsive:["md"]},{id:10,title:"Quantity",dataIndex:"stockInfo",render:e=>{var s;return(s=e==null?void 0:e[0])==null?void 0:s.productQuantity},nestDataIndex:"productQuantity",renderNested:e=>e,renderCsv:e=>e==null?void 0:e.map(s=>s.productQuantity).join(", "),key:"productQuantity"},{id:11,title:"Reorder QTY",dataIndex:"stockInfo",render:e=>{var s;return(s=e==null?void 0:e[0])==null?void 0:s.reorderQuantity},nestDataIndex:"reorderQuantity",renderNested:e=>e,renderCsv:e=>e==null?void 0:e.map(s=>s.reorderQuantity).join(", "),key:"reorderQuantity"},{id:12,title:"",key:"action",render:({id:e,status:s})=>[{label:t.jsx(z,{title:"View",path:`/admin/product/${e}`}),key:"view"},{label:t.jsx(y,{permission:"update-product",children:t.jsxs(i,{to:`/admin/product/${e}/update`,className:"flex items-center gap-2 cursor-pointer",children:[t.jsx(Y,{className:" rounded-md"}),"Edit"]})}),key:"edit"},{label:t.jsx(R,{values:{id:e,status:s},title:s==="true"?"Hide":"Show",permission:"delete-product",deleteThunk:L,loadThunk:j,query:d}),key:"delete"},{label:t.jsxs(i,{to:`/admin/print-barcode/${e}`,className:"flex items-center gap-2 rounded",children:[t.jsx(Q,{className:"text-[1rem]"}),"Barcode"]}),key:"barcode"}],csvOff:!0}];a&&b.splice(7,5);const[d,c]=n.useState({page:1,count:10,status:"true"}),P=[C,{key:"productSubCategoryId",label:"Sub Category",type:"select",options:x==null?void 0:x.map(e=>({label:e==null?void 0:e.name,value:e==null?void 0:e.id})),className:"min-w-[123px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"productBrandId",label:"Brand",type:"select",options:u==null?void 0:u.map(e=>({label:e==null?void 0:e.name,value:e==null?void 0:e.id})),className:"min-w-[100px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}],S=()=>{c(a?{page:1,count:10,status:"true"}:{page:1,count:10,status:"true",product:"all"}),g(!a)},V=t.jsx("div",{onClick:S,className:_("h-8 bg-[#D7D7D7] px-2 text-center rounded-[5px] flex items-center cursor-pointer",{"bg-[#1890ff] text-white":a}),children:"All"});return n.useEffect(()=>{l(A(d.storeId||null))},[l,d.storeId]),n.useEffect(()=>{l(j(d))},[l,d]),n.useEffect(()=>{l(F({query:"all"})),l(M({query:"all"}))},[l]),t.jsxs(t.Fragment,{children:[h&&t.jsx(J,{card:h}),t.jsx(q,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Products",extra:t.jsx(O,{to:"/admin/product/add",title:"Create product"}),children:t.jsx(y,{permission:"readAll-product",children:t.jsx(U,{list:v,total:N,loading:w,columns:b,filters:a?[]:P,extraFilter:V,setPageConfig:c,title:"Product List",isSearch:!0,nestedRowKey:"stockInfo"})})})]})};export{ae as default};
