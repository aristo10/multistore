import{cR as I}from"./vendor-3a94a37a.js";function tt(u){var h=new DOMParser().parseFromString(u,"text/html");return h.body.textContent||""}function st(u,{title:h,TopRightInfo:b,customerInfo:v,companyInfo:i,tableHead:N,tableBody:U,bottomLeftContent:C,bottomRightContent:L,settings:r,leftBottomSecondColumnX:O=48,rightColumnLevelPosition:_=30}){var B,H;const t=new I(r.jsPDF);t.setFontSize(r.fontSize);const S=t.internal.pageSize,a=S.width?S.width:S.getWidth(),q=S.height?S.height:S.getHeight();let z=10;const W=function(){const e=new Image;e.src=i==null?void 0:i.logo,i!=null&&i.logo&&(t==null||t.addImage(e,"PNG",15,10,50,15));const n=[{value:i==null?void 0:i.companyName,style:{fontSizeStart:20,fontSizeEnd:11,colorEnd:[128,128,128]}},{value:i==null?void 0:i.tagLine},{value:i==null?void 0:i.address},{value:i==null?void 0:i.phone},{value:`Email: ${i==null?void 0:i.email}`},{value:i==null?void 0:i.website,type:"link"}],l=a/2,o=1;if(n.forEach((s,g)=>{var P,X,k,M,$,j,A,G;(P=s.style)!=null&&P.fontSizeStart&&t.setFontSize((X=s.style)==null?void 0:X.fontSizeStart);const F=t.splitTextToSize(s.value,l),T=t.getTextDimensions(F).h;s.type==="link"?t.textWithLink(s.value,a-15,z,{url:i.website,align:"right"}):t.text(F,a-15,z,{align:"right"}),(k=s.style)!=null&&k.fontSizeEnd&&t.setFontSize((M=s.style)==null?void 0:M.fontSizeEnd),($=s.style)!=null&&$.colorEnd&&t.setTextColor((j=s.style)==null?void 0:j.colorEnd[0],(A=s.style)==null?void 0:A.colorEnd[1],(G=s.style)==null?void 0:G.colorEnd[2]),z+=T+o,n.length-1===g&&(z=10)}),h){const s=h.toUpperCase();t.setFontSize(14),t.setTextColor(0);const g=t.getStringUnitWidth(s)*14/t.internal.scaleFactor,F=(a-g)/2,T=45;t.text(s,F,T),t.setFontSize(10)}},E=function(){t.setFontSize(8);const e=t.internal.pageSize,n=e.width?e.width:e.getWidth(),l=e.height?e.height:e.getHeight(),o=n/2;t.text(tt(i==null?void 0:i.footer),o,l-11,{align:"center"}),t.setLineWidth(.1),t.setDrawColor(150,150,150),r.jsPDF.orientation==="landscape"?t.line(100,l-9,200,l-9):t.line(50,l-9,155,l-9),t.setFontSize(6),t.text("Powered by 2025 | +88018",o,l-5,{align:"center"}),t.setFontSize(8)};h||(t.setDrawColor(0),t.setLineWidth(.1),t.line(10,40,a-10,40));let c=h?58:53;const J=a/2-50,K=1;(B=v==null?void 0:v.filter(e=>e.value))==null||B.forEach(e=>{var o,s,g;t.setFontSize(r.infoTopFontSize?r.infoTopFontSize:8),(o=e.style)!=null&&o.bold,(s=e.style)!=null&&s.fontSize&&t.setFontSize((g=e.style)==null?void 0:g.fontSize);const n=t.splitTextToSize(`${e.value}`,J),l=t.getTextDimensions(n).h;t.text(n,14,c),t.setFontSize(8),c+=l+K});let x=h?58:53;const Q=a/2-50,V=1;(H=b==null?void 0:b.filter(e=>e.value))==null||H.forEach(e=>{var o,s,g;t.setFontSize(r.infoTopFontSize?r.infoTopFontSize:8),(o=e.style)!=null&&o.bold,(s=e.style)!=null&&s.fontSize&&t.setFontSize((g=e.style)==null?void 0:g.fontSize);const n=t.splitTextToSize(`${e.value}`,Q),l=t.getTextDimensions(n).h;t.text(n,a-15,x,{align:"right"}),t.setFontSize(8),x+=l+V}),t.autoTable({startY:Math.max(c,x),head:[N],body:U,margin:{top:h?55:50,bottom:40},willDrawPage:W,didDrawPage:E,styles:{fontSize:r.tableFontSize?r.tableFontSize:10},didParseCell:function(){}}),t.setFontSize(r.bottomLeftFontSize?r.bottomLeftFontSize:8);let d=t.autoTable.previous.finalY+10;t.setDrawColor(0),t.setLineWidth(.1),t.line(14,t.autoTable.previous.finalY,a-14,t.autoTable.previous.finalY);const D=a/2-30,Z=C.filter(e=>e.value).reduce((e,n)=>{const l=t.splitTextToSize(n.value,D),o=t.getTextDimensions(l).h,s=2;return e+o+s},d),R=(L.filter(e=>e.value).length-1)*6+d;Math.max(Z,R)>q-12&&(t.addPage(),W(),t.setDrawColor(0),t.setLineWidth(.1),t.line(14,40,200,40),E(),d=Math.max(c,x));const p=14,f=O;let w=d;const Y=a/2+_,m=a-15,y=d;if(C.filter(e=>e.value).forEach(e=>{const n=t.splitTextToSize(e.value,D),l=t.getTextDimensions(n).h;t.text(e.label,p,w),t.text(n,f,w),w+=l+2}),t.setFontSize(r.bottomRightFontSize?r.bottomRightFontSize:12),t.setTextColor(50,50,50),L.filter(e=>!!e.value).forEach((e,n)=>{var o;const l=y+n*6;if(t.text(e.label,Y,l),t.text(e.value,m,l,{align:"right"}),((o=e.style)==null?void 0:o.borderTop)===!0){const s=Y;t.line(s,l-4,a-15,l-4)}}),u==="download")t.save(`${h}`);else if(u==="print")t.autoPrint(),window.open(t.output("bloburl"),"_blank").print();else return t.output("blob")}export{st as i};
