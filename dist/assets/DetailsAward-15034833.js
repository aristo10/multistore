import{r as p,cL as u,cT as x,cN as e,cM as y,cO as m}from"./vendor-3a94a37a.js";import{e4 as j,e2 as g,e5 as f,e6 as w,C as b,L as v}from"./index-ed7845ca.js";import{V as N}from"./ViewBtn-ffc9b5cb.js";import{C as D}from"./CreateDrawer-a7af16b9.js";import{T as A}from"./TableNoPagination-b00b3edd.js";import{F as i,I as c,B as I}from"./vendor-large-f75deccb.js";function C({award:t}){const[r]=i.useForm(),[s,n]=p.useState(!1),d=u(),{id:l}=x(),a=async h=>{n(!0);try{(await d(j({id:t.id,values:h}))).payload.message=="success"&&(d(g({page:1,count:10,status:"true"})),d(f(l))),n(!1)}catch(o){console.log(o)}};return e.jsxs("div",{children:["  ",e.jsx(i,{style:{marginBottom:"40px"},form:r,eventKey:"department-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:a,autoComplete:"off",initialValues:{...t},children:e.jsxs("div",{children:[e.jsx(i.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input your award name!"}],children:e.jsx(c,{placeholder:"Employee Of The Month"})}),e.jsx(i.Item,{style:{marginBottom:"20px"},label:"Description",name:"description",rules:[{required:!0,message:"Please input your award description!"}],children:e.jsx(c,{placeholder:"Employee Who Performed Well"})}),e.jsx(i.Item,{style:{marginBottom:"10px"},className:"flex justify-center",children:e.jsx(I,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:s,children:"Update Award"})})]})})]})}const P=()=>{const{id:t}=x(),r=u(),{award:s,loading:n}=y(a=>a.award),d=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:1,title:"Name",dataIndex:"user",key:"name",render:a=>`${a.username}`,renderCsv:a=>`${a.username}`},{id:1,title:"Awarded Date",dataIndex:"awardedDate",key:"awardedDate",render:a=>m(a).format("DD/MM/YYYY"),renderCsv:a=>m(a).format("DD/MM/YYYY")},{id:1,title:"Comment",dataIndex:"comment",key:"comment",render:a=>a,renderCsv:a=>a},{id:4,title:"",key:"action",render:({user:a})=>[{label:e.jsx(N,{title:"View",path:`/admin/hrm/staff/${a.id}`}),key:"view"}],csvOff:!0}];p.useEffect(()=>(r(f(t)),()=>{r(w())}),[r,t]);const l=e.jsx(e.Fragment,{children:e.jsx("h5",{className:"text-lg",children:"Employee List"})});return e.jsx("div",{children:e.jsx("div",{className:"mr-top",children:s?e.jsxs(b,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"md:flex flex justify-between md:mb-8 items-center gap-2",children:[e.jsx("h5",{className:"flex items-center",children:e.jsx("span",{className:" font-semibold",children:s.name})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(D,{permission:"update-award",title:"Update Award",update:!0,color:"bg-gray-700",width:30,children:e.jsx(C,{award:s})})})]}),e.jsx(A,{list:s==null?void 0:s.awardHistory,columns:d,csvFileName:"Award list",rightElement:l,loading:n})]},s.id):e.jsx(v,{})})})};export{P as default};
