import{cL as f,r as o,cN as e,cM as g}from"./vendor-3a94a37a.js";import{cD as S,ak as b,ar as x,C,U as h,T as I,cE as k}from"./index-ed7845ca.js";import{C as P}from"./CommonDelete-4339174a.js";import{C as w}from"./CreateDrawer-a7af16b9.js";import{A}from"./AddStore-c155f634.js";import{F as s,k as N,M as D,I as i,l as F,B as q}from"./vendor-large-f75deccb.js";import"./UploadMany-c4472299.js";function v({data:l}){const n=f(),{id:d}=l,[m]=s.useForm(),[p,a]=o.useState(),[c,r]=o.useState(!1),u=()=>{r(!0)},t=async j=>{a(!0),(await n(S({id:d,values:j}))).payload.message=="success"&&(r(!1),a(!1),n(b()))},y=()=>{a(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:u,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(N,{className:"gray-600  rounded-md"}),"Edit"]}),e.jsx(D,{title:"Update Store",open:c,onCancel:()=>r(!1),footer:!1,children:e.jsxs(s,{form:m,layout:"vertical",className:"sm:mx-10",initialValues:l,onFinish:t,onFinishFailed:y,autoComplete:"off",labelAlign:"left",children:[e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Store name",name:"name",rules:[{required:!0,message:"Please enter store name!"}],children:e.jsx(i,{size:"small"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Email",name:"email",rules:[{required:!0,message:"Please enter email!"}],children:e.jsx(i,{size:"small"})}),e.jsx(s.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please input Phone!"}],children:e.jsx(i,{size:"small"})}),e.jsx(s.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please input Address!"}],children:e.jsx(i,{size:"small"})}),e.jsx(s.Item,{label:"City",name:"city",rules:[{required:!0,message:"Please input City!"}],children:e.jsx(i,{size:"small"})}),e.jsx(s.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input Description!"}],children:e.jsx(F,{size:"small"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(q,{loading:p,type:"primary",htmlType:"submit",shape:"round",children:"Update Store"})})]})})]})}localStorage.getItem("id");function L(){const l=f(),{list:n,total:d,loading:m,defaultStore:p}=g(t=>t.store);o.useState(!1);const[a,c]=o.useState({page:1,count:10,status:"true"}),r=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"name",dataIndex:"name",key:"name"},{id:3,title:"email",dataIndex:"email",key:"email"},{id:4,title:"Phone",dataIndex:"phone",key:"phone"},{id:5,title:"Address",dataIndex:"address",key:"address"},{id:6,title:"City",dataIndex:"city",key:"city"},{id:7,title:"Description",dataIndex:"description",key:"description"},{id:4,title:"",key:"action",render:t=>[{label:e.jsx(h,{permission:"update-store",children:e.jsx(v,{data:t})}),key:"edit"},{label:e.jsx(P,{values:{id:t.id,status:t.status},title:t.status==="true"?"Hide":"Show",deleteThunk:k,loadThunk:x,permission:"delete-store",query:a,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],u=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return o.useEffect(()=>{l(x(a))},[l,a]),e.jsxs(C,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Store",extra:e.jsx(e.Fragment,{children:e.jsx(w,{permission:"create-store",title:"Create Store",width:35,children:e.jsx(A,{})})}),children:[" ",e.jsx(h,{permission:"readAll-store",children:e.jsx(I,{total:d,columns:r,list:n,loading:m,setPageConfig:c,title:"Store",filters:u})})]})}export{L as default};
