import{cL as f,cM as C,r as s,cN as t,cQ as l,db as o}from"./vendor-3a94a37a.js";import{K as m,C as h,U as N,T as b,be as v}from"./index-ed7845ca.js";import{C as j}from"./CreateDrawer-a7af16b9.js";import{C as k}from"./CommonDelete-4339174a.js";import{A as w}from"./AddTask-88f11895.js";import"./vendor-large-f75deccb.js";function y(){const d=f(),{list:n,loading:i,total:c}=C(e=>e.task),[a,x]=s.useState({status:!0,page:1,count:10}),p=[{title:"Name",key:"Name",render:({name:e,id:r})=>t.jsx(l,{to:`/admin/crm/task/${r}`,children:e}),renderCsv:({taskName:e})=>e},{title:"Priority",dataIndex:"priority",render:e=>e.name,renderCsv:e=>e.name},{title:"Status",dataIndex:"crmTaskStatus",render:e=>`${e==null?void 0:e.taskStatusName}`,renderCsv:e=>`${e==null?void 0:e.taskStatusName}`},{title:"Type",dataIndex:"taskType",render:e=>`${e==null?void 0:e.taskTypeName}`,renderCsv:e=>`${e==null?void 0:e.taskTypeName}`},{title:"Assignee",dataIndex:"assignee",render:(e,r)=>t.jsxs(l,{to:`/admin/setup/staffs/${r==null?void 0:r.assigneeId}`,children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),renderCsv:e=>`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`},{title:"Create date",dataIndex:"createdAt",render:e=>o(e).format("MMMM Do YYYY"),renderCsv:e=>o(e).format("MMMM Do YYYY")},{id:4,title:"",key:"action",render:e=>[{label:t.jsx(k,{values:{id:e.id,status:e.status},title:e.status==="true"?"Hide":"Show",permission:"delete-task",deleteThunk:v,loadThunk:m,query:a,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],u=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return s.useEffect(()=>{d(m(a))},[d,a]),t.jsx(t.Fragment,{children:t.jsx(h,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Task",extra:t.jsx(j,{permission:"create-task",title:"Create Task",width:60,children:t.jsx(w,{})}),children:t.jsx(N,{permission:"readAll-task",children:t.jsx(b,{list:n,columns:p,loading:i,total:c,setPageConfig:x,title:"Task List",isSearch:!0,filters:u})})})})}export{y as default};
