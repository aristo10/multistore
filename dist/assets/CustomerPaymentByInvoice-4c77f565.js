import{c_ as j,d8 as g,cT as I,cL as P,r as c,cS as N,cN as e,cO as b}from"./vendor-3a94a37a.js";import{aM as F}from"./index-ed7845ca.js";import{P as C}from"./Payments-f653f58a.js";import{F as t,C as D,D as v,I as B,B as S,f as A}from"./vendor-large-f75deccb.js";const E=()=>{const m=j(),r=g(),{pid:d}=I(),{dueAmount:o}=(r==null?void 0:r.state)||{},u=P(),{Title:n}=A,[i]=t.useForm();let[p,x]=c.useState(N());const[h,a]=c.useState(!1),f=async s=>{a(!0);try{const l={date:p,...s,paidAmount:s.paidAmount||[]};(await u(F(l))).payload.message==="success"&&(m(-1),a(!1)),a(!1),i.resetFields()}catch{a(!1)}},y=s=>{a(!1)};return e.jsx(e.Fragment,{children:e.jsxs(D,{bordered:!1,className:" max-w-[700px] ",children:[e.jsx(n,{level:3,className:"m-3 text-center",children:"Sale Invoice Payment"}),e.jsxs(n,{level:4,className:"text-center",children:["Due Amount :"," ",e.jsx("strong",{style:{color:"red"},children:(o==null?void 0:o.toFixed(3))||0})]}),e.jsxs(t,{form:i,className:"m-4",name:"basic",layout:"vertical",initialValues:{remember:!0,saleInvoiceNo:d,discount:0,paidAmount:[{}]},onFinish:f,onFinishFailed:y,autoComplete:"off",children:[e.jsx(t.Item,{label:"Date",rules:[{required:!0,message:"Please input the date!"}],style:{marginBottom:"10px"},children:e.jsx(v,{onChange:s=>x(s==null?void 0:s._d),defaultValue:b(),label:"date",name:"date",rules:[{required:!0,message:"Please input Date"}]})}),e.jsx("span",{children:"Paid Amount"}),e.jsx(C,{}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Sale Invoice No",name:"saleInvoiceNo",validateStatus:"success",children:e.jsx(B,{disabled:!0})}),e.jsx(t.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:8,span:16},children:e.jsx(S,{block:!0,type:"primary",htmlType:"submit",shape:"round",loading:h,children:"Pay Now"})})]})]})})};export{E as default};
