import{cL as u,r as o,cN as e,cM as C}from"./vendor-3a94a37a.js";import{e_ as b,e$ as c,f0 as A,C as k,U as p,T as I,f1 as N}from"./index-ed7845ca.js";import{C as w}from"./CommonDelete-4339174a.js";import{C as q}from"./CreateDrawer-a7af16b9.js";import{F as s,I as x,h,B as f,k as B,M}from"./vendor-large-f75deccb.js";function P(){const a=u(),[i]=s.useForm(),[t,l]=o.useState(!1),n=()=>{l(!0)},d=async m=>{(await a(b(m))).payload.message=="success"&&(i.resetFields(),a(c())),l(!1)},r=()=>{};return e.jsx("div",{children:e.jsxs(s,{form:i,layout:"vertical",className:"sm:mx-10",onFinish:d,onFinishFailed:r,labelAlign:"left",children:[e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Delivery Area",name:"deliveryArea",rules:[{required:!0,message:"Please input delivery area name!"}],children:e.jsx(x,{size:"small",placeholder:"e.g. Dhaka"})}),e.jsx(s.Item,{label:"Delivery Fee",required:!0,name:"deliveryFee",rules:[{required:!0,message:"Please input delivery Fee"}],children:e.jsx(h,{placeholder:"e.g. 100",size:"small"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(f,{loading:t,type:"primary",htmlType:"submit",shape:"round",onClick:n,children:"Create Delivery Area"})})]})})}function T({item:a}){const[i,t]=o.useState(!1),l=u(),[n]=s.useForm(),[d,r]=o.useState(!1),m=()=>{r(!0)},y=()=>{t(!0)},v=()=>{t(!1)},g=async F=>{try{(await l(A({values:F,id:a.id}))).payload.message=="success"&&(r(!1),t(!1),l(c()))}catch{}},j=()=>{};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{y()},children:[e.jsx(B,{className:"bg-gray-600 p-1 text-white rounded-md"}),"Edit"]}),e.jsx(M,{title:"Update delivery fee",open:i,onCancel:v,footer:!1,children:e.jsxs(s,{form:n,layout:"vertical",className:"sm:mx-10 mt-5",onFinish:g,onFinishFailed:j,labelAlign:"left",initialValues:a,children:[e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Delivery Area",name:"deliveryArea",rules:[{required:!0,message:"Please input delivery area name!"}],children:e.jsx(x,{size:"small",placeholder:"e.g. Dhaka"})}),e.jsx(s.Item,{label:"Delivery Fee",required:!0,name:"deliveryFee",rules:[{required:!0,message:"Please input delivery Fee"}],children:e.jsx(h,{placeholder:"e.g. 100",size:"small"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(f,{loading:d,type:"primary",htmlType:"submit",shape:"round",onClick:m,children:"Add Delivery Fee"})})]})})]})}function L(){const a=u(),[i,t]=o.useState({page:1,count:10,status:"true"}),l=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Delivery Area",dataIndex:"deliveryArea",key:"deliveryArea"},{id:3,title:"Delivery Fee",dataIndex:"deliveryFee",key:"deliveryFee"},{id:4,title:"",key:"action",render:r=>[{label:e.jsx(p,{permission:"update-currency",children:e.jsx(T,{item:r})}),key:"edit"},{label:e.jsx(w,{permission:"delete-currency",deleteThunk:N,id:r.id,title:"Hide",loadThunk:c}),key:"delete"}],csvOff:!0}],{list:n,loading:d}=C(r=>r.deliveryFee);return o.useEffect(()=>{a(c())},[a]),e.jsx(k,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Delivery Area",extra:e.jsx(q,{permission:"create-currency",title:"Create Delivery Area",width:35,children:e.jsx(P,{})}),children:e.jsx(p,{permission:"readAll-currency",children:e.jsx(I,{columns:l,list:n,loading:d,setPageConfig:t,title:"delivery fee"})})})}export{L as default};
