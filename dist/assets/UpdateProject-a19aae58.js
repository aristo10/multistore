import{cT as S,cL as I,cM as E,r as i,cO as r,c_ as N,cN as e}from"./vendor-3a94a37a.js";import{d as B,L as q}from"./index-ed7845ca.js";import{a as F,b as M}from"./projectApi-2d6ff3a1.js";import{F as a,R as v,q as C,b as p,I as u,D as j,B as L,f as T}from"./vendor-large-f75deccb.js";function O({drawer:o}){const c=S().id,n=I(),{list:l,loading:x}=E(t=>t.users),{data:s}=F(c),[g,{isLoading:h}]=M(),[m,f]=i.useState(null);i.useEffect(()=>{s&&f({...s,startDate:r(s.startDate),endDate:r(s.endDate)})},[s]);const{Title:P}=T,[d]=a.useForm(),D=N(),y=async t=>{const b={...t,startDate:r(t.startDate).format(),endDate:r(t.endDate).format()};await n(g({id:c,values:b}))&&(d.resetFields(),D(-1))};return i.useEffect(()=>{n(B({query:"all"}))},[n]),e.jsx(e.Fragment,{children:e.jsx(v,{className:"mt-[25px]",justify:"center",children:e.jsxs(C,{xs:24,sm:24,md:24,lg:o?22:18,xl:o?22:16,className:"column-design border rounded card-custom",children:[e.jsx(P,{level:4,className:"m-2 mt-5 mb-5 text-center",children:"Update Project"}),m?e.jsx(a,{form:d,style:{marginBottom:"40px"},eventKey:"shift-form",name:"basic",initialValues:m,labelCol:{span:8},wrapperCol:{span:12},onFinish:y,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Project Manager",name:"projectManagerId",rules:[{required:!0,message:"Select Project Manager"}],children:e.jsx(p,{loading:x,mode:"single",showSearch:!0,placeholder:"Select Project Manager",optionFilterProp:"children",children:l==null?void 0:l.map(t=>e.jsxs(p.Option,{value:t.id,children:[t.firstName," ",t.lastName]},t.id))})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Project Name",name:"name",rules:[{required:!0,message:"Enter Project Name"}],children:e.jsx(u,{placeholder:"Enter Project Name"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Start Date",name:"startDate",rules:[{required:!0,message:"Please input Project Start Date!"}],children:e.jsx(j,{})}),e.jsx(a.Item,{style:{marginBottom:"20px"},label:"End Date",name:"endDate",rules:[{required:!0,message:"Please input Project End Date!"}],children:e.jsx(j,{})}),e.jsx(a.Item,{style:{marginBottom:"20px"},label:"Project Description",name:"description",rules:[{required:!0,message:"Enter Project Description"}],children:e.jsx(u.TextArea,{placeholder:"Enter Project Description"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:8,span:12},children:e.jsx(L,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:h,children:"Update Project"})})]})}):e.jsx(q,{})]})})})}export{O as default};
