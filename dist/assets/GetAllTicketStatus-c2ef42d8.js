import{cL as u,r as p,cN as t,cM as f,cS as d}from"./vendor-3a94a37a.js";import{dR as k,dS as h,dT as o,C as T,U as S,T as j,dU as C,dV as E,dW as y}from"./index-ed7845ca.js";import{C as N}from"./CommonDelete-4339174a.js";import{C as b}from"./CreateDrawer-a7af16b9.js";import{U as A}from"./UpdateDrawer-f5580074.js";import{F as i,I as w,B as U,k as g}from"./vendor-large-f75deccb.js";function m({edit:e}){const[a]=i.useForm(),l=u(),c=async r=>{(await l(e!=null&&e.id?k({id:e==null?void 0:e.id,values:r}):h(r))).payload.message==="success"&&(l(o()),e!=null&&e.id||a.resetFields())};return p.useEffect(()=>{e!=null&&e.id&&a.setFieldsValue(e==null?void 0:e.values)},[e,a]),t.jsx("div",{className:"flex justify-center mt-5",children:t.jsxs(i,{className:"w-4/5",onFinish:c,colon:!1,layout:"vertical",form:a,children:[t.jsx(i.Item,{style:{width:"350px"},label:"Ticket Status Name",name:"ticketStatusName",tooltip:"This is a required field",rules:[{required:!0,message:"This is a required field."}],children:t.jsx(w,{placeholder:"Ticket Status name"})}),t.jsx(i.Item,{label:"",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(U,{size:"large",htmlType:"submit",type:"primary",children:e!=null&&e.id?"Update":"Create"})})})]})})}function B(){const e=u(),{list:a,loading:l,total:c,edit:r}=f(s=>s.ticketStatus),n=[{title:"NAME",dataIndex:"ticketStatusName"},{title:"CREATE DATE",dataIndex:"createdAt",render:s=>d(s).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:s=>d(s).format("ll")},{id:3,title:"",key:"action",render:({id:s,ticketStatusName:x})=>[{label:t.jsxs("div",{onClick:()=>e(E({id:s,values:{ticketStatusName:x}})),className:"flex items-center gap-2 cursor-pointer",children:[t.jsx(g,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:t.jsx(N,{id:s,title:"delete",permission:"delete-ticketStatus",deleteThunk:y,loadThunk:o}),key:"delete"}],csvOff:!0}];return p.useEffect(()=>{e(o())},[e]),t.jsxs(T,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Ticket Status",extra:t.jsx(b,{permission:"create-ticketStatus",title:"Create Ticket Status",width:35,children:t.jsx(m,{})}),children:[t.jsx(S,{permission:"readAll-ticketStatus",children:t.jsx(j,{list:a,columns:n,loading:l,total:c,title:"Ticket Status List",isSearch:!1})}),t.jsx(A,{permission:"update-ticketStatus",title:"Update Ticket Status",width:35,open:r,setClose:C,children:t.jsx(m,{edit:r})})]})}export{B as default};
