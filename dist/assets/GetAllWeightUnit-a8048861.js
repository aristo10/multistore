import{cL as p,r as c,cN as e,cM as x,cS as U}from"./vendor-3a94a37a.js";import{fD as C,fE as u,aX as b,fF as w,fG as F,C as W,U as f,T as k,fH as N,fI as I}from"./index-ed7845ca.js";import{C as v}from"./CommonDelete-4339174a.js";import{C as A}from"./CreateDrawer-a7af16b9.js";import{F as l,I as y,B as L,f as M,M as T,k as B}from"./vendor-large-f75deccb.js";function D(){const s=p(),{Title:a}=M,[d]=l.useForm(),[i,t]=c.useState(!1),r=async o=>{t(!0);try{(await s(C(o))).payload.message==="success"&&(t(!1),d.resetFields(),s(u()))}catch{t(!1)}t(!1)},h=()=>{t(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(a,{level:4,className:"m-2 text-center",children:"Create Wight Unit"}),e.jsxs(l,{form:d,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:r,onFinishFailed:h,labelAlign:"left",children:[e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input wight unit name!"}],children:e.jsx(y,{size:"small",placeholder:"e.g. kg"})}),e.jsx(l.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(L,{loading:i,type:"primary",htmlType:"submit",shape:"round",children:"Create wight unit"})})]})]})})}function E({handleCancel:s}){const[a]=l.useForm(),[d,i]=c.useState(!1),{edit:t}=x(o=>o.weightUnit),r=p(),h=async o=>{i(!0);try{(await r(w({id:t.id,values:o}))).payload.message==="success"&&(i(!1),a.resetFields(),r(u()),s())}catch{i(!1)}i(!1)};return c.useEffect(()=>{a.setFieldsValue(t)},[t,a]),e.jsx("div",{children:e.jsxs(l,{form:a,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:h,onFinishFailed:()=>{},labelAlign:"left",children:[e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input weight unit name!"}],children:e.jsx(y,{size:"small",placeholder:"e.g. kg"})}),e.jsx(l.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(b,{loading:d,type:"primary",htmlType:"submit",shape:"round",children:"Update Weight Unit"})})]})})}function q(){const s=p(),{list:a,total:d,loading:i}=x(n=>n.weightUnit),[t,r]=c.useState(!1),[h,o]=c.useState({page:1,count:10,status:"true"}),m=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:2,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:n=>U(n).format("DD/MM/YYYY")},{id:4,title:"",key:"action",render:n=>[{label:e.jsx(f,{permission:"update-wightUnit",children:e.jsxs("div",{onClick:()=>{s(N(n)),j()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(B,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(v,{values:{id:n.id,status:n.status},title:n.status==="true"?"Hide":"Show",permission:"delete-wightUnit",deleteThunk:I,loadThunk:u,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}];c.useEffect(()=>(s(u()),()=>{s(F())}),[s]);const j=()=>{r(!0)},g=()=>{r(!1)};return e.jsxs(W,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Weight Unit",extra:e.jsx(A,{permission:"create-wightUnit",title:"Create Weight Unit",width:35,children:e.jsx(D,{})}),children:[e.jsx(f,{permission:"readAll-wightUnit",children:e.jsx(k,{total:d,columns:m,list:a,loading:i,setPageConfig:o,title:"Weight Unit"})}),e.jsx(T,{title:e.jsx("div",{className:"border-b pb-5",children:"Update Weight Unit"}),open:t,onCancel:g,footer:!1,children:e.jsx(E,{handleCancel:g})})]})}export{q as default};
