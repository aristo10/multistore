import{cM as c,cL as S,r as k,cN as s,cO as f,cQ as i,cS as y,dl as T,dg as D,dA as Y,dB as E}from"./vendor-3a94a37a.js";import{al as C,h7 as O,ae as R,am as $,cB as _,h8 as A,ct as H,aA as Q,cm as V,s as z,h9 as B,ha as G}from"./index-ed7845ca.js";import{b as M,D as U,T as p}from"./vendor-large-f75deccb.js";import{V as L}from"./ViewBtn-ffc9b5cb.js";import{a as o}from"./nFormetter-959ac4e7.js";import{u as F}from"./useCurrency-4b14dd3d.js";function K({pageConfig:e,setPageConfig:t}){var h;const{list:d,defaultStore:r,loading:a}=c(l=>l.store),{list:n}=c(l=>l.quickLink),{RangePicker:v}=U,m=S(),N=l=>{const u=l[0].format("YYYY-MM-DD"),I=l[1].format("YYYY-MM-DD");t(b=>({...b,startDate:u,endDate:I}))};k.useEffect(()=>{m(C())},[m]);const w=l=>{t(u=>({...u,storeId:l}))};return k.useEffect(()=>{m(O())},[m]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center pt-2 px-3",children:[s.jsx("h1",{className:"text-[18px] w-[300px] dark:text-white font-semibold ",children:"Quick Link"}),s.jsx("div",{className:"w-[300px] flex justify-center items-center",children:s.jsx("span",{className:"px-2 py-1 rounded font-semibold w-full",children:s.jsx(M,{className:"w-full",mode:"multiple",placeholder:`Select Store (Default: ${(r==null?void 0:r.name)||"All"})`,onChange:w,loading:a,children:d==null?void 0:d.map(l=>s.jsx(M.Option,{value:l.id,children:l.name},l.id))})})}),s.jsx("div",{className:"w-[300px]",children:s.jsx(v,{className:"range-picker",onCalendarChange:N,defaultValue:[f(e.startDate,"YYYY-MM-DD"),f(e.endDate,"YYYY-MM-DD")]})})]}),s.jsx("div",{className:"flex justify-center flex-wrap gap-5 my-4",children:(h=n==null?void 0:n.filter(l=>l.position))==null?void 0:h.map((l,u)=>s.jsxs(i,{to:l.url,className:R("flex flex-col items-center justify-center w-[120px] sm:w-[120px] lg:w-[150px] py-4 rounded-lg cursor-pointer text-[#2563eb] bg-[#2563eb]/10 hover:shadow",{"bg-[#8b5cf6]/10 text-[#8b5cf6]":u%2===0}),children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:l.icon}}),s.jsx("p",{className:"text-xs uppercase md:text-[12px] font-bold pt-[3px]",children:l.title})]},l.id))})]})})}function j({loading:e,list:t,columns:d,title:r,slug:a,total:n}){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"recent h-[332px] bg-white drop-shadow rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between p-3",children:[s.jsx("h3",{className:"font-semibold font-Popins",children:r}),s.jsxs(i,{className:"dark:text-white text-primary",to:`/admin/${a}`,children:["View all ",n?`(${n})`:null]})]}),s.jsx($,{headClass:"bg-white",columns:d,data:t,width:807,loading:e})]})})}const q=[{id:1,title:"Invoice No",dataIndex:"id",key:"id",render:(e,{id:t})=>s.jsx(i,{to:`/admin/sale/${t}`,children:t})},{id:3,title:"Customer",dataIndex:"customer",key:"customerId",render:e=>e==null?void 0:e.username},{id:4,title:"Total",dataIndex:"totalAmount",key:"totalAmount",render:e=>e.toFixed(2)},{id:6,title:"Due",dataIndex:"dueAmount",key:"dueAmount",responsive:["md"],render:e=>e.toFixed(2)},{id:7,title:"Paid",dataIndex:"paidAmount",key:"paidAmount",responsive:["md"],render:e=>e.toFixed(2)},{id:2,title:"Date",dataIndex:"date",key:"date",render:e=>y(e).format("ll")},{id:10,title:"",dataIndex:"",key:"action",render:({id:e,dueAmount:t})=>[{label:s.jsx(i,{to:t?`/admin/payment/customer/${e}`:"#",state:{dueAmount:t},children:s.jsxs("button",{className:"flex items-center gap-2 rounded disabled:cursor-not-allowed",disabled:!t,children:[s.jsx(T,{className:"text-[1rem]"})," Payment"]})}),key:"payment"}]}],P=[{id:1,title:"Invoice No",dataIndex:"id",key:"id",render:(e,{id:t})=>s.jsx(i,{to:`/admin/order/${t}`,children:t})},{id:2,title:"Date",dataIndex:"date",key:"date",render:e=>y(e).format("ll")},{id:4,title:"Total",dataIndex:"totalAmount",key:"totalAmount",render:e=>e.toFixed(2)},{id:6,title:"Due",dataIndex:"dueAmount",key:"dueAmount",render:e=>e.toFixed(2)},{id:7,title:"Paid",dataIndex:"paidAmount",key:"paidAmount",responsive:["md"],render:e=>e.toFixed(2)},{id:10,title:"Action",dataIndex:"id",key:"payment",render:e=>s.jsx("div",{className:"flex ",children:s.jsx(L,{path:`/admin/order/${e}`})})}];function J({pageConfig:e}){var b;const t=S(),{list:d,loading:r,total:a}=c(x=>x.sales),{PENDING:n,loading:v,total:m}=c(x=>x.ESale),{RECEIVED:N,loading:w,total:h}=c(x=>x.ESale),{DELIVERED:l,loading:u,total:I}=c(x=>x.ESale);return k.useEffect(()=>{t(_({...e,count:5,user:""})),t(A({page:1,count:5,orderStatus:"PENDING"})),t(A({page:1,count:5,orderStatus:"RECEIVED"})),t(A({page:1,count:5,orderStatus:"DELIVERED"}))},[t,e]),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-8 pb-3",children:[s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:n,total:m,loading:v,title:"Pending Order",columns:P,slug:"order"})}),s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:N,total:h,loading:w,title:"Received Order",columns:P,slug:"order"})}),s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:l,total:I,loading:u,title:"Delivered Order",columns:P,slug:"order"})}),s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:d,total:(b=a==null?void 0:a._count)==null?void 0:b.id,loading:r,title:"Recent sells",columns:q,slug:"sale"})})]})}const W=[{id:1,title:"Invoice No",dataIndex:"id",key:"id",render:(e,{id:t})=>s.jsx(i,{to:`/admin/sale/${t}`,children:t})},{id:3,title:"Customer",dataIndex:"customer",key:"customerId",render:e=>e==null?void 0:e.username},{id:4,title:"Total",dataIndex:"totalAmount",key:"totalAmount",render:e=>e.toFixed(2)},{id:4,title:"Tax",dataIndex:"totalTaxAmount",key:"totalTaxAmount",render:e=>e.toFixed(2)},{id:6,title:"Due",dataIndex:"dueAmount",key:"dueAmount",responsive:["md"],render:e=>e.toFixed(2)},{id:7,title:"Paid",dataIndex:"paidAmount",key:"paidAmount",responsive:["md"],render:e=>e.toFixed(2)},{id:2,title:"Date",dataIndex:"date",key:"date",render:e=>y(e).format("ll")},{id:10,title:"",dataIndex:"",key:"action",render:({id:e,dueAmount:t})=>[{label:s.jsx(i,{to:t?`/admin/payment/customer/${e}`:"#",state:{dueAmount:t},children:s.jsxs("button",{className:"flex items-center gap-2 rounded disabled:cursor-not-allowed",disabled:!t,children:[s.jsx(T,{className:"text-[1rem]"})," Payment"]})}),key:"payment"}]}],X=[{id:2,title:"ID",dataIndex:"id",key:"id"},{id:3,title:"SKU",dataIndex:"product",key:"sku",render:e=>e.sku},{id:4,title:"Name",dataIndex:"product",key:"name",render:(e,{id:t})=>s.jsx(i,{to:`/admin/product/${t}`,children:e.name}),tdClass:"whitespace-normal"},{id:6,title:"QTY",dataIndex:"productQuantity",key:"productQuantity"},{id:7,title:"Purchase price",dataIndex:"productPurchasePrice",key:"productPurchasePrice",responsive:["md"]},{id:12,title:"Reorder QTY",dataIndex:"reorderQuantity",key:"reorderQuantity"},{id:13,title:"",key:"action",render:({id:e})=>[{label:s.jsx(L,{title:"View",path:`/admin/product/${e}`}),key:"view"}]}],Z=[{id:1,title:"ID",key:"id",render:({id:e})=>s.jsx(i,{to:`/admin/purchase/${e}`,children:e})},{id:2,title:"Date",dataIndex:"date",key:"date",render:e=>y(e).format("ll")},{id:3,title:"Supplier ",dataIndex:"supplier",key:"supplierId",render:e=>e==null?void 0:e.name},{id:4,title:"Total",dataIndex:"totalAmount",key:"totalAmount"},{id:4,title:"Tax",dataIndex:"totalTax",key:"totalTax"},{id:6,title:"Due",dataIndex:"dueAmount",key:"dueAmount"},{id:7,title:"Paid",dataIndex:"paidAmount",key:"paidAmount"},{id:8,title:"",key:"action",render:({id:e,dueAmount:t})=>[{label:s.jsx(L,{title:"View",path:`/admin/purchase/${e}`}),key:"view"},{label:s.jsx(i,{to:t?`/admin/payment/supplier/${e}`:"#",state:{dueAmount:t},children:s.jsxs("button",{className:"flex items-center gap-2 rounded disabled:cursor-not-allowed",disabled:!t,children:[s.jsx(T,{className:"text-[1rem]"})," Payment"]})}),key:"payment"}]}],ee=[{id:1,title:"ID",dataIndex:"id",key:"id",render:e=>s.jsx(i,{to:`/admin/transaction/${e}`,children:e})},{id:2,title:"Date",dataIndex:"date",key:"date",render:e=>y(e).format("ll")},{id:3,title:"Debit Account",dataIndex:"debit",key:"debit",render:e=>e==null?void 0:e.name},{id:4,title:"Credit Account",dataIndex:"credit",key:"credit",render:e=>e==null?void 0:e.name},{id:5,title:"Amount",dataIndex:"amount",key:"amount",responsive:["md"]},{id:6,title:"Particulars",dataIndex:"particulars",key:"particulars",render:e=>z(e,20)}];function se({pageConfig:e}){var b,x;const t=S(),{list:d,loading:r,total:a}=c(g=>g.sales),{list:n,loading:v,total:m}=c(g=>g.purchases),{list:N,loading:w,total:h}=c(g=>g.transactions),{list:l,loading:u,total:I}=c(g=>g.productSortList);return k.useEffect(()=>{t(_({...e,count:5,user:""})),t(H(e)),t(Q(e)),t(V(e))},[t,e]),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-4 2xl:gap-x-8 gap-y-4 2xl:gap-y-8 pb-3",children:[s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:d,loading:r,title:"Recent sales",total:(b=a==null?void 0:a._count)==null?void 0:b.id,columns:W,slug:"sale"})}),s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:n,total:m,loading:v,title:"Recent purchase",columns:Z,slug:"purchase"})}),s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:N,total:(x=h==null?void 0:h._count)==null?void 0:x.id,loading:w,title:"Recent transactions",columns:ee,slug:"transaction"})}),s.jsx("div",{className:"w-full md:col-span-1",children:s.jsx(j,{list:l,total:I,loading:u,title:"Product stock alert",columns:X,slug:"product-sort-list"})})]})}function te({information:e}){const t=F();return s.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:s.jsx(D,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsxs("span",{className:"text-lg",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),e==null?void 0:e.totalSaleAmount.toFixed(3)]}),children:[s.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),e!=null&&e.totalSaleAmount?o(e==null?void 0:e.totalSaleAmount):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Sale Amount"]})]})})]}),s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-600 bg-violet-100 rounded-lg mr-6",children:s.jsx(Y,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsx("span",{className:"text-lg",children:"Total sale invoice count"}),children:[s.jsxs("span",{className:"block text-violet-600 text-2xl sm:text-3xl font-bold sm:text-center",children:["#"," ",e!=null&&e.totalOrder?o(Number(e==null?void 0:e.totalOrder)):0]}),s.jsx("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:"Total Order"})]})})]}),s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-500 bg-violet-100 rounded-lg mr-6",children:s.jsx(D,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsx("span",{className:"text-lg",children:"Total pending invoice count"}),children:[s.jsxs("span",{className:"block text-violet-500 text-2xl sm:text-3xl font-bold sm:text-center",children:["#"," ",e!=null&&e.totalPendingOrder?o(Number(e.totalPendingOrder)):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Pending Order"," "]})]})})]}),s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:s.jsx(E,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsx("span",{className:"text-lg",children:"Total received invoice count"}),children:[s.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:["#"," ",e!=null&&e.totalReceivedOrder?o(e==null?void 0:e.totalReceivedOrder):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Received Order"]})]})})]})]})}const le=({information:e})=>{var d,r,a,n;const t=F();return s.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-blue-600 bg-blue-100 rounded-lg mr-6",children:s.jsx(Y,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsxs("span",{className:"text-lg",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),(d=e==null?void 0:e.totalSaleAmount)==null?void 0:d.toFixed(3)]}),children:[s.jsxs("span",{className:"block text-blue-600  text-2xl sm:text-3xl font-bold sm:text-center",children:[" ",s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),e!=null&&e.totalSaleAmount?o(Number(e==null?void 0:e.totalSaleAmount)):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Sales"," ",s.jsxs("span",{className:"text-blue-600",children:["#",e!=null&&e.totalSaleInvoice?o(e==null?void 0:e.totalSaleInvoice):0]})]})]})})]}),s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-500 bg-violet-100 rounded-lg mr-6",children:s.jsx(D,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsxs("span",{className:"text-lg",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),(r=e==null?void 0:e.totalSaleDue)==null?void 0:r.toFixed(3)]}),children:[s.jsxs("span",{className:"block text-violet-500 text-2xl sm:text-3xl font-bold sm:text-center",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),e!=null&&e.totalSaleDue?o(Number(e==null?void 0:e.totalSaleDue)):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2  dark:text-yellow-100 ",children:["Total Sale Due"," "]})]})})]}),s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14  text-blue-600 bg-blue-100 rounded-lg mr-6",children:s.jsx(E,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsxs("span",{className:"text-lg",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),(a=e==null?void 0:e.totalPurchaseAmount)==null?void 0:a.toFixed(3)]}),children:[s.jsxs("span",{className:"block text-blue-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),e!=null&&e.totalPurchaseAmount?o(e==null?void 0:e.totalPurchaseAmount):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Purchases"," ",s.jsxs("span",{className:"text-blue-600",children:["#",e!=null&&e.totalPurchaseInvoice?o(e==null?void 0:e.totalPurchaseInvoice):0]})]})]})})]}),s.jsxs("div",{className:"ant-shadow w-full relative sm:p-2 dark:bg-[#2e2d35] flex sm:justify-center items-center md:p-6 p-2 bg-white rounded-lg dashboard-card-bg",children:[s.jsx("div",{className:"sm:hidden inline-flex flex-shrink-0 items-center justify-center h-14 w-14 text-violet-600 bg-violet-100 rounded-lg mr-6",children:s.jsx(D,{size:30})}),s.jsx("div",{children:s.jsxs(p,{title:s.jsxs("span",{className:"text-lg",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),(n=e==null?void 0:e.totalPurchaseDue)==null?void 0:n.toFixed(3)]}),children:[s.jsxs("span",{className:"block text-violet-600 text-2xl sm:text-3xl font-bold sm:text-center",children:[s.jsx("span",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.currencySymbol}}),e!=null&&e.totalPurchaseDue?o(e==null?void 0:e.totalPurchaseDue):0]}),s.jsxs("span",{className:"uppercase sm:text-[14px] block font-semibold sm:font-bold sm:mt-2 dark:text-yellow-100 ",children:[" ","Total Purchase Due"]})]})})]})]})},de=({pageConfig:e,data:t})=>{const d=S(),r=c(a=>a.dashboard.info);return k.useEffect(()=>(d(B(e)),()=>{d(G())}),[d,e]),s.jsx(s.Fragment,{children:(t==null?void 0:t.dashboardType)==="e-commerce"?s.jsx(te,{information:r}):s.jsx(le,{information:r})})},oe=()=>{const{data:e,loading:t}=c(n=>n==null?void 0:n.setting)||{},[d,r]=k.useState({count:5,startDate:y().startOf("month").format("YYYY-MM-DD"),endDate:y().endOf("month").format("YYYY-MM-DD")});let a;return t?a=s.jsxs("section",{className:"grid sm:grid-cols-2 xl:grid-cols-4 gap-6 mt-5 mb-5",children:[s.jsx("div",{className:"ant-shadow w-full h-[70px] md:h-[120px]  bg-slate-100 animate-pulse rounded-lg "}),s.jsx("div",{className:"ant-shadow w-full h-[70px] md:h-[120px]  bg-slate-100 animate-pulse rounded-lg "}),s.jsx("div",{className:"ant-shadow w-full h-[70px] md:h-[120px]  bg-slate-100 animate-pulse rounded-lg "}),s.jsx("div",{className:"ant-shadow w-full h-[70px] md:h-[120px]  bg-slate-100 animate-pulse rounded-lg "})]}):e&&!t?a=s.jsx(de,{pageConfig:d,data:e}):!e&&!t&&(a=""),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-5",children:[s.jsx(K,{pageConfig:d,setPageConfig:r}),a]}),s.jsx("div",{className:"mb-5",children:(e==null?void 0:e.dashboardType)==="inventory"?s.jsx(se,{pageConfig:d}):s.jsx(J,{pageConfig:d})})]})};export{oe as default};
