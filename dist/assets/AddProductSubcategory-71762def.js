import{cM as h,cL as x,r as c,cN as e}from"./vendor-3a94a37a.js";import{X as C,Y as f,Z as S}from"./index-ed7845ca.js";import{U as j}from"./UploadMany-c4472299.js";import{B as b}from"./BigDrawer-240149a9.js";import{A as I}from"./AddProductCategory-6511f02f.js";import{F as a,I as F,b as i,B as P,C as w,f as N}from"./vendor-large-f75deccb.js";const q=({drawer:A})=>{const s=h(t=>{var r;return(r=t.productCategories)==null?void 0:r.list}),o=x(),{Title:m}=N,[n]=a.useForm(),[u,l]=c.useState(!1),[p,d]=c.useState(null),g=t=>{d(t)},y=async t=>{l(!0);try{(await o(S({...t,productCategoryId:p}))).payload.message==="success"&&(n.resetFields(),d(null)),l(!1)}catch{l(!1)}};return c.useEffect(()=>{o(C({page:1,count:100}))},[o]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsxs(a,{form:n,layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0},onFinish:y,autoComplete:"off",children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input category name!"}],children:e.jsx(F,{})}),e.jsx(a.Item,{style:{marginBottom:"15px"},name:"productCategoryId",label:e.jsxs(e.Fragment,{children:["Select Category",e.jsx(b,{title:"new Category",children:e.jsx(I,{drawer:!0})})]}),rules:[{required:!0,message:"Please select category!"}],children:e.jsx(i,{onSelect:g,name:"productCategoryId",loading:!s,showSearch:!0,placeholder:"Select Category",optionFilterProp:"children",filterOption:(t,r)=>r.children.includes(t),filterSort:(t,r)=>t.children.toLowerCase().localeCompare(r.children.toLowerCase()),children:s&&s.map(t=>e.jsx(i.Option,{value:t.id,children:t.name},t.id))})}),e.jsx(a.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(P,{loading:u,type:"primary",htmlType:"submit",shape:"round",children:"Create Subcategory"})})]}),e.jsxs(w,{title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),className:"mt-5",children:[e.jsx(m,{level:4,className:"m-2 text-center",children:"Import From CSV"}),e.jsx(j,{title:"Demo Product SubCategory",demoData:[["name","productCategoryId"],["SubCategory1","1"],["SubCategory2","2"],["SubCategory3","3"]],urlPath:"product-sub-category",loadAllThunk:f,query:{page:1,count:10,status:!0}})]})]})})};export{q as A};
