import{cN as e,cQ as i,dv as P,dw as y,dx as N,dy as D,cL as k,cM as S,r as b,cO as u}from"./vendor-3a94a37a.js";import{d as v,C,U as j,T as E}from"./index-ed7845ca.js";import{T as d,F as n,b as x,I as h,D as g,B as I,k as B}from"./vendor-large-f75deccb.js";import{C as w}from"./CreateDrawer-a7af16b9.js";import{c as T,d as M}from"./projectApi-2d6ff3a1.js";const O=({path:a})=>e.jsx("div",{children:e.jsx(d,{title:"Kanban",children:e.jsx(i,{to:a,children:e.jsx("button",{className:"bg-indigo-500 hover:bg-indigo-700 text-white font-bold  p-1 rounded",children:e.jsx(P,{})})})})}),F=({path:a})=>e.jsx("div",{children:e.jsx(d,{title:"Milestone",children:e.jsx(i,{to:a,children:e.jsx("button",{className:"bg-cyan-500 hover:bg-cyan-700 text-white font-bold  p-1 rounded",children:e.jsx(y,{})})})})}),L=({path:a})=>e.jsx("div",{children:e.jsx(d,{title:"Task Status",children:e.jsx(i,{to:a,children:e.jsx("button",{className:"bg-amber-500 hover:bg-amber-700 text-white font-bold  p-1 rounded",children:e.jsx(N,{})})})})}),A=({path:a,status:o})=>e.jsx("div",{children:e.jsx(d,{title:"Status Update",children:e.jsxs(i,{to:a,className:"flex items-center gap-2",children:[e.jsx("button",{className:" bg-purple-500 hover:bg-purple-700 text-white font-bold  p-1 rounded",children:e.jsx(D,{})}),e.jsx("span",{className:"border px-1 text-gray-600 bg-gray-100 rounded",children:o})]})})});function U(){const a=k(),{list:o,loading:s}=S(r=>r.users),[c,{isLoading:m}]=T(),[l]=n.useForm(),t=async r=>{const f={...r,startDate:u(r.startDate).format(),endDate:u(r.endDate).format()},p=await c(f);p.data&&!p.error&&l.resetFields()};return b.useEffect(()=>{a(v({query:"all"}))},[a]),e.jsx(e.Fragment,{children:e.jsx(n,{form:l,name:"basic",layout:"vertical",onFinish:t,autoComplete:"off",className:"mx-4",children:e.jsxs("div",{children:[e.jsx(n.Item,{style:{marginBottom:"10px"},label:"Project Manager",name:"projectManagerId",rules:[{required:!0,message:"Select Project Manager"}],children:e.jsx(x,{loading:s,mode:"single",showSearch:!0,placeholder:"Select Project Manager",optionFilterProp:"children",children:o==null?void 0:o.map(r=>e.jsxs(x.Option,{value:r.id,children:[r.firstName," ",r.lastName]},r.id))})}),e.jsx(n.Item,{style:{marginBottom:"10px"},label:"Project Name",name:"name",rules:[{required:!0,message:"Enter Project Name"}],children:e.jsx(h,{placeholder:"Enter Project Name"})}),e.jsx(n.Item,{style:{marginBottom:"10px"},label:"Start Date",name:"startDate",rules:[{required:!0,message:"Please input Project Start Date!"}],children:e.jsx(g,{})}),e.jsx(n.Item,{style:{marginBottom:"20px"},label:"End Date",name:"endDate",rules:[{required:!0,message:"Please input Project End Date!"}],children:e.jsx(g,{})}),e.jsx(n.Item,{style:{marginBottom:"20px"},label:"Project Description",name:"description",rules:[{required:!0,message:"Enter Project Description"}],children:e.jsx(h.TextArea,{placeholder:"Enter Project Description"})}),e.jsx(n.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:7,span:12},children:e.jsx(I,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:m,children:"Add Project"})})]})})})}function H(){const[a,o]=b.useState({page:1,count:10}),{data:s,isLoading:c}=M(a),m=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",key:"name",render:({name:t})=>e.jsx("div",{className:"font-semibold",children:t.toUpperCase()}),renderCsv:({name:t})=>t},{id:3,title:"Project Manager",key:"projectManager",render:({projectManager:t})=>(t.firstName+" "+t.lastName).toUpperCase(),renderCsv:({projectManager:t})=>t.firstName+" "+t.lastName},{id:5,title:"Kanban Board",dataIndex:"id",key:"board",render:t=>e.jsx(O,{path:`/admin/hrm/project/kanban/${t}`}),csvOff:!0},{id:4,title:"Milestone",dataIndex:"id",key:"milestone",render:t=>e.jsx(F,{path:`/admin/hrm/project/milestone/${t}`})},{id:4,title:"Task Status",dataIndex:"",key:"taskStatus",render:({id:t})=>e.jsx(L,{path:`/admin/hrm/project/task-status/${t}`})},{id:4,title:"Project Status",dataIndex:"",key:"project-status",render:({id:t,status:r})=>e.jsx(A,{status:r,path:`/admin/hrm/project/status/update/${t}`})},{id:3,title:"",key:"action",render:({id:t})=>[{label:e.jsx(j,{permission:"update-product",children:e.jsxs(i,{to:`/admin/hrm/project/update/${t}`,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(B,{className:" rounded-md"}),"Edit"]})}),key:"Update"}]}],l=[{key:"status",label:"Status",type:"select",options:[{label:"Pending",value:"PENDING"},{label:"Progress",value:"PROGRESS"},{label:"Complete",value:"COMPLETE"},{label:"On-Hold",value:"ONHOLD"},{label:"Deleted",value:"DELETED"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return e.jsx(C,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Project",extra:e.jsx(w,{permission:"create-project",title:"Create Project",width:50,children:e.jsx(U,{})}),children:e.jsx(j,{permission:"readAll-project",children:e.jsx(E,{list:s==null?void 0:s.getAllProject,columns:m,loading:c,total:s==null?void 0:s.totalProject,setPageConfig:o,title:"Team List",isSearch:!0,filters:l})})})}export{H as default};
