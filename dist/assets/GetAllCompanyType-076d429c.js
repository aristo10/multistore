import{cL as y,r as d,cN as a,cM as x,cS as c}from"./vendor-3a94a37a.js";import{cV as T,cW as C,cU as p,C as f,U as h,T as j,cX as E,cY as N,cZ as A}from"./index-ed7845ca.js";import{C as b}from"./CommonDelete-4339174a.js";import{C as k}from"./CreateDrawer-a7af16b9.js";import{U as w}from"./UpdateDrawer-f5580074.js";import{F as l,I as U,B as g,k as v}from"./vendor-large-f75deccb.js";function i({edit:e}){const[r]=l.useForm(),o=y(),n=async t=>{(await o(e!=null&&e.id?T({id:e==null?void 0:e.id,values:t}):C(t))).payload.message==="success"&&(r.resetFields(),o(p()),e!=null&&e.id||r.resetFields())};return d.useEffect(()=>{e!=null&&e.id&&r.setFieldsValue({...e==null?void 0:e.values})},[e,r]),a.jsx("div",{className:"flex justify-center mt-5",children:a.jsxs(l,{className:"w-4/5",onFinish:n,colon:!1,layout:"vertical",form:r,children:[a.jsx(l.Item,{style:{width:"350px"},label:"Company Type Name",name:"companyTypeName",tooltip:"This is a required field",rules:[{required:!0,message:"Company Type Name is Required."}],children:a.jsx(U,{placeholder:"Company Type name"})}),a.jsx(l.Item,{label:"",children:a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(g,{size:"large",htmlType:"submit",type:"primary",children:e!=null&&e.id?"Update":"Create"})})})]})})}function B(){const e=y(),{list:r,loading:o,total:n,edit:t}=x(s=>s.companyType),m=[{title:"NAME",dataIndex:"companyTypeName"},{title:"CREATE DATE",dataIndex:"createdAt",render:s=>c(s).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:s=>c(s).format("ll")},{id:3,title:"",key:"action",render:({id:s,companyTypeName:u})=>[{label:a.jsxs("div",{onClick:()=>e(N({id:s,values:{companyTypeName:u}})),className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(v,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:a.jsx(b,{id:s,title:"delete",permission:"delete-companyType",deleteThunk:A,loadThunk:p}),key:"delete"}],csvOff:!0}];return d.useEffect(()=>{e(p())},[e]),a.jsxs(f,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Company Type",extra:a.jsx(k,{permission:"create-companyType",title:"Create Company Type",width:35,children:a.jsx(i,{})}),children:[a.jsx(h,{permission:"readAll-companyType",children:a.jsx(j,{list:r,columns:m,loading:o,total:n,title:"Company Type List",isSearch:!1})}),a.jsx(w,{permission:"update-companyType",title:"Update Company Type",width:35,open:t,setClose:E,children:a.jsx(i,{edit:t})})]})}export{B as default};
