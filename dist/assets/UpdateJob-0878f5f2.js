import{cL as W,cT as z,r as n,cM as d,cO as k,cN as e,cU as P}from"./vendor-3a94a37a.js";import{bl as M,bm as A,bn as U,bo as O,bp as G,bq as H,U as Q,L as K,br as X,bs as Y}from"./index-ed7845ca.js";import{F as s,I as w,D as N,b as r,t as x,h as p,B as Z}from"./vendor-large-f75deccb.js";const le=()=>{const{Option:o}=r,i=W(),{id:c}=z(),[J,y]=n.useState(!1),[t]=s.useForm(),[m,u]=n.useState("exactSalary"),[_,T]=n.useState(null),L=l=>{T(l)},{job:a}=d(l=>l.job),{list:g,loading:v}=d(l=>l.jobLocation),{list:h,loading:B}=d(l=>l.jobWorkExperience),{list:b,loading:F}=d(l=>l.jobType),{list:j,loading:q}=d(l=>l.jobCategory),{list:S,loading:C}=d(l=>l.jobSkills),E=async l=>{y(!0);try{l.jobPaySystem=m,(await i(X({id:c,values:l}))).payload.message==="success"&&i(Y({page:1,count:10,status:"true"})),y(!1)}catch{}},V=["monthly","hourly","daily","yearly"],D=l=>{u(l.target.value)},f={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],["link"],[{color:[]},{background:[]}],["clean"]]},I=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","color","background"];return n.useEffect(()=>{i(M(c))},[i,c]),n.useEffect(()=>{i(A()),i(U()),i(O()),i(G()),i(H())},[i]),n.useEffect(()=>{t.setFieldValue("jobTitle",a==null?void 0:a.jobTitle),t.setFieldValue("startTime",k(a==null?void 0:a.startTime)),t.setFieldValue("endTime",k(a==null?void 0:a.endTime)),t.setFieldValue("jobLocationId",a==null?void 0:a.jobLocationId),t.setFieldValue("jobWorkExperienceId",a==null?void 0:a.jobWorkExperienceId),t.setFieldValue("jobTypeId",a==null?void 0:a.jobTypeId),t.setFieldValue("jobCategoryId",a==null?void 0:a.jobCategoryId),t.setFieldValue("totalPosition",a==null?void 0:a.totalPosition),t.setFieldValue("jobSkillId",a==null?void 0:a.jobSkillId),t.setFieldValue("jobDescription",a==null?void 0:a.jobDescription),t.setFieldValue("jobRequirement",a==null?void 0:a.jobRequirement),t.setFieldValue("jobPayBy",a==null?void 0:a.jobPayBy),a!=null&&a.exactSalary&&(u("exactSalary"),t.setFieldValue("exactSalary",a==null?void 0:a.exactSalary)),(a==null?void 0:a.jobPaySystem)==="rangeSalary"&&(u("rangeSalary"),t.setFieldValue("startingSalary",a==null?void 0:a.startingSalary),t.setFieldValue("maximumSalary",a==null?void 0:a.maximumSalary))},[a]),e.jsx(e.Fragment,{children:a?e.jsx(Q,{permission:"create-job",children:e.jsx("div",{className:"max-w-[1000px] mx-auto",style:{maxWidth:"100%"},children:e.jsxs(s,{size:"small",form:t,name:"basic",layout:"vertical",onFinish:E,autoComplete:"off",children:[e.jsx("h2",{className:"text-center text-2xl mt-3 mb-3 txt-color font-bold ",children:"Job Information"}),e.jsx("div",{children:e.jsx(s.Item,{style:{marginBottom:"12px"},className:"w-full",label:"Job Title",name:"jobTitle",rules:[{required:!0,message:"Please input Job Title!"}],children:e.jsx(w,{placeholder:"React.js Developer"})})}),e.jsxs("div",{className:"flex gap-5 ",children:[e.jsx(s.Item,{style:{marginBottom:"12px"},className:"w-full",label:"Start Date",name:"startTime",rules:[{required:!0,message:"Please input Start Date!"}],children:e.jsx(N,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"12px"},className:"w-full",label:"End Date",name:"endTime",rules:[{required:!0,message:"Please input End Date!"}],children:e.jsx(N,{className:"date-picker hr-staffs-date-picker"})})]}),e.jsxs("div",{className:"flex gap-5 ",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Location",name:"jobLocationId",rules:[{required:!0,message:"Please input Job Location!"}],children:e.jsx(r,{placeholder:"Dhaka",allowClear:!0,loading:v,mode:"single",size:"middle",style:{width:"100%"},children:g&&g.map(l=>e.jsxs(o,{value:l.id,children:[l.jobLocation,","," ",l.countryName]},l.id))})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Experience",name:"jobWorkExperienceId",rules:[{required:!0,message:"Please input Job Work Experience!"}],children:e.jsx(r,{placeholder:"1-2 years",allowClear:!0,loading:B,mode:"single",size:"middle",style:{width:"100%"},children:h&&h.map(l=>e.jsx(o,{value:l.id,children:l.workExperience},l.id))})})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Type",name:"jobTypeId",rules:[{required:!0,message:"Please input Job Type!"}],children:e.jsx(r,{placeholder:"Full Time",allowClear:!0,loading:F,mode:"single",size:"middle",style:{width:"100%"},children:b&&b.map(l=>e.jsx(o,{value:l.id,children:l.jobTypeName},l.id))})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Category",name:"jobCategoryId",rules:[{required:!0,message:"Please input Job Category!"}],children:e.jsx(r,{placeholder:"Engineering",allowClear:!0,onChange:L,loading:q,mode:"single",size:"middle",style:{width:"100%"},children:j&&j.map(l=>e.jsx(o,{value:l.id,children:l.jobCategoryName},l.id))})})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Job Skill",name:"jobSkillId",rules:[{required:!0,message:"Please input Job Skill!"}],children:e.jsx(r,{mode:"multiple",loading:C,style:{width:"100%"},placeholder:"select Skills",optionLabelProp:"children",children:S&&S.map(l=>e.jsx(o,{value:l.id,children:l.jobSkillName},l.id))})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Total Position",name:"totalPosition",rules:[{required:!0,message:"Please input Total Position!"}],children:e.jsx(w,{placeholder:"please input total position"})})]}),e.jsx("div",{children:e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Pay By",name:"jobPayBy",rules:[{required:!0,message:"Please input Pay By!"}],children:e.jsx(r,{placeholder:"Monthly",allowClear:!0,mode:"single",size:"middle",style:{width:"100%"},children:V.map(l=>e.jsx(o,{value:l,children:l},l))})})}),e.jsx("div",{children:e.jsxs(x.Group,{onChange:D,value:m,children:[e.jsx(x,{value:"exactSalary",children:"Exact Salary"}),e.jsx(x,{value:"rangeSalary",children:"Range Salary"})]})}),m==="exactSalary"?e.jsx("div",{children:e.jsx(s.Item,{style:{marginBottom:"12px"},label:"Salary",name:"exactSalary",rules:[{required:!0,message:"Please input Exact Salary!"}],children:e.jsx(p,{placeholder:"00"})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex gap-5",children:[e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Minimum",name:"startingSalary",rules:[{required:!0,message:"Please input Minimum Salary!"}],children:e.jsx(p,{placeholder:"00"})}),e.jsx(s.Item,{className:"w-full",style:{marginBottom:"12px"},label:"Maximum",name:"maximumSalary",rules:[{required:!0,message:"Please input Maximum Salary!"}],children:e.jsx(p,{placeholder:"00"})})]})}),e.jsxs("div",{children:[e.jsx(s.Item,{style:{marginBottom:"25px"},label:"Job Requirement",name:"jobRequirement",rules:[{required:!0,message:"Please input Job Requirement!"}],children:e.jsx(P,{theme:"snow",modules:f,formats:I})}),e.jsx(s.Item,{style:{marginBottom:"25px"},label:"Job Description",name:"jobDescription",rules:[{required:!0,message:"Please input Job Description!"}],children:e.jsx(P,{theme:"snow",modules:f,formats:I})})]}),e.jsx(s.Item,{className:"w-[30%] mx-auto",children:e.jsx(Z,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:J,children:"Update Job"})})]})})}):e.jsx(K,{})})};export{le as default};
