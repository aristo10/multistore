import{cL as f,r as p,cN as t,cM as y,cQ as x,cS as h}from"./vendor-3a94a37a.js";import{ea as C,eb as u,ec as D,C as j,U as b,T as g,ed as w}from"./index-ed7845ca.js";import{V as k}from"./ViewBtn-ffc9b5cb.js";import{C as v}from"./CommonDelete-4339174a.js";import{C as N}from"./CreateDrawer-a7af16b9.js";import{F as m,g as A,I,B as Y}from"./vendor-large-f75deccb.js";function F(){const a=f(),[n]=m.useForm(),[i,s]=p.useState(!1),r=async o=>{s(!0);try{(await a(C(o))).payload.message==="success"&&(n.resetFields(),a(u({}))),s(!1)}catch{s(!1)}},d=()=>{s(!1)};return t.jsxs("div",{className:" h-full",children:[t.jsx(A,{level:4,className:"m-3 text-center",children:"Add Department"}),t.jsxs(m,{form:n,name:"basic",layout:"vertical",className:"sm:mx-10",onFinish:r,onFinishFailed:d,children:[t.jsx(m.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter department Name!"}],children:t.jsx(I,{})}),t.jsx(m.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:t.jsx(Y,{type:"primary",htmlType:"submit",shape:"round",loading:i,children:"Create Department"})})]})]})}const E=()=>{const a=f(),{list:n,total:i,loading:s}=y(e=>e.department),[r,d]=p.useState({page:1,count:10,status:"true"}),o=[{id:1,title:"ID",dataIndex:"id",key:"id",render:e=>t.jsx(x,{to:`/admin/hrm/department/${e}`,children:e}),renderCsv:e=>e},{id:2,title:"Name",dataIndex:"name",key:"name",render:(e,{id:l})=>t.jsx(x,{to:`/admin/hrm/department/${l}`,children:e}),renderCsv:e=>e},{id:3,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:e=>h(e).format("YYYY-MM-DD"),renderCsv:e=>h(e).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:({id:e,status:l})=>[{label:t.jsx(k,{title:"View",path:`/admin/hrm/department/${e}`}),key:"view"},{label:t.jsx(v,{values:{id:e,status:l},title:l==="true"?"Hide":"Show",permission:"delete-department",deleteThunk:w,loadThunk:u,query:r,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],c=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return p.useEffect(()=>(a(u(r)),()=>{a(D())}),[a,r]),t.jsx(j,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Departments",extra:t.jsx(N,{permission:"create-department",title:"Create Department",width:35,children:t.jsx(F,{})}),children:t.jsx(b,{permission:"readAll-department",children:t.jsx(g,{total:i,columns:o,list:n,loading:s,filters:c,setPageConfig:d,title:"Department List"})})})};export{E as default};
