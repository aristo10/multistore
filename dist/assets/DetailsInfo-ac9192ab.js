import{cL as D,r as t,cM as m,cN as e,cO as L,cP as r}from"./vendor-3a94a37a.js";import{u as O,l as k,a as B,b as Z,c as E,d as T,e as q,f as M}from"./index-ed7845ca.js";import{F as d,S as R,C as V,a as u,B as h,D as c,b as i,I as a}from"./vendor-large-f75deccb.js";function K({contact:s,contactLoading:f}){const n=D(),[o]=d.useForm(),[b,x]=t.useState(!1),{list:y,loading:I}=m(l=>l.company),{list:g,loading:S}=m(l=>l.contactSource),{list:N,loading:C}=m(l=>l.contactStage),{list:w,loading:P}=m(l=>l.industry),{permissions:p}=O(),A=p==null?void 0:p.includes("update-contact"),v=async l=>{const F={...l,dateOfBirth:l.dateOfBirth,companyId:parseInt(l.companyId),industryId:parseInt(l.industryId),contactSourceId:parseInt(l.contactSourceId),contactStageId:parseInt(l.contactStageId)};(await n(q({id:s.id,values:F}))).payload.message==="success"&&(n(M(s.id)),x(!1))},j=l=>{x(!1),o.resetFields(),console.log("Failed:",l)};return t.useEffect(()=>{n(k()),n(B()),n(Z()),n(E()),n(T({query:"all"}))},[n]),e.jsx(e.Fragment,{children:e.jsx(R,{loading:f,active:!0,children:e.jsx(V,{bordered:!1,headStyle:{display:"none"},bodyStyle:{padding:0},className:"mt-4",children:s&&e.jsx(d,{form:o,colon:!1,disabled:!A,labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}},layout:"inline",onFieldsChange:()=>x(!0),onFinish:v,onFinishFailed:j,initialValues:{dateOfBirth:L(s==null?void 0:s.dateOfBirth)||"",companyId:(s==null?void 0:s.companyId)||"",industryId:(s==null?void 0:s.industryId)||"",contactStageId:(s==null?void 0:s.contactStageId)||"",contactSourceId:(s==null?void 0:s.contactSourceId)||"",department:(s==null?void 0:s.department)||"",linkedin:(s==null?void 0:s.linkedin)||"",twitter:(s==null?void 0:s.twitter)||"",presentAddress:(s==null?void 0:s.presentAddress)||"",presentCity:(s==null?void 0:s.presentCity)||"",presentZipCode:(s==null?void 0:s.presentZipCode)||"",presentState:(s==null?void 0:s.presentState)||"",presentCountry:(s==null?void 0:s.presentCountry)||"",permanentAddress:(s==null?void 0:s.permanentAddress)||"",permanentCity:(s==null?void 0:s.permanentCity)||"",permanentZipCode:(s==null?void 0:s.permanentZipCode)||"",permanentState:(s==null?void 0:s.permanentState)||"",permanentCountry:(s==null?void 0:s.permanentCountry)||"",description:(s==null?void 0:s.description)||""},children:e.jsx(u,{className:"bg-transparent w-full",bordered:!0,children:e.jsx(u.Panel,{header:e.jsx("span",{className:"font-bold text-md dark:text-white",children:"Details"}),extra:e.jsx(e.Fragment,{children:b&&e.jsx(d.Item,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{type:"primary",htmlType:"submit",children:"Save"}),e.jsx(h,{loading:f,type:"danger",onClick:j,children:"Cancel"})]})})}),children:e.jsxs("div",{className:"flex flex-wrap xl:px-10",children:[e.jsxs("div",{className:"w-full xl:w-[50%] flex flex-col gap-2 p-3",children:[e.jsx(d.Item,{label:"Date of birth",name:"dateOfBirth",children:e.jsx(c,{bordered:!1,className:"md:ml-5"})}),e.jsx(d.Item,{className:"flex flex-col",label:"Company",name:"companyId",children:e.jsx(i,{bordered:!1,className:"md:ml-5",loading:I,children:y.map(l=>e.jsx(i.Option,{value:l.id,children:l==null?void 0:l.companyName},l.id))})}),e.jsx(d.Item,{className:"flex flex-col",label:"Industry",name:"industryId",children:e.jsx(i,{bordered:!1,className:"md:ml-5",loading:P,children:w.map(l=>e.jsx(i.Option,{value:l.id,children:l==null?void 0:l.industryName},l.id))})}),e.jsx(d.Item,{className:"flex flex-col",label:"Stage",name:"contactStageId",children:e.jsx(i,{bordered:!1,className:"md:ml-5",loading:C,children:N.map(l=>e.jsx(i.Option,{value:l.id,children:l==null?void 0:l.contactStageName},l.id))})}),e.jsx(d.Item,{className:"flex flex-col",label:"Source",name:"contactSourceId",children:e.jsx(i,{bordered:!1,className:"md:ml-5",loading:S,children:g.map(l=>e.jsx(i.Option,{value:l.id,children:l==null?void 0:l.contactSourceName},l.id))})}),e.jsx(d.Item,{label:"Department",name:"department",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})})]}),e.jsxs("div",{className:"w-full xl:w-[50%] flex flex-col gap-2 p-3",children:[e.jsx("div",{className:"text-lg font-bold py-2 border-b",children:"Social Link"}),e.jsx(d.Item,{label:"Linkedin",name:"linkedin",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Twitter",name:"twitter",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})})]}),e.jsxs("div",{className:"w-full xl:w-[50%] flex flex-col gap-2 p-3",children:[e.jsx("div",{className:"text-lg font-bold py-2 border-b",children:"Present Address"}),e.jsx(d.Item,{label:"Present Street",name:"presentAddress",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Present City",name:"presentCity",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Present ZipCode",name:"presentZipCode",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Present State",name:"presentState",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Present Country",name:"presentCountry",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})})]}),e.jsxs("div",{className:"w-full xl:w-[50%] flex flex-col gap-2 p-3",children:[e.jsx("div",{className:"text-lg font-bold py-2 border-b",children:"Permanent Address"}),e.jsx(d.Item,{label:"Permanent Address",name:"permanentAddress",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Permanent City",name:"permanentCity",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Permanent ZipCode",name:"permanentZipCode",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Permanent State",name:"permanentState",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Permanent Country",name:"permanentCountry",children:e.jsx(a,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})}),e.jsx(d.Item,{label:"Description",name:"description",children:e.jsx(a.TextArea,{bordered:!1,className:"md:ml-5",suffix:e.jsx(r,{})})})]})]})},"1")})})})})})}export{K as D};
