import{cL as S,r as i,cT as D,c_ as I,cM as P,cN as e}from"./vendor-3a94a37a.js";import{b6 as j,C as h,U as r,b7 as B,b8 as L,a$ as O,b9 as U}from"./index-ed7845ca.js";import{F as l,k as f,j as g,I as C,B as T}from"./vendor-large-f75deccb.js";function V(){var p;const n=S(),[o]=l.useForm(),[b,d]=i.useState(),{TextArea:y}=C,{id:a}=D(),A=I(),[m,c]=i.useState(!1),{termsAndConditions:s,loading:_}=P(t=>t.termsAndConditions),u=async t=>{await n(L(t))&&(n(O()),A(-1))},[N,x]=i.useState(""),F=t=>{t.preventDefault(),x(t.target.value)},v=t=>{t.key==="Enter"&&x(s+`
`)},k=async t=>{await n(U({id:a,values:{title:t.title,subject:N}})),d(!1),n(j(a)),c(!1)},w=()=>{d(!1)},E=(p=s==null?void 0:s.subject)==null?void 0:p.replace(/\n/g,"<br/>");return i.useEffect(()=>{o.setFieldValue("subject",s==null?void 0:s.subject),o.setFieldValue("title",s==null?void 0:s.title)},[s]),i.useEffect(()=>{n(j(a))},[n,a]),e.jsxs(e.Fragment,{children:[!m&&e.jsx(h,{title:e.jsxs(e.Fragment,{children:[" ",s==null?void 0:s.title," "]}),extra:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{permission:"update-termsAndCondition",children:e.jsx(f,{onClick:()=>c(!0),className:"bg-gray-600 p-2 text-white rounded-md",style:{fontSize:"15px"}})}),e.jsx(r,{permission:"delete-termsAndCondition",children:e.jsx(g,{onClick:()=>u(a),className:"bg-red-600 p-[10px] text-white rounded-md"})})]}),children:e.jsx("div",{className:"p-4",dangerouslySetInnerHTML:{__html:E}})}),m&&e.jsx(h,{Card:!0,title:e.jsxs(e.Fragment,{children:["ID: ",a," "]}),extra:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{permission:"update-termsAndCondition",children:e.jsx(f,{onClick:()=>{n(B(s))},className:"bg-gray-600 p-2 text-white rounded-md",style:{fontSize:"15px"}})}),e.jsx(r,{permission:"delete-termsAndCondition",children:e.jsx(g,{onClick:()=>u(a),className:"bg-red-600 p-2 text-white rounded-md"})})]}),children:e.jsxs(l,{form:o,layout:"vertical",className:"sm:mx-10",onFinish:k,onFinishFailed:w,autoComplete:"off",labelAlign:"left",children:[e.jsx(l.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please enter title!"}],children:e.jsx(C,{})}),e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Terms And Conditions",name:"subject",rules:[{required:!0,message:"Please input Terms And Conditions!"}],children:e.jsx(y,{rows:5,onChange:F,onKeyPress:v})}),e.jsxs(l.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:[e.jsx(T,{loading:b,onClick:()=>d(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Terms And Conditions"}),e.jsx(T,{onClick:()=>c(!1),className:"ml-5",children:"Close"})]})]})})]})}export{V as default};
