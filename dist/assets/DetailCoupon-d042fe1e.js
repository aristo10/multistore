import{cT as h,c_ as g,cL as p,cM as j,r as d,cN as e,d6 as y,cQ as x,d7 as f,cV as b}from"./vendor-3a94a37a.js";import{p as v,q as N,L as C,an as w,av as S}from"./index-ed7845ca.js";import{V as k}from"./ViewBtn-ffc9b5cb.js";import{C as D,m as L,B as m,k as P,n as V,j as T,o as B}from"./vendor-large-f75deccb.js";function E({list:a,categoryName:l}){const[r,s]=d.useState([]),n=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name",render:(t,{id:o})=>e.jsx(x,{to:`/admin/product-subcategory/${o}`,children:t})},{id:3,title:"action",key:"action",render:({id:t})=>e.jsx(k,{path:`/admin/product-subcategory/${t}`})}];d.useEffect(()=>{s(n)},[]);const u=t=>{s(t)},i=t=>t.map(o=>({...o,key:o.id}));return e.jsx("div",{className:"card card-custom border",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"card-title d-flex justify-content-between",children:[e.jsx("h5",{children:"Product List"}),a&&e.jsx("div",{children:e.jsx(f,{data:a,className:"bg-gray-700 hover:bg-gray-500 text-white font-bold py-1 px-3 rounded mr-2 ",filename:`category_${l}`,children:"Download CSV"})})]}),a&&e.jsx("div",{style:{marginBottom:"30px"},children:e.jsx(w,{options:n,columns:n,columnsToShowHandler:u})}),e.jsx(B,{scroll:{x:!0},loading:!a,columns:r,dataSource:a?i(a):[]})]})})}const q=()=>{const{id:a}=h();let l=g();const r=p(),s=j(c=>c.productCategories.category),n=()=>{try{return r(S(a)),i(!1),b.warning(`Product : ${s.name} is removed `),l("/admin/product-color")}catch{}},[u,i]=d.useState(!1),t=c=>{i(c)};return d.useEffect(()=>(r(v(a)),()=>{r(N())}),[r,a]),!!localStorage.getItem("isLogged")?e.jsx("div",{children:e.jsx("div",{className:"mr-top",children:s?e.jsx(d.Fragment,{children:e.jsxs(D,{bordered:!1,className:"card-custom",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between",style:{padding:0},children:[e.jsx("div",{className:"w-50",children:e.jsxs("h5",{children:[e.jsx(L,{}),e.jsxs("span",{className:"mr-left",children:["ID : ",s.id," | ",s.name]})]})}),e.jsxs("div",{className:"text-end w-50",children:[e.jsx(x,{className:"me-3 d-inline-block",to:`/admin/product-color/${s.id}/update`,state:{data:s},children:e.jsx(m,{type:"primary",shape:"round",icon:e.jsx(P,{})})}),e.jsx(V,{content:e.jsx("a",{onClick:n,children:e.jsx(m,{type:"primary",danger:!0,children:"Yes Please !"})}),title:"Are you sure you want to delete ?",trigger:"click",open:u,onOpenChange:t,children:e.jsx(m,{type:"danger",DetailProductCategory:!0,shape:"round",icon:e.jsx(T,{})})})]})]}),e.jsxs("div",{className:"my-2 table-responsive",children:[e.jsxs("h5",{className:"text-center mb-2",children:["Products under ",e.jsxs("strong",{children:[s.name," "]})]}),e.jsx(E,{list:s==null?void 0:s.productSubCategory,categoryName:s==null?void 0:s.name})]})]})},s.id):e.jsx(C,{})})}):e.jsx(y,{to:"/admin/auth/login",replace:!0})};export{q as default};
