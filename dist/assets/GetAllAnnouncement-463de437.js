import{cL as f,r as c,cN as e,cM as y,cO as p}from"./vendor-3a94a37a.js";import{dY as g,dZ as m,C,U as j,T as A,d_ as b}from"./index-ed7845ca.js";import{C as w}from"./CreateDrawer-a7af16b9.js";import{F as n,I as x,B as k}from"./vendor-large-f75deccb.js";import{C as D}from"./CommonDelete-4339174a.js";function v(){const s=f(),[l,r]=c.useState(),[o]=n.useForm(),a=async d=>{r(!0);try{(await s(g(d))).payload.message==="success"&&(o.resetFields(),s(m({page:1,count:10,status:"true"}))),r(!1)}catch(i){console.log(i)}};return e.jsx("div",{children:e.jsx(n,{form:o,style:{marginBottom:"40px"},eventKey:"shift-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:a,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(n.Item,{style:{marginBottom:"10px"},label:"Title",name:"title",rules:[{required:!0,message:"Please input your title!"}],children:e.jsx(x,{placeholder:"Meeting at 00:00"})}),e.jsx(n.Item,{style:{marginBottom:"20px"},label:"Description",name:"description",rules:[{required:!0,message:"Please input your description!"}],children:e.jsx(x.TextArea,{placeholder:"Description"})}),e.jsx(n.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(k,{type:"primary",size:"large",block:!0,htmlType:"submit",loading:l,children:"Add Announcement"})})]})})})}function N(){const s=f(),{list:l,loading:r,total:o}=y(t=>t.announcement),[a,d]=c.useState({page:1,count:10,status:"true"}),i=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Title",dataIndex:"title",key:"title"},{id:3,title:"Description",dataIndex:"description",key:"description"},{id:3,title:"Created at",dataIndex:"createdAt",key:"addrcreatedAtess",render:t=>p(t).format("YYYY-MM-DD"),renderCsv:t=>p(t).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:({id:t,status:u})=>[{label:e.jsx(D,{values:{id:t,status:u},title:u==="true"?"Hide":"Show",permission:"delete-award",deleteThunk:b,loadThunk:m,query:a,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],h=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return c.useEffect(()=>{s(m(a))},[s,a]),e.jsx(C,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Announcement",extra:e.jsx(w,{permission:"create-announcement",title:"Create Announcement",width:35,children:e.jsx(v,{})}),children:e.jsx(j,{permission:"readAll-announcement",children:e.jsx(A,{total:o,columns:i,list:l,loading:r,setPageConfig:d,title:"Announcement List",filters:h})})})}export{N as default};
