import{cL as p,r as u,cN as t,cM as g,cS as d}from"./vendor-3a94a37a.js";import{d8 as C,d9 as f,b as i,C as h,U as S,T as j,da as E,db as b,dc as y}from"./index-ed7845ca.js";import{C as N}from"./CommonDelete-4339174a.js";import{C as A}from"./CreateDrawer-a7af16b9.js";import{U as T}from"./UpdateDrawer-f5580074.js";import{F as n,I as F,B as k,k as w}from"./vendor-large-f75deccb.js";function m({edit:e}){const[s]=n.useForm(),r=p(),c=async o=>{(await r(e!=null&&e.id?C({id:e==null?void 0:e.id,values:o}):f(o))).payload.message==="success"&&(r(i()),e!=null&&e.id||s.resetFields())},l=o=>{console.log("Failed:",o)};return u.useEffect(()=>{e!=null&&e.id&&s.setFieldsValue({...e==null?void 0:e.values})},[e,s]),t.jsx("div",{className:"flex justify-center mt-5",children:t.jsxs(n,{className:"w-4/5",onFinish:c,onFinishFailed:l,colon:!1,layout:"vertical",form:s,children:[t.jsx(n.Item,{style:{width:"350px"},label:"Contact Stage Name",name:"contactStageName",tooltip:"This is a required field",rules:[{required:!0,message:"Product Name is Required."}],children:t.jsx(F,{placeholder:"Contact stage name"})}),t.jsx(n.Item,{label:"",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(k,{size:"large",htmlType:"submit",type:"primary",children:e!=null&&e.id?"Update":"Create"})})})]})})}function R(){const e=p(),{list:s,loading:r,total:c,edit:l}=g(a=>a.contactStage),o=[{title:"NAME",dataIndex:"contactStageName"},{title:"CREATE DATE",dataIndex:"createdAt",render:a=>d(a).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:a=>d(a).format("ll")},{id:3,title:"",key:"action",render:({id:a,contactStageName:x})=>[{label:t.jsxs("div",{onClick:()=>e(b({id:a,values:{contactStageName:x}})),className:"flex items-center gap-2 cursor-pointer",children:[t.jsx(w,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:t.jsx(N,{id:a,title:"delete",permission:"delete-contactStage",deleteThunk:y,loadThunk:i}),key:"delete"}],csvOff:!0}];return u.useEffect(()=>{e(i())},[e]),t.jsxs(h,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Contact Stage",extra:t.jsx(A,{permission:"create-contactStage",title:"Create Contact Stage",width:35,children:t.jsx(m,{})}),children:[t.jsx(S,{permission:"readAll-contactStage",children:t.jsx(j,{list:s,columns:o,loading:r,total:c,title:"Contact Stage List",isSearch:!1})}),t.jsx(T,{permission:"update-contactStage",title:"Update Contact Stage",width:35,open:l,setClose:E,children:t.jsx(m,{edit:l})})]})}export{R as default};
