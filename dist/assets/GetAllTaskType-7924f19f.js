import{cL as c,r as m,cN as s,cM as y,cS as p}from"./vendor-3a94a37a.js";import{dD as x,dE as f,I as T,C as h,U as k,T as j,dF as C,dG as E,dl as A,B as N}from"./index-ed7845ca.js";import{C as b}from"./CommonDelete-4339174a.js";import{C as w}from"./CreateDrawer-a7af16b9.js";import{U as D}from"./UpdateDrawer-f5580074.js";import{F as o,I,B as g,k as v}from"./vendor-large-f75deccb.js";function d({edit:e}){const[t]=o.useForm(),l=c(),i=async r=>{(await l(e!=null&&e.id?x({id:e==null?void 0:e.id,values:r}):f(r))).payload.message==="success"&&(l(T()),e!=null&&e.id||t.resetFields())};return m.useEffect(()=>{e!=null&&e.id&&t.setFieldsValue(e.values)},[e,t]),s.jsx("div",{className:"flex justify-center mt-5",children:s.jsxs(o,{className:"w-4/5",onFinish:i,colon:!1,layout:"vertical",form:t,children:[s.jsx(o.Item,{style:{width:"350px"},label:"Task Type Name",name:"taskTypeName",tooltip:"This is a required field",rules:[{required:!0,message:"This is a required field."}],children:s.jsx(I,{placeholder:"Task Type name"})}),s.jsx(o.Item,{label:"",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(g,{size:"large",htmlType:"submit",type:"primary",children:e!=null&&e.id?"Update":"Create"})})})]})})}function G(){const e=c(),{list:t,loading:l,total:i,edit:r}=y(a=>a.taskType),n=[{title:"NAME",dataIndex:"taskTypeName"},{title:"CREATE DATE",dataIndex:"createdAt",render:a=>p(a).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:a=>p(a).format("ll")},{id:3,title:"",key:"action",render:({id:a,taskTypeName:u})=>[{label:s.jsxs("div",{onClick:()=>e(E({id:a,values:{taskTypeName:u}})),className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(v,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:s.jsx(b,{id:a,title:"delete",permission:"delete-crmTaskType",deleteThunk:A,loadThunk:N}),key:"delete"}],csvOff:!0}];return m.useEffect(()=>{e(T())},[e]),s.jsxs(h,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Task Type",extra:s.jsx(w,{permission:"create-crmTaskType",title:"Create Task Type",width:35,children:s.jsx(d,{})}),children:[s.jsx(k,{permission:"readAll-crmTaskType",children:s.jsx(j,{list:t,columns:n,loading:l,total:i,title:"Task Type List",isSearch:!1})}),s.jsx(D,{permission:"update-crmTaskType",title:"Update Task Type",width:35,open:r,setClose:C,children:s.jsx(d,{edit:r})})]})}export{G as default};
