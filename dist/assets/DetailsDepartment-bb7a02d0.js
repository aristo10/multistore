import{cL as u,r as l,cT as f,cM as h,cN as e}from"./vendor-3a94a37a.js";import{e7 as j,e8 as g,e9 as y,U as b,L as D}from"./index-ed7845ca.js";import{V as F}from"./ViewBtn-ffc9b5cb.js";import{T as I}from"./TableNoPagination-b00b3edd.js";import{F as o,C as N,I as C,B as E,k,M as v}from"./vendor-large-f75deccb.js";const w=({handleCancel:s})=>{const a=u(),[t]=o.useForm(),[c,n]=l.useState(!1),{id:r}=f(),{department:m}=h(i=>i.department),d=async i=>{await a(j({id:r,values:i})),await a(g(r)),s(),n(!1)},p=()=>{n(!1)};return l.useEffect(()=>{t.setFieldValue("name",m.name)},[m]),e.jsx(l.Fragment,{children:e.jsx(N,{bordered:!1,className:"h-full",children:e.jsxs(o,{form:t,className:"",onFinish:d,onFinishFailed:p,children:[e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please enter department name!"}],children:e.jsx(C,{})}),e.jsx(o.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:e.jsx(E,{type:"primary",htmlType:"submit",shape:"round",loading:c,onClick:()=>n(!0),children:"Update Department"})})]})})})},M=w;function T(){const s=u(),{id:a}=f(),{department:t,loading:c}=h(x=>x.department),[n,r]=l.useState(!1),m=()=>{r(!0)},d=()=>{r(!1)},p=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"username",key:"username"},{id:6,title:"action",key:"Action",render:({id:x})=>e.jsx(F,{path:`/admin/hrm/staff/${x}`})}];l.useEffect(()=>(s(g(a)),()=>{s(y())}),[s,a]);const i=e.jsx(e.Fragment,{children:e.jsx("h5",{className:"text-lg",children:"Employee List"})});return e.jsxs("div",{children:[e.jsx("div",{className:"mr-top",children:t?e.jsxs(N,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"md:flex flex justify-between md:mb-8 items-center gap-2",children:[e.jsx("h5",{className:"flex items-center",children:e.jsx("span",{className:"mr-left",children:t.name})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(b,{permission:"update-department",children:e.jsx(k,{onClick:()=>{s(j()),m()},className:"bg-gray-600 p-3 text-white rounded-md"})})})]}),e.jsx(I,{loading:c,list:t==null?void 0:t.user,columns:p,csvFileName:t.name,rightElement:i})]},t.id):e.jsx(D,{})}),e.jsx(v,{title:"Update Department",open:n,onCancel:d,footer:!1,children:e.jsx(M,{handleCancel:d})})]})}export{T as default};
