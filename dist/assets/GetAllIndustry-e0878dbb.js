import{cL as u,r as p,cN as e,cM as x,cS as c}from"./vendor-3a94a37a.js";import{c_ as f,c$ as h,c as d,C as I,U as j,T as C,d0 as E,d1 as A,d2 as N}from"./index-ed7845ca.js";import{C as T}from"./CommonDelete-4339174a.js";import{C as b}from"./CreateDrawer-a7af16b9.js";import{U as k}from"./UpdateDrawer-f5580074.js";import{F as n,I as v,B as w,k as g}from"./vendor-large-f75deccb.js";function m({edit:s}){const[r]=n.useForm(),l=u(),o=async t=>{(await l(s!=null&&s.id?f({id:s==null?void 0:s.id,values:t}):h(t))).payload.message==="success"&&(l(d()),s!=null&&s.id||r.resetFields())};return p.useEffect(()=>{s!=null&&s.id&&r.setFieldsValue({...s==null?void 0:s.values})},[s,r]),e.jsx("div",{className:"flex justify-center mt-5",children:e.jsxs(n,{className:"w-4/5",onFinish:o,colon:!1,layout:"vertical",initialValues:s!=null&&s.id?{...s==null?void 0:s.values}:{},form:r,children:[e.jsx(n.Item,{style:{width:"350px"},label:"Industry Name",name:"industryName",tooltip:"This is a required field",rules:[{required:!0,message:"Field Required."}],children:e.jsx(v,{placeholder:"Company Type name"})}),e.jsx(n.Item,{label:"",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(w,{size:"large",htmlType:"submit",type:"primary",children:s!=null&&s.id?"Update":"Create"})})})]})})}function B(){const s=u(),{list:r,loading:l,total:o,edit:t}=x(a=>a.industry),i=[{title:"NAME",dataIndex:"industryName"},{title:"CREATE DATE",dataIndex:"createdAt",render:a=>c(a).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:a=>c(a).format("ll")},{id:3,title:"",key:"action",render:({id:a,industryName:y})=>[{label:e.jsxs("div",{onClick:()=>s(A({id:a,values:{industryName:y}})),className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(g,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:e.jsx(T,{id:a,title:"delete",permission:"delete-industry",deleteThunk:N,loadThunk:d}),key:"delete"}],csvOff:!0}];return p.useEffect(()=>{s(d())},[s]),e.jsxs(I,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Industry",extra:e.jsx(b,{permission:"create-industry",title:"Create Industry",width:35,children:e.jsx(m,{})}),children:[e.jsx(j,{permission:"readAll-industry",children:e.jsx(C,{list:r,columns:i,loading:l,total:o,title:"Industry List",isSearch:!1})}),e.jsx(k,{permission:"update-industry",title:"Update Industry",width:35,open:t,setClose:E,children:e.jsx(m,{edit:t})})]})}export{B as default};
