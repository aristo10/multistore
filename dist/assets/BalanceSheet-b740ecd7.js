import{cM as u,cN as e,cL as S,r as j}from"./vendor-3a94a37a.js";import{aX as L,bG as F,L as w}from"./index-ed7845ca.js";import{a as T}from"./accountInvoiceGenerator-f2ac8776.js";import{u as C}from"./useCurrency-4b14dd3d.js";import{C as q,b as N}from"./vendor-large-f75deccb.js";function E({data:t,title:l,store:i}){var h,g,y;const{currencyName:n}=C()||{},d=u(c=>{var p;return(p=c==null?void 0:c.setting)==null?void 0:p.data})||null,a=[],m=[],b=[{header:"Account",dataKey:"subAccount"},{header:"Amount",dataKey:"balance"}],r=((h=t==null?void 0:t.assets)==null?void 0:h.map(c=>({subAccount:c.subAccount,balance:c.balance})))||[],x=((g=t==null?void 0:t.liabilities)==null?void 0:g.map(c=>({subAccount:c.subAccount,balance:c.balance})))||[],s=((y=t==null?void 0:t.equity)==null?void 0:y.map(c=>({subAccount:c.subAccount,balance:c.balance})))||[],o=[{subAccount:"Assets"},...r,{subAccount:"Total",balance:t==null?void 0:t.totalAsset.toFixed(3)},{subAccount:"Liabilities"},...x,{subAccount:"Total",balance:t==null?void 0:t.totalLiability.toFixed(3)},{subAccount:"Equity"},...s,{subAccount:"Total",balance:t==null?void 0:t.totalEquity.toFixed(3)},{subAccount:"Total Liabilities and Equity",balance:((t==null?void 0:t.totalEquity)+(t==null?void 0:t.totalLiability)).toFixed(3)}],f=[{value:`Date: ${new Date().toLocaleDateString()}`},i?{value:`Store: ${i}`}:{},{value:`Currency: ${n}`}],A=[],v={jsPDF:{},tableFontSize:10,infoTopFontSize:10,bottomRightFontSize:10,bottomLeftFontSize:8,footerFontSize:10};return e.jsx("div",{className:"flex gap-2",children:e.jsx(L,{color:"gray",onClick:()=>T("print",{title:l,TopRightInfo:A,companyInfo:d,customerInfo:f,bottomLeftContent:a,bottomRightContent:m,tableBody:o,tableHead:b,settings:v,leftBottomSecondColumnX:45}),children:"Print"})})}const O=()=>{const t=S(),[l,i]=j.useState({query:"bs"}),{list:n,loading:d,defaultStore:a}=u(s=>s.store),m=(s,o)=>{i({...l,[o]:s})};let b=null;n&&l.storeId&&(b=n.filter(o=>l.storeId.includes(o.id)).map(o=>o.name).join(", "));const{balanceSheet:r,loading:x}=u(s=>s==null?void 0:s.accounts)||null;return j.useEffect(()=>{t(F(l))},[t,l]),e.jsx(e.Fragment,{children:e.jsx(q,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"card-title flex justify-between items-center mb-2",children:[e.jsxs("h5",{className:"text-xl mb-3 flex gap-2",children:[e.jsx("span",{className:"ml-2",children:"Balance Sheet"}),e.jsx("div",{className:"filterTag min-w-[120px] max-w-[150px]",children:e.jsx(N,{placeholder:"Select Store",className:"",loading:d,defaultValue:a==null?void 0:a.id,mode:"multiple",showSearch:!1,style:{width:"100%"},maxTagPlaceholder:s=>e.jsxs("div",{className:"",children:[s.length," Selected"]}),maxTagCount:0,onChange:s=>m(s,"storeId"),children:n.map(s=>e.jsx(N.Option,{value:s.id,children:s.name},s.id))})})]}),r&&e.jsx(E,{data:r,title:"Balance Sheet",store:b})]}),!x&&e.jsx("div",{className:"w-full shadow bg-white rounded",children:e.jsx("div",{className:"border-gray-200 w-full rounded bg-white overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("div",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:"Assets"}),e.jsx("thead",{className:"text-gray-600 text-[13px]  font-bold border-gray tracking-wider text-left px-5 py-3 hover:cursor-pointer uppercase border-b-2 border-gray-200",children:e.jsxs("tr",{className:"border-b border-gray",children:[e.jsx("th",{scope:"col",className:"text-gray-200 border-gray border-b-2 border-t-2 border-gray-200 py-3 px-3 bg-gray-900 text-left font-semibold uppercase tracking-wider",children:"Account"}),e.jsx("th",{scope:"col",className:"text-gray-200 border-gray border-b-2 border-t-2 border-gray-200 py-3 px-3 bg-gray-900 text-left font-semibold uppercase tracking-wider",children:"Amount"})]})}),e.jsxs("tbody",{children:[r&&(r==null?void 0:r.assets.map((s,o)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},o))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsxs("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:[" ",e.jsx("strong",{children:"TOTAL"})]}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:(r==null?void 0:r.totalAsset.toFixed(3))||""})})]}),e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:[" ","Liabilities"]}),r&&(r==null?void 0:r.liabilities.map((s,o)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},o))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:"TOTAL"})}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:(r==null?void 0:r.totalLiability)||""})})]}),e.jsxs("h5",{className:"mt-2 mb-1 ml-2 font-semibold text-base",children:[" ","Equity"]}),r&&(r==null?void 0:r.equity.map((s,o)=>e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.subAccount}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:s.balance?Number(s.balance).toFixed(3):""})]},o))),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:"TOTAL"})}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:(r==null?void 0:r.totalEquity.toFixed(3))||""})})]}),e.jsxs("tr",{className:"hover:bg-gray-100 hover:cursor-pointer",children:[e.jsxs("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:[" ",e.jsx("strong",{children:"Total Liability and Equity"})]}),e.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-gray-900 text-sm",children:e.jsx("strong",{children:((r==null?void 0:r.totalEquity)+(r==null?void 0:r.totalLiability)).toFixed(3)||""})})]})]})]})})}),x&&e.jsx(w,{})]})})})};export{O as default};
