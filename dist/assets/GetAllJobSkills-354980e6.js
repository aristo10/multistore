import{cL as h,r as d,cM as g,cN as e}from"./vendor-3a94a37a.js";import{gq as N,gr as j,bm as C,gs as w,C as v,U as k,T as B,gt as F,gu as E}from"./index-ed7845ca.js";import{C as A}from"./CreateDrawer-a7af16b9.js";import{C as L}from"./CommonDelete-4339174a.js";import{F as o,b as x,I as S,B as f,M as q,k as M}from"./vendor-large-f75deccb.js";const O=()=>{const a=h(),{Option:r}=x,[c]=o.useForm(),[i,n]=d.useState(!1),{list:m,loading:p}=g(l=>l.jobCategory),u=async l=>{n(!0);try{(await a(N(l))).payload.message==="success"&&(c.resetFields(),a(j({page:1,count:10,status:"true"}))),n(!1)}catch{}};return e.jsx(o,{style:{marginBottom:"40px"},form:c,eventKey:"jobSkills-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:u,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Job Category",name:"jobCategoryId",rules:[{required:!0,message:"please Input Job Category!"}],children:e.jsx(x,{loading:p,size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select Job Category",children:m&&m.map(l=>e.jsx(r,{value:l.id,children:l.jobCategoryName},l.id))})}),e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Job Skill",name:"jobSkillName",rules:[{required:!0,message:"please Input Job Skill"}],children:e.jsx(S,{placeholder:"React.js"})}),e.jsx(o.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(f,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:i,children:"Add Job Skills"})})]})})},T=O,U=({handleCancel:a})=>{const r=h(),{Option:c}=x,[i]=o.useForm(),[n,m]=d.useState(!1),{list:p,loading:u}=g(t=>t.jobCategory),{edit:l}=g(t=>t.jobSkills),b=async t=>{m(!0);try{(await r(w({id:l.id,values:t}))).payload.message==="success"&&(a(),r(j({page:1,count:10,status:"true"}))),m(!1)}catch{}};return d.useEffect(()=>{i.setFieldValue("jobCategoryId",l.jobCategoryId),i.setFieldValue("jobSkillName",l.jobSkillName)},[i,l]),d.useEffect(()=>{r(C())},[r]),e.jsx(o,{style:{marginBottom:"40px"},form:i,eventKey:"jobSkills-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:b,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Job Category",name:"jobCategoryId",rules:[{required:!0,message:"please Input Job Category!"}],children:e.jsx(x,{loading:u,size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select Job Category",children:p&&p.map(t=>e.jsx(c,{value:t.id,children:t.jobCategoryName},t.id))})}),e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Job Skill",name:"jobSkillName",rules:[{required:!0,message:"please Input Job Skill"}],children:e.jsx(S,{placeholder:"React.js"})}),e.jsx(o.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(f,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:n,children:"Update Job Skills"})})]})})},P=U;function V(){const a=h(),{list:r,loading:c,total:i}=g(s=>s.jobSkills),{list:n,loading:m}=g(s=>s.jobCategory),[p,u]=d.useState(!1),[l,b]=d.useState({page:1,count:10,status:"true"}),t=()=>{u(!0)},y=()=>{u(!1)},J=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Job Category",dataIndex:"jobCategory",key:"jobCategory",render:s=>s.jobCategoryName,renderCsv:s=>s.jobCategoryName},{id:2,title:"Skill",dataIndex:"jobSkillName",key:"jobSkillName"},{id:4,title:"",key:"action",render:s=>[{label:e.jsx(k,{permission:"update-jobSkills",children:e.jsxs("div",{onClick:()=>{a(F(s)),t()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(M,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(L,{values:{id:s.id,status:s.status},title:s.status==="true"?"Hide":"Show",permission:"delete-jobSkills",deleteThunk:E,loadThunk:j,query:l,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],I=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"jobCategoryId",label:"Job Category",type:"select",options:n==null?void 0:n.map(s=>({label:s==null?void 0:s.jobCategoryName,value:s==null?void 0:s.id})),className:"min-w-[140px] max-w-[150px]",popupClassName:"w-[200px]"}];return d.useEffect(()=>{a(j(l))},[a,l]),d.useEffect(()=>{a(C())},[a]),e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Job Skills",extra:e.jsx(A,{permission:"create-jobSkills",title:"Create Job Skills",width:30,children:e.jsx(T,{})}),children:e.jsx(k,{permission:"readAll-jobSkills",children:e.jsx(B,{total:i,columns:J,list:r,loading:c,filters:I,setPageConfig:b,title:"Job Skills List",isSearch:!0})})}),e.jsx(q,{title:"Update Job Skills",open:p,onCancel:y,footer:!1,children:e.jsx(P,{handleCancel:y})})]})}export{V as default};
