import{cL as h,r as m,cN as e,cM as C}from"./vendor-3a94a37a.js";import{eV as p,eW as S,eX as N,cS as F,C as I,U as f,T as k,eY as v,eZ as w}from"./index-ed7845ca.js";import{C as A}from"./CommonDelete-4339174a.js";import{C as T}from"./CreateDrawer-a7af16b9.js";import{U as q}from"./UploadMany-c4472299.js";import{F as r,I as x,B as j,C as D,f as M,M as P,k as U}from"./vendor-large-f75deccb.js";function E(){const t=h(),{Title:c}=M,[s]=r.useForm(),[i,a]=m.useState(!1),l=()=>{a(!0)},o=async u=>{try{(await t(S(u))).payload.message==="success"&&(a(!1),s.resetFields(),t(p({status:!0,page:1,count:10})))}catch{a(!1)}},d=()=>{a(!1)};return e.jsx(m.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(c,{level:4,className:"m-2 text-center",children:"Create Currency"}),e.jsxs(r,{form:s,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:o,onFinishFailed:d,labelAlign:"left",children:[e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Currency name",name:"currencyName",rules:[{required:!0,message:"Please input currency name!"}],children:e.jsx(x,{size:"small",placeholder:"e.g. Dollar"})}),e.jsx(r.Item,{label:"Symbol",required:!0,name:"currencySymbol",rules:[{required:!0,message:"Please input currency Symbol!"}],children:e.jsx(x,{size:"small",placeholder:"e.g. $"})}),e.jsx(r.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(j,{loading:i,type:"primary",htmlType:"submit",shape:"round",onClick:l,children:"Create Currency"})})]}),e.jsxs(D,{title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),className:"mt-5",children:[e.jsx(c,{level:4,className:"m-2 text-center",children:"Import From CSV"}),e.jsx(q,{title:"Demo Currency",demoData:[["currencyName","currencySymbol"],["TAKA","&#2547;"],["EURO","&#8364;"],["DOLLAR","&#36;"]],urlPath:"currency",loadAllThunk:p,query:{page:1,count:10,status:!0}})]})]})})}function L({handleCancel:t}){const c=h(),{edit:s}=C(u=>u.currency),[i]=r.useForm(),[a,l]=m.useState(),o=async u=>{await c(N({id:s.id,values:u})),t(),l(!1),c(F())},d=()=>{l(!1)};return m.useEffect(()=>{i.setFieldValue("currencyName",s.currencyName),i.setFieldValue("currencySymbol",s.currencySymbol)},[s]),e.jsx(e.Fragment,{children:e.jsxs(r,{form:i,layout:"vertical",className:"sm:mx-10",onFinish:o,onFinishFailed:d,autoComplete:"off",labelAlign:"left",children:[e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Currency name",name:"currencyName",rules:[{required:!0,message:"Please input currency name!"}],children:e.jsx(x,{size:"small"})}),e.jsx(r.Item,{label:"Symbol",required:!0,name:"currencySymbol",rules:[{required:!0,message:"Please input currency symbol!"}],children:e.jsx(x,{size:"small"})}),e.jsx(r.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(j,{loading:a,onClick:()=>l(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Currency"})})]})})}function _(){const t=h(),{list:c,total:s,loading:i}=C(n=>n.currency),[a,l]=m.useState(!1),[o,d]=m.useState({page:1,count:10,status:"true"}),u=()=>{l(!0)},y=()=>{l(!1)},g=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"currencyName",key:"currencyName"},{id:3,title:"Symbol",dataIndex:"currencySymbol",key:"currencySymbol",render:n=>e.jsx("span",{dangerouslySetInnerHTML:{__html:n}}),csvOff:!0},{id:4,title:"",key:"action",render:n=>[{label:e.jsx(f,{permission:"update-currency",children:e.jsxs("div",{onClick:()=>{t(v(n)),u()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(U,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(A,{values:{id:n.id,status:n.status},title:n.status==="true"?"Hide":"Show",permission:"delete-currency",deleteThunk:w,loadThunk:p,query:o,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],b=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return m.useEffect(()=>{t(p(o))},[t,o]),e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Currency",extra:e.jsx(T,{permission:"create-currency",title:"Create Currency",width:35,children:e.jsx(E,{})}),children:e.jsx(f,{permission:"readAll-currency",children:e.jsx(k,{total:s,columns:g,list:c,loading:i,setPageConfig:d,title:"Currency list",filters:b,isSearch:!0})})}),e.jsx(P,{title:"Update Currency",open:a,onCancel:y,footer:!1,children:e.jsx(L,{handleCancel:y})})]})}export{_ as default};
