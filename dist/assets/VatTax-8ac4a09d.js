import{cL as j,r,cM as u,cN as e,cS as f}from"./vendor-3a94a37a.js";import{fS as C,fT as v,fU as h,fV as b,C as V,U as g,T as k,fW as w,fX as I}from"./index-ed7845ca.js";import{C as F}from"./CommonDelete-4339174a.js";import{C as N}from"./CreateDrawer-a7af16b9.js";import{A as S}from"./AddVatTax-97a0925d.js";import{F as o,C as M,I as A,h as D,B as Y,M as E,k as P}from"./vendor-large-f75deccb.js";const U=({handleCancel:a})=>{const c=j(),[l]=o.useForm(),[m,n]=r.useState(!1),{edit:s}=u(d=>d.vatTax),i=async d=>{await c(C({id:s.id,values:d})),a(),n(!1)},x=()=>{n(!1)};return r.useEffect(()=>{l.setFieldValue("title",s.title),l.setFieldValue("percentage",s.percentage)},[s]),e.jsx(r.Fragment,{children:e.jsx(M,{bordered:!1,className:"h-full",children:e.jsxs(o,{form:l,layout:"vertical",onFinish:i,onFinishFailed:x,children:[e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Title",name:"title",rules:[{required:!0,message:"Please enter vat/tax type name!"}],children:e.jsx(A,{})}),e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Percentage",name:"percentage",rules:[{required:!0,message:"Please enter vat/tax percentage name!"}],children:e.jsx(D,{className:"w-full"})}),e.jsx(o.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:e.jsx(Y,{type:"primary",htmlType:"submit",shape:"round",loading:m,onClick:()=>n(!0),children:"Update Vat/Tax Type"})})]})})})},B=()=>{const a=j(),{list:c,total:l,loading:m}=u(t=>t.vatTax);u(t=>t.vatTax.statement);const[n,s]=r.useState(!1),[i,x]=r.useState({page:1,count:10,status:"true"}),d=()=>{s(!0)},p=()=>{s(!1)},y=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Title",dataIndex:"title",key:"title"},{id:3,title:"Percentage",dataIndex:"percentage",key:"percentage",render:t=>`${t}%`,renderCsv:t=>`${t}%`},{id:3,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:t=>f(t).format("YYYY-MM-DD"),renderCsv:t=>f(t).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:t=>[{label:e.jsx(g,{permission:"update-vat",children:e.jsxs("div",{className:"flex items-center justify-start gap-2 cursor-pointer",onClick:()=>{a(w(t)),d()},children:[e.jsx(P,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(F,{values:{id:t.id,status:t.status},title:t.status==="true"?"Hide":"Show",permission:"delete-vat",deleteThunk:I,loadThunk:h,query:i,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],T=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return r.useEffect(()=>{a(v())},[a]),r.useEffect(()=>(a(h(i)),()=>{a(b())}),[a,i]),e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Vat Tax List",extra:e.jsx(N,{permission:"create-vat",title:"Create Vat Type",width:35,children:e.jsx(S,{})}),children:e.jsx(g,{permission:"readAll-vat",children:e.jsx(k,{total:l,columns:y,list:c,loading:m,setPageConfig:x,title:"Vat Tax List",filters:T,isSearch:!0})})}),e.jsx(E,{title:"Update vat/tax type",open:n,onCancel:p,footer:!1,children:e.jsx(U,{handleCancel:p})})]})},R=()=>e.jsx(e.Fragment,{children:e.jsx(B,{})});export{R as default};
