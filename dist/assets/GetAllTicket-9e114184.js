import{cN as t,cL as p,cM as l,r,cQ as i}from"./vendor-3a94a37a.js";import{dT as f,dX as v,C as j,U as g,T as b}from"./index-ed7845ca.js";import{d as n,T as w}from"./vendor-large-f75deccb.js";const k=()=>t.jsxs("div",{className:"box-border relative z-30 inline-flex items-center justify-center w-auto px-8 py-3 overflow-hidden font-bold text-white transition-all duration-300 bg-violet-600 rounded-md cursor-pointer group ring-offset-2 ring-1 ring-violet-300 ring-offset-violet-200 hover:ring-offset-violet-500 ease focus:outline-none",children:[t.jsx("span",{className:"absolute bottom-0 right-0 w-8 h-20 -mb-8 -mr-5 transition-all duration-300 ease-out transform rotate-45 translate-x-1 bg-white opacity-10 group-hover:translate-x-0"}),t.jsx("span",{className:"absolute top-0 left-0 w-20 h-8 -mt-1 -ml-12 transition-all duration-300 ease-out transform -rotate-45 -translate-x-1 bg-white opacity-10 group-hover:translate-x-0"}),t.jsxs("span",{className:"relative z-20 flex items-center text-sm",children:[t.jsx("svg",{className:"relative w-5 h-5 mr-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Create Support Ticket"]})]}),C=k;function y(){const s=p(),{list:d,loading:c,total:m}=l(e=>e.ticket),{list:a}=l(e=>e.ticketStatus),[o,x]=r.useState({page:1,count:10}),u=[{title:"ID",key:"ticketId",dataIndex:"ticketId",render:e=>t.jsx(i,{to:`/admin/crm/ticket/${e}`,children:e}),renderCsv:e=>e},{title:"Subject",key:"subject",dataIndex:"subject"},{title:"Category",key:"ticketCategory",dataIndex:"ticketCategory",render:e=>t.jsx(n,{color:"blue",children:e==null?void 0:e.ticketCategoryName}),renderCsv:e=>e==null?void 0:e.ticketCategoryName},{title:"Status",dataIndex:"ticketStatus",key:"ticketStatus",render:e=>t.jsx(n,{color:"red",children:e==null?void 0:e.ticketStatusName}),renderCsv:e=>e==null?void 0:e.ticketStatusName},{title:"priority",key:" priority",dataIndex:"priority",render:e=>t.jsx(n,{color:"green",children:e==null?void 0:e.name}),renderCsv:e=>e==null?void 0:e.name},{title:"Resolve Time",key:"resolveTime",dataIndex:"ticketResolveTime",render:e=>t.jsx(w,{title:"Resolve Time",children:Math.floor(e/60)+":"+e%60})}],h=[{key:"ticketStatus",label:"Status",type:"select",options:a==null?void 0:a.map(e=>({label:e.ticketStatusName,value:e.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return r.useEffect(()=>{s(f())},[s]),r.useEffect(()=>{s(v(o))},[s,o]),t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center items-center mt-5 mb-8",children:t.jsx(i,{to:"/admin/crm/ticket/create",children:t.jsx(C,{})})}),t.jsx(j,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Ticket",children:t.jsx(g,{permission:"readAll-ticket",children:t.jsx(b,{list:d,columns:u,loading:c,total:m,setPageConfig:x,title:"Ticket List",isSearch:!0,filters:h})})})]})}export{y as default};
