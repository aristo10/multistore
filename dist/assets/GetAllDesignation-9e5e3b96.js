import{cL as h,r as g,cN as e,cM as j,cQ as p}from"./vendor-3a94a37a.js";import{ee as r,ef as y,eg as C,C as b,U as x,T as D,eh as N}from"./index-ed7845ca.js";import{V as k}from"./ViewBtn-ffc9b5cb.js";import{C as w}from"./CommonDelete-4339174a.js";import{U as v}from"./UploadMany-c4472299.js";import{C as F}from"./CreateDrawer-a7af16b9.js";import{F as l,I as S,B as T,C as I,f as A,k as E}from"./vendor-large-f75deccb.js";const L=()=>{const a=h(),{Title:d}=A,[m,s]=g.useState(!1),i=()=>{s(!0)},[o]=l.useForm(),c=async t=>{try{(await a(y(t))).payload.message==="success"?(s(!1),o.resetFields(),a(r({page:1,count:10,status:!0}))):s(!1)}catch{s(!1)}},u=()=>{s(!1)};return e.jsx(e.Fragment,{children:e.jsxs(F,{permission:"create-designation",title:"Create Designation",width:35,children:[e.jsxs("div",{className:"h-full ",children:[e.jsx(d,{level:4,className:"text-center",children:"Create New Designation"}),e.jsxs(l,{form:o,name:"basic",initialValues:{remember:!0},onFinish:c,onFinishFailed:u,autoComplete:"off",layout:"vertical",className:"sm:mx-10",children:[e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input designation name!"}],children:e.jsx(S,{})}),e.jsx(l.Item,{style:{marginBottom:"10px",textAlign:"center"},children:e.jsx(T,{onClick:i,type:"primary",htmlType:"submit",shape:"round",loading:m,children:"Create New designation"})})]})]}),e.jsx(I,{className:"mt-5",title:e.jsx("span",{className:"text-center font-bold",children:"Import From CSV"}),children:e.jsx(v,{title:"Demo Designation",demoData:[["name"],["Manager"],["Sales man"],["Employee"]],urlPath:"designation",loadAllThunk:r,query:{page:1,count:10,status:!0}})})]})})},H=()=>{const a=h(),{list:d,total:m,loading:s}=j(t=>t.designations),[i,o]=g.useState({page:1,count:10,status:"true"}),c=[{id:1,title:"ID",dataIndex:"id",key:"id",render:t=>e.jsx(p,{to:`/admin/hrm/designation/${t}`,children:t}),renderCsv:t=>t},{id:2,title:"Name",dataIndex:"name",key:"name",render:(t,{id:n})=>e.jsx(p,{to:`/admin/hrm/designation/${n}`,children:t}),renderCsv:t=>t||"N/A"},{id:3,title:"",key:"action",render:({id:t,status:n,name:f})=>[{label:e.jsx(k,{title:"View",path:`/admin/hrm/designation/${t}`}),key:"view"},{label:e.jsx(x,{permission:"update-designation",children:e.jsxs(p,{to:`/admin/hrm/designation/${t}/update`,state:{data:{name:f}},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(E,{className:" rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(w,{values:{id:t,status:n},title:n==="true"?"Hide":"Show",permission:"delete-designation",deleteThunk:N,loadThunk:r,query:i,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],u=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return g.useEffect(()=>(a(r(i)),()=>{a(C())}),[a,i]),e.jsx(b,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Designations",extra:e.jsx(L,{}),children:e.jsx(x,{permission:"readAll-designation",children:e.jsx(D,{list:d,total:m,loading:s,columns:c,setPageConfig:o,paginatedThunk:r,title:"Designation List",filters:u,isSearch:!0})})})};export{H as default};
