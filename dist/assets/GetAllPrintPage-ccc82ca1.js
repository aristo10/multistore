import{cL as y,r as t,cN as e,cM as M}from"./vendor-3a94a37a.js";import{cg as T,ch as P,ci as q,C as A,U as S,T as E,cj as H}from"./index-ed7845ca.js";import{C as O}from"./CommonDelete-4339174a.js";import{C as W}from"./CreateDrawer-a7af16b9.js";import{A as B}from"./AddPrintPage-4c75e243.js";import{F as l,k as D,M as L,I as V,h as N,B as G}from"./vendor-large-f75deccb.js";function R({data:r,id:p}){const u=y(),{pageSizeName:o,width:s,height:c}=r,[h]=l.useForm(),[g,a]=t.useState(!1),[x,i]=t.useState(!1),[d,m]=t.useState(o),[f,C]=t.useState(s),[j,w]=t.useState(c),[b,k]=t.useState({pageSizeName:o,width:s,height:c}),I=()=>{i(!0)},z=()=>{i(!1)},v=()=>{i(!1)},U=async()=>{await u(T({id:p,data:{pageSizeName:d,width:f,height:j}})),i(!1),a(!1),k({pageSizeName:d,width:f,height:j})},F=()=>{a(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:I,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(D,{className:"gray-600 p-1 rounded-md"}),"Edit"]}),e.jsx(L,{title:"Edit Print Page",open:x,onOk:z,onCancel:v,footer:!1,children:e.jsxs(l,{form:h,layout:"vertical",className:"sm:mx-10",initialValues:{...b},onFinish:U,onFinishFailed:F,autoComplete:"off",labelAlign:"left",children:[e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Page Size Name",name:"pageSizeName",onChange:n=>m(n.target.value),rules:[{required:!0,message:"Please input page size name!"}],children:e.jsx(V,{placeholder:"page name"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(l.Item,{label:"Width",required:!0,className:"w-1/2",name:"width",onChange:n=>C(n.target.value),rules:[{required:!0,message:"Please input Page Width!"}],children:e.jsx(N,{placeholder:"Input width in inches"})}),e.jsx(l.Item,{label:"Height",required:!0,className:"w-1/2",name:"height",onChange:n=>w(n.target.value),rules:[{required:!0,message:"Please input page height!"}],children:e.jsx(N,{placeholder:"Input height in inches"})})]}),e.jsx(l.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(G,{loading:g,onClick:()=>a(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Print Page"})})]})})]})}function _(){const r=y(),{list:p,loading:u,total:o}=M(a=>a.print),[s,c]=t.useState({page:1,count:10,status:"true"}),h=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Page Size",dataIndex:"pageSizeName",key:"pageSizeName"},{id:3,title:"Width",dataIndex:"width",key:"width"},{id:4,title:"Height",dataIndex:"height",key:"height"},{id:5,title:"Measurement Type",dataIndex:"unit",key:"unit"},{id:7,title:"",dataIndex:"",key:"action",render:({pageSizeName:a,width:x,height:i,id:d,status:m})=>[{label:e.jsx(S,{permission:"update-pageSize",children:e.jsx(R,{data:{pageSizeName:a,width:x,height:i},id:d})}),key:"edit"},{label:e.jsx(O,{values:{id:d,status:m},title:m==="true"?"Hide":"Show",permission:"delete-pageSize",deleteThunk:H,loadThunk:P,query:s,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],g=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return t.useEffect(()=>(r(P(s)),()=>{r(q())}),[r,s]),e.jsx(A,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Print Page",extra:e.jsx(W,{permission:"create-pageSize",title:"Create Print Page",width:35,children:e.jsx(B,{})}),children:e.jsx(S,{permission:"readAll-pageSize",children:e.jsx(E,{list:p,columns:h,loading:u,total:o,setPageConfig:c,paginatedThunk:P,csvFileName:"print-pages",title:"Print Page List",filters:g})})})}export{_ as default};
