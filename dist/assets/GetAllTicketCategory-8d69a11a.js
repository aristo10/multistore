import{cL as p,cM as C,r as u,cN as t,cS as d}from"./vendor-3a94a37a.js";import{dM as x,dN as f,bf as n,C as g,U as k,T as h,dO as T,dP as j,dQ as E}from"./index-ed7845ca.js";import{C as N}from"./CommonDelete-4339174a.js";import{C as b}from"./CreateDrawer-a7af16b9.js";import{U as A}from"./UpdateDrawer-f5580074.js";import{F as i,I as w,B as v,k as D}from"./vendor-large-f75deccb.js";function m({edit:e}){const[s]=i.useForm(),o=p(),{loading:c}=C(r=>r.ticketCategory),l=async r=>{(await o(e!=null&&e.id?x({id:e==null?void 0:e.id,values:r}):f(r))).payload.message==="success"&&(o(n()),e!=null&&e.id||s.resetFields())};return u.useEffect(()=>{e!=null&&e.id&&s.setFieldsValue(e==null?void 0:e.values)},[e,s]),t.jsx("div",{className:"flex justify-center mt-5",children:t.jsxs(i,{className:"w-4/5",onFinish:l,colon:!1,layout:"vertical",form:s,children:[t.jsx(i.Item,{style:{width:"350px"},label:"Ticket Category Name",name:"ticketCategoryName",tooltip:"This is a required field",rules:[{required:!0,message:"This is a required field."}],children:t.jsx(w,{placeholder:"Ticket Category Name"})}),t.jsx(i.Item,{label:"",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(v,{size:"large",htmlType:"submit",type:"primary",loading:c,children:e!=null&&e.id?"Update":"Create"})})})]})})}function P(){const e=p(),{list:s,loading:o,total:c,edit:l}=C(a=>a.ticketCategory),r=[{title:"NAME",dataIndex:"ticketCategoryName"},{title:"CREATE DATE",dataIndex:"createdAt",render:a=>d(a).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:a=>d(a).format("ll")},{id:3,title:"",key:"action",render:({id:a,ticketCategoryName:y})=>[{label:t.jsxs("div",{onClick:()=>e(j({id:a,values:{ticketCategoryName:y}})),className:"flex items-center gap-2 cursor-pointer",children:[t.jsx(D,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:t.jsx(N,{id:a,title:"delete",permission:"delete-ticketCategory",deleteThunk:E,loadThunk:n}),key:"delete"}],csvOff:!0}];return u.useEffect(()=>{e(n())},[e]),t.jsxs(g,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Ticket Category",extra:t.jsx(b,{permission:"create-ticketCategory",title:"Create Ticket Category",width:35,children:t.jsx(m,{})}),children:[t.jsx(k,{permission:"readAll-ticketCategory",children:t.jsx(h,{list:s,columns:r,loading:o,total:c,title:"Ticket Category List",isSearch:!1})}),t.jsx(A,{permission:"update-ticketCategory",title:"Update Ticket Category",width:35,open:l,setClose:T,children:t.jsx(m,{edit:l})})]})}export{P as default};
