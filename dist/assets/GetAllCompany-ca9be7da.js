import{r as u,cM as m,cL as C,cN as e,cQ as b}from"./vendor-3a94a37a.js";import{c as g,cU as w,d as f,fY as S,a as N,fZ as v,C as z,U as k,T as A}from"./index-ed7845ca.js";import{C as L}from"./CreateDrawer-a7af16b9.js";import{F as n,I as s,b as y,B as O}from"./vendor-large-f75deccb.js";function T(){const[i]=n.useForm(),[j,o]=u.useState(!1),{list:h,loading:d}=m(l=>l.industry),{list:x,loading:c}=m(l=>l.companyType),{list:p,loading:a}=m(l=>l.users),t=C();u.useEffect(()=>{t(g()),t(w()),t(f({query:"all"}))},[t]);const I=async l=>{o(!0);const r={...l,companySize:Number(l.companySize),annualRevenue:Number(l.annualRevenue)};(await t(S(r))).payload.message==="success"&&(i.resetFields(),t(N())),o(!1)};return e.jsx("div",{className:"flex justify-center mt-5",children:e.jsxs(n,{onFinish:I,colon:!1,layout:"vertical",form:i,style:{width:"80%"},children:[e.jsx(n.Item,{label:"Company name",name:"companyName",tooltip:"This is a required field",rules:[{required:!0,message:"Company name is Required."}],children:e.jsx(s,{placeholder:"XYZ Limited"})}),e.jsx(n.Item,{label:"Company owner",name:"companyOwnerId",tooltip:"This is a required field",rules:[{required:!0,message:"Company Owner name is Required."}],children:e.jsx(y,{style:{width:"100%"},loading:a,allowClear:!0,showSearch:!0,placeholder:"Select company owner name",children:p==null?void 0:p.map(l=>e.jsx(y.Option,{value:l.id,children:l==null?void 0:l.username},l.id))})}),e.jsx(n.Item,{label:"Industry",name:"industryId",children:e.jsx(y,{style:{width:"100%"},loading:d,allowClear:!0,showSearch:!0,filterOption:(l,r)=>r.children.toLowerCase().indexOf(l.toLowerCase()),filterSort:(l,r)=>l.children.toLowerCase().localeCompare(r.children.toLowerCase()),placeholder:"Select Industry",children:h==null?void 0:h.map(l=>e.jsx(y.Option,{value:l.id,children:l.industryName},l.id))})}),e.jsx(n.Item,{label:"Company type",name:"companyTypeId",children:e.jsx(y,{style:{width:"100%"},loading:c,allowClear:!0,showSearch:!0,filterOption:(l,r)=>r.children.toLowerCase().indexOf(l.toLowerCase()),filterSort:(l,r)=>l.children.toLowerCase().localeCompare(r.children.toLowerCase()),placeholder:"Select Company Type",children:x==null?void 0:x.map(l=>e.jsx(y.Option,{value:l.id,children:l.companyTypeName},l.id))})}),e.jsx(n.Item,{label:"Company size",name:"companySize",children:e.jsx(s,{placeholder:"10"})}),e.jsx(n.Item,{label:"Annual revenue",name:"annualRevenue",children:e.jsx(s,{placeholder:"100000"})}),e.jsx(n.Item,{label:"Phone",name:"phone",children:e.jsx(s,{placeholder:"+01 454884657"})}),e.jsx(n.Item,{label:"Email",name:"email",children:e.jsx(s,{placeholder:"xyz@xyz.com"})}),e.jsx(n.Item,{label:"Website",name:"website",children:e.jsx(s,{placeholder:"https://xyz.com"})}),e.jsx(n.Item,{label:"Linkedin",name:"linkedin",children:e.jsx(s,{placeholder:"https://linkedin.com/in/xyz"})}),e.jsx(n.Item,{label:"Twitter",name:"twitter",children:e.jsx(s,{placeholder:"https://twitter.com/xyz"})}),e.jsx(n.Item,{label:"Instagram",name:"instagram",children:e.jsx(s,{placeholder:"https://instagram.com/xyz"})}),e.jsx(n.Item,{label:"Facebook",name:"facebook",children:e.jsx(s,{placeholder:"https://facebook.com/xyz"})}),e.jsx(n.Item,{label:"Billing street",name:"billingStreet",children:e.jsx(s,{placeholder:" Xyz road "})}),e.jsx(n.Item,{label:"Billing city",name:"billingCity",children:e.jsx(s,{placeholder:"LA"})}),e.jsx(n.Item,{label:"Billing zip code",name:"billingZipCode",children:e.jsx(s,{placeholder:"45004"})}),e.jsx(n.Item,{label:"Billing state",name:"billingState",children:e.jsx(s,{placeholder:"CA"})}),e.jsx(n.Item,{label:"Billing country",name:"billingCountry",children:e.jsx(s,{placeholder:"USA"})}),e.jsx(n.Item,{label:"Shipping street",name:"shippingStreet",children:e.jsx(s,{placeholder:" zyx road"})}),e.jsx(n.Item,{label:"Shipping city",name:"shippingCity",children:e.jsx(s,{placeholder:"Mancester City"})}),e.jsx(n.Item,{label:"Shipping zip code",name:"shippingZipCode",children:e.jsx(s,{placeholder:"45871"})}),e.jsx(n.Item,{label:"Shipping state",name:"shippingState",children:e.jsx(s,{placeholder:"ManCity"})}),e.jsx(n.Item,{label:"Shipping country",name:"shippingCountry",children:e.jsx(s,{placeholder:"UK"})}),e.jsx(n.Item,{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(O,{size:"large",htmlType:"submit",type:"primary",loading:j,children:"Create"})})})]})})}function R(){const{list:i,loading:j}=m(a=>a.industry),{list:o,loading:h}=m(a=>a.companyType),{list:d,loading:x}=m(a=>a.users),c=C(),p=[{key:"companyOwner",label:"Owner",type:"select",options:d==null?void 0:d.map(a=>({label:`${a.username}`,value:a.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"companyType",label:"Type",type:"select",options:o==null?void 0:o.map(a=>({label:a.companyTypeName,value:a.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"industry",label:"Industry",type:"select",options:i==null?void 0:i.map(a=>({label:a.industryName,value:a.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return u.useEffect(()=>{c(g()),c(w()),c(f({query:"all"}))},[c]),p}function M(){const i=C(),{list:j,loading:o,total:h}=m(a=>a.company),[d,x]=u.useState({page:1,count:10}),c=R(),p=[{title:"Name",key:"COMPANY NAME",dataIndex:"companyName",render:(a,{id:t})=>e.jsx(b,{to:`/admin/crm/company/${t}`,children:a}),renderCsv:a=>a},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone number",dataIndex:"phone",key:"phone"},{title:"Owner",dataIndex:"companyOwner",key:"owner",render:(a,t)=>e.jsxs(b,{to:`/admin/hrm/staff/${t==null?void 0:t.companyOwnerId}`,children:[a.firstName," ",a.lastName]}),renderCsv:a=>`${a.firstName} ${a.lastName}`},{title:"Type",dataIndex:"companyType",render:a=>a==null?void 0:a.companyTypeName,renderCsv:a=>a==null?void 0:a.companyTypeName},{title:"Size",dataIndex:"companySize",key:"companySize"},{title:"Annual Revenue",dataIndex:"annualRevenue",key:"annualRevenue"},{title:"Industry",dataIndex:"industry",render:a=>a==null?void 0:a.industryName,renderCsv:a=>a==null?void 0:a.industryName}];return u.useEffect(()=>{i(v(d))},[i,d]),e.jsx(z,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Company",extra:e.jsx(L,{permission:"create-company",title:"Create Company",width:40,children:e.jsx(T,{})}),children:e.jsx(k,{permission:"readAll-company",children:e.jsx(A,{list:j,columns:p,loading:o,total:h,setPageConfig:x,title:"company List",isSearch:!0,filters:c})})})}export{M as default};
