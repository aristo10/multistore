import{cN as e,cQ as h,cS as j,cL as p,cT as f,r as o,cM as T}from"./vendor-3a94a37a.js";import{fm as v,fn as g,fo as E,L as P}from"./index-ed7845ca.js";import{C as i}from"./card.components-753b0382.js";import{V as b}from"./ViewBtn-ffc9b5cb.js";import{R as w,q as A,C as R,o as M,F as l,B as m,M as k,b as x,m as F,G as L,f as s}from"./vendor-large-f75deccb.js";function V({list:n}){const a=[{title:"ID",dataIndex:"productId",key:"productId"},{title:"Return Id",dataIndex:"returnCartOrderId",key:"returnCartOrderId"},{title:"Name",dataIndex:"product",render:r=>e.jsx(h,{to:`/admin/product/${r.id}`,children:r.name})},{title:"Product Quantity",dataIndex:"productQuantity",key:"productQuantity"},{title:"Product Price",dataIndex:"productSalePrice",key:"productSalePrice",render:r=>r.toFixed(2)},{title:"Created At",key:"createdAt",render:r=>j(r).format("DD/MM/YY")},{title:"Action",key:"action",render:({productId:r})=>e.jsx(b,{path:`/admin/product/${r}`})}],t=r=>r.map(d=>({...d,key:d.id}));return e.jsx(w,{children:e.jsx(A,{span:24,className:"mt-2",children:e.jsx(R,{className:"header-solid h-full",bordered:!1,title:e.jsx("h4",{className:"font-semibold text-xl m-0 text-center",children:"Products Information"}),bodyStyle:{paddingTop:"0"},children:e.jsx("div",{className:"col-info",children:e.jsx(M,{scroll:{x:!0},loading:!n,columns:a,dataSource:n?t(n):[]})})})})})}function U({data:n}){const a=p(),{Option:t}=x,{id:r}=f(),[d]=l.useForm(),[y,u]=o.useState(!1),[I,c]=o.useState(!1),N=()=>{u(!0)},S=()=>{u(!1)},O=async C=>{c(!0);try{(await a(v({values:C,id:r}))).payload.message=="success"&&(c(!1),u(!1),a(g(r))),c(!1)}catch{c(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(m,{type:"dashed",onClick:N,children:"Update Status"}),e.jsx(k,{title:"Update Return Order Status",open:y,onCancel:S,footer:!1,children:e.jsxs(l,{form:d,name:"basic",layout:"vertical",onFinish:O,children:[e.jsxs("h1",{className:"text-lg text-center font-semibold text-gray-600",children:["Return ID : ",n.id]}),n.returnType=="PRODUCT"?e.jsx(l.Item,{name:"returnCartOrderStatus",label:"Update Return Status",rules:[{required:!0,message:"Please select return status!"}],children:e.jsxs(x,{placeholder:"Select Return Status",style:{width:"100%"},allowClear:!0,children:[e.jsx(t,{value:"PENDING",children:"Pending"}),e.jsx(t,{value:"RECEIVED",children:"Received"}),e.jsx(t,{value:"RESEND",children:"Resend"}),e.jsx(t,{value:"RESENDED",children:"Resended"})]})}):e.jsx(l.Item,{name:"returnCartOrderStatus",label:"Update Return Status",rules:[{required:!0,message:"Please select return status!"}],children:e.jsxs(x,{placeholder:"Select Return Status",style:{width:"100%"},allowClear:!0,children:[e.jsx(t,{value:"PENDING",children:"Pending"}),e.jsx(t,{value:"RECEIVED",children:"Received"}),e.jsx(t,{value:"REFUNDED",children:"Refunded"})]})}),e.jsx(l.Item,{children:e.jsx(m,{loading:I,htmlType:"submit",className:"w-full",type:"primary",children:"Submit"})})]})})]})}function G(){const{id:n}=f(),a=p(),{returnOrder:t,loading:r}=T(d=>d.returnOrder);return o.useEffect(()=>{a(g(n))},[a,n]),e.jsx("div",{children:t?e.jsxs(o.Fragment,{children:[e.jsxs(R,{bordered:!1,className:"card-custom",children:[e.jsxs("h5",{className:"flex justify-start items-center gap-2 text-xl",children:[e.jsx(F,{}),e.jsxs("span",{className:"mr-left",children:["ID : ",t.id," "]})]}),e.jsx("div",{className:"card-header flex justify-center ",children:e.jsx("div",{className:"text-end mr-2",children:e.jsx(U,{data:t})})}),e.jsxs("div",{className:"card-body mt-5",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-10",children:[e.jsx("div",{className:"w-full flex flex-col gap-5",children:e.jsxs(L.Ribbon,{text:t.returnCartOrderStatus,color:t.returnCartOrderStatus==="DELIVERED"?"success":"orange",children:[" ",e.jsxs(i,{title:"Return Information",children:[e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Order Id :"})," ",e.jsx("strong",{children:e.jsx(h,{to:`/admin/order/${t.cartOrderId}`,children:t.cartOrderId})})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Return Type :"})," ",e.jsx("strong",{children:t.returnType})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Return Status :"})," ",e.jsx("strong",{children:t.returnCartOrderStatus})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Return Date :"})," ",e.jsx("strong",{children:j(t.createdAt).format("MMMM Do YYYY, h:mm:ss a")})]})]})]})}),e.jsx("div",{className:"w-full flex flex-col gap-5",children:e.jsxs(i,{title:"Return  Amount Information",children:[e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Total Amount :"})," ",e.jsx("strong",{children:t.totalAmount.toFixed(2)})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Total Vat :"})," ",e.jsx("strong",{children:t.totalVatAmount})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Discount Amount :"})," ",e.jsx("strong",{children:t.totalDiscountAmount})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:" Coupon Amount:"})," ",e.jsx("strong",{children:t.couponAmount})]})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-10",children:[e.jsx("div",{className:"w-full flex flex-col mt-5",children:e.jsx(i,{title:"Return  Note Information",children:e.jsx("p",{children:e.jsx("p",{className:"font-medium",children:t.note})})})}),e.jsx("div",{className:"w-full flex flex-col mt-5",children:e.jsxs(i,{title:"Customer Information",children:[e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Customer Name :"})," ",e.jsx("strong",{children:e.jsx(h,{to:`/admin/hrm/staff/${t.cartOrder.customerId}`,children:E(t.cartOrder.customer)})})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Phone :"})," ",e.jsx("strong",{children:t.cartOrder.customer.phone})]}),e.jsxs("p",{children:[e.jsx(s.Text,{strong:!0,children:"Address :"})," ",e.jsx("strong",{children:t.cartOrder.customer.address})]})]})})]})]})]}),e.jsx(V,{list:t.returnCartOrderProduct})]},t.id):e.jsx(P,{})})}export{G as default};
