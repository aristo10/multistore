import{cR as y}from"./vendor-3a94a37a.js";function I(S){var u=new DOMParser().parseFromString(S,"text/html");return u.body.textContent||""}function it(S,{title:u,TopRightInfo:x,customerInfo:F,companyInfo:i,tableHead:G,tableBody:N,bottomLeftContent:E,bottomRightContent:L,settings:n,leftBottomSecondColunmX:U=48}){var B,D;const t=new y(n.jsPDF);t.setFontSize(n.fontSize);const h=t.internal.pageSize,c=h.width?h.width:h.getWidth(),O=h.height?h.height:h.getHeight();let d=10;const A=function(){const e=new Image;e.src=i==null?void 0:i.logo,i!=null&&i.logo&&t.addImage(e,"PNG",15,10,50,15);const s=[{value:i==null?void 0:i.companyName,style:{fontSizeStart:20,fontSizeEnd:11,colorEnd:[128,128,128]}},{value:i==null?void 0:i.tagLine},{value:i==null?void 0:i.address},{value:i==null?void 0:i.phone},{value:`Email: ${i==null?void 0:i.email}`},{value:i==null?void 0:i.website,type:"link"}],o=c/2,r=1;if(s.forEach((l,a)=>{var H,Y,k,M,X,$,j,q;(H=l.style)!=null&&H.fontSizeStart&&t.setFontSize((Y=l.style)==null?void 0:Y.fontSizeStart);const b=t.splitTextToSize(l.value,o),T=t.getTextDimensions(b).h;l.type==="link"?t.textWithLink(l.value,c-15,d,{url:i.website,align:"right"}):t.text(b,c-15,d,{align:"right"}),(k=l.style)!=null&&k.fontSizeEnd&&t.setFontSize((M=l.style)==null?void 0:M.fontSizeEnd),(X=l.style)!=null&&X.colorEnd&&t.setTextColor(($=l.style)==null?void 0:$.colorEnd[0],(j=l.style)==null?void 0:j.colorEnd[1],(q=l.style)==null?void 0:q.colorEnd[2]),d+=T+r,s.length-1===a&&(d=10)}),u){const l=u.toUpperCase();t.setFontSize(14),t.setTextColor(0);const a=t.getStringUnitWidth(l)*14/t.internal.scaleFactor,b=(c-a)/2,T=45;t.text(l,b,T),t.setFontSize(10)}},C=function(){t.setFontSize(8);const e=t.internal.pageSize,s=e.width?e.width:e.getWidth(),o=e.height?e.height:e.getHeight(),r=s/2;t.text(I(i==null?void 0:i.footer),r,o-11,{align:"center"}),t.setLineWidth(.1),t.setDrawColor(150,150,150),n.jsPDF.orientation==="landscape"?t.line(100,o-9,200,o-9):t.line(50,o-9,155,o-9),t.text("All Rights Reserved Â© 2025",r,o-5,{align:"center"})};let z=u?58:53;const R=c/2-50,_=1;(B=F==null?void 0:F.filter(e=>e.value))==null||B.forEach(e=>{var r,l,a;t.setFontSize(n.infoTopFontSize?n.infoTopFontSize:8),(r=e.style)!=null&&r.bold,(l=e.style)!=null&&l.fontSize&&t.setFontSize((a=e.style)==null?void 0:a.fontSize);const s=t.splitTextToSize(`${e.value}`,R),o=t.getTextDimensions(s).h;t.text(s,14,z),t.setFontSize(8),z+=o+_});let w=u?58:53;const J=c/2-50,K=1;(D=x==null?void 0:x.filter(e=>e.value))==null||D.forEach(e=>{var r,l,a;t.setFontSize(n.infoTopFontSize?n.infoTopFontSize:8),(r=e.style)!=null&&r.bold,(l=e.style)!=null&&l.fontSize&&t.setFontSize((a=e.style)==null?void 0:a.fontSize);const s=t.splitTextToSize(`${e.value}`,J),o=t.getTextDimensions(s).h;t.text(s,c-15,w,{align:"right"}),t.setFontSize(8),w+=o+K}),t.autoTable({startY:Math.max(z,w),columns:G,body:N,margin:{top:u?55:50,bottom:15},padding:{left:u=="Trail Balance"?2:10,top:2,bottom:2},willDrawPage:A,didDrawPage:C,styles:{fontSize:n.tableFontSize?n.tableFontSize:10},didParseCell:function(e){(e.row.raw.subAccount==="Assets"||e.row.raw.subAccount==="Account"||e.row.raw.subAccount==="Liabilities"||e.row.raw.subAccount==="Equity"||e.row.raw.subAccount==="Total Liabilities and Equity")&&(e.cell.styles.fontStyle="bold",e.row.cells.subAccount.styles.cellPadding=2),e.row.raw.subAccount==="Total"&&(e.cell.styles.fontStyle="bold"),(e.row.raw.subAccount==="Revenue"||e.row.raw.subAccount==="Expense"||e.row.raw.subAccount==="Profit")&&(e.cell.styles.fontStyle="bold",e.row.cells.subAccount.styles.cellPadding=2)}}),t.setFontSize(n.bottomLeftFontSize?n.bottomLeftFontSize:8);let g=t.autoTable.previous.finalY+10;t.setDrawColor(0),t.setLineWidth(.1);const W=c/2-30,Q=E.filter(e=>e.value).reduce((e,s)=>{const o=t.splitTextToSize(s.value,W),r=t.getTextDimensions(o).h,l=2;return e+r+l},g),V=(L.filter(e=>e.value).length-1)*6+g;Math.max(Q,V)>O-12&&(t.addPage(),A(),C(),g=Math.max(z,w));const Z=14,f=U;let v=g;const p=c/2+30,m=c-15,P=g;if(E.filter(e=>e.value).forEach(e=>{const s=t.splitTextToSize(e.value,W),o=t.getTextDimensions(s).h;t.text(e.label,Z,v),t.text(s,f,v),v+=o+2}),t.setFontSize(n.bottomRightFontSize?n.bottomRightFontSize:12),t.setTextColor(50,50,50),L.filter(e=>!!e.value).forEach((e,s)=>{t.text(e.label,p,P+s*6),t.text(e.value,m,P+s*6,{align:"right"})}),S==="download")t.save(`${u}`);else if(S==="print")t.autoPrint(),window.open(t.output("bloburl"),"_blank").print();else return t.output("blob")}export{it as a};
