import{cL as m,r as p,cN as a,cM as f,cS as u}from"./vendor-3a94a37a.js";import{aX as C,d3 as h,d4 as S,l as n,C as j,U as E,T as N,d5 as y,d6 as A,d7 as b}from"./index-ed7845ca.js";import{C as w}from"./CommonDelete-4339174a.js";import{C as T}from"./CreateDrawer-a7af16b9.js";import{U as k}from"./UpdateDrawer-f5580074.js";import{F as c,I as v,k as D}from"./vendor-large-f75deccb.js";function d({edit:e}){const[s]=c.useForm(),o=m(),l=async r=>{(await o(e!=null&&e.id?h({id:e==null?void 0:e.id,values:r}):S(r))).payload.message==="success"&&(o(n()),e!=null&&e.id||s.resetFields())};return p.useEffect(()=>{e!=null&&e.id&&s.setFieldsValue(e==null?void 0:e.values)},[e,s]),a.jsx("div",{className:"flex justify-center mt-5",children:a.jsxs(c,{className:"w-4/5",onFinish:l,colon:!1,layout:"vertical",form:s,children:[a.jsx(c.Item,{label:"Contact Source Name",name:"contactSourceName",tooltip:"This is a required field",rules:[{required:!0,message:"Product Name is Required."}],children:a.jsx(v,{placeholder:"Contact Source name"})}),a.jsx(c.Item,{label:"",children:a.jsx("div",{className:"flex items-center justify-center gap-2",children:a.jsx(C,{type:"submit",className:"w-auto min-w-[200px]",color:"primary",children:e!=null&&e.id?"Update":"Create"})})})]})})}function R(){const e=m(),{list:s,loading:o,total:l,edit:r}=f(t=>t.contactSource),i=[{title:"NAME",dataIndex:"contactSourceName"},{title:"CREATE DATE",dataIndex:"createdAt",render:t=>u(t).format("ll")},{title:"UPDATE DATE",dataIndex:"updatedAt",render:t=>u(t).format("ll")},{id:3,title:"",key:"action",render:({id:t,contactSourceName:x})=>[{label:a.jsxs("div",{onClick:()=>e(A({id:t,values:{contactSourceName:x}})),className:"flex items-center gap-2 cursor-pointer",children:[a.jsx(D,{className:" rounded-md"}),"Edit"]}),key:"edit"},{label:a.jsx(w,{id:t,title:"delete",permission:"delete-contactSource",deleteThunk:b,loadThunk:n}),key:"delete"}],csvOff:!0}];return p.useEffect(()=>{e(n())},[e]),a.jsxs(j,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Contact Source",extra:a.jsx(T,{permission:"create-contactSource",title:"Create Contact Source",width:35,children:a.jsx(d,{})}),children:[a.jsx(E,{permission:"readAll-contactSource",children:a.jsx(N,{list:s,columns:i,loading:o,total:l,title:"Contact Source List",isSearch:!1})}),a.jsx(k,{permission:"update-contactSource",title:"Update Contact Source",width:35,open:r,setClose:y,children:a.jsx(d,{edit:r})})]})}export{R as default};
