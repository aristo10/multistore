import{cL as x,r as m,cN as e,cM as g,cS as U}from"./vendor-3a94a37a.js";import{fx as D,fy as p,aX as C,fz as b,fA as F,C as N,U as h,T as k,fB as I,fC as v}from"./index-ed7845ca.js";import{C as A}from"./CommonDelete-4339174a.js";import{C as w}from"./CreateDrawer-a7af16b9.js";import{F as l,I as y,B,f as L,M,k as T}from"./vendor-large-f75deccb.js";function S(){const t=x(),{Title:i}=L,[d]=l.useForm(),[n,s]=m.useState(!1),r=async o=>{s(!0);try{(await t(D(o))).payload.message==="success"&&(s(!1),d.resetFields(),t(p()))}catch{s(!1)}s(!1)},u=()=>{s(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:" h-full",children:[e.jsx(i,{level:4,className:"m-2 text-center",children:"Create Dimension Unit"}),e.jsxs(l,{form:d,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:r,onFinishFailed:u,labelAlign:"left",children:[e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input dimension unit name!"}],children:e.jsx(y,{size:"small",placeholder:"e.g. square"})}),e.jsx(l.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(B,{loading:n,type:"primary",htmlType:"submit",shape:"round",children:"Create Dimension Unit"})})]})]})})}function E({handleCancel:t}){const[i]=l.useForm(),[d,n]=m.useState(!1),{edit:s}=g(o=>o.dimensionUnit),r=x(),u=async o=>{n(!0);try{(await r(b({id:s.id,values:o}))).payload.message==="success"&&(n(!1),i.resetFields(),r(p()),t())}catch{n(!1)}n(!1)};return m.useEffect(()=>{i.setFieldsValue(s)},[s,i]),e.jsx("div",{children:e.jsxs(l,{form:i,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:u,onFinishFailed:()=>{},labelAlign:"left",children:[e.jsx(l.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input dimension unit name!"}],children:e.jsx(y,{size:"small",placeholder:"e.g. square"})}),e.jsx(l.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(C,{loading:d,type:"primary",htmlType:"submit",shape:"round",children:"Update Dimension Unit"})})]})})}function R(){const t=x(),{list:i,total:d,loading:n}=g(a=>a.dimensionUnit),[s,r]=m.useState(!1),[u,o]=m.useState({page:1,count:10,status:"true"}),c=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:2,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:a=>U(a).format("DD/MM/YYYY")},{id:4,title:"",key:"action",render:a=>[{label:e.jsx(h,{permission:"update-dimensionUnit",children:e.jsxs("div",{onClick:()=>{t(I(a)),j()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(T,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(A,{values:{id:a.id,status:a.status},title:a.status==="true"?"Hide":"Show",permission:"delete-dimensionUnit",deleteThunk:v,loadThunk:p,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}];m.useEffect(()=>(t(p()),()=>{t(F())}),[t]);const j=()=>{r(!0)},f=()=>{r(!1)};return e.jsxs(N,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Dimension Unit",extra:e.jsx(w,{permission:"create-dimensionUnit",title:"Create Dimension Unit",width:35,children:e.jsx(S,{})}),children:[e.jsx(h,{permission:"readAll-dimensionUnit",children:e.jsx(k,{total:d,columns:c,list:i,loading:n,setPageConfig:o,title:"Dimension Unit"})}),e.jsx(M,{title:e.jsx("div",{className:"border-b pb-5",children:"Update Dimension Unit"}),open:s,onCancel:f,footer:!1,children:e.jsx(E,{handleCancel:f})})]})}export{R as default};
