import{cL as u,r as c,cN as e,cM as C}from"./vendor-3a94a37a.js";import{gb as J,gc as p,gd as N,C as w,U as b,T as k,ge as v,gf as I}from"./index-ed7845ca.js";import{C as F}from"./CreateDrawer-a7af16b9.js";import{F as s,I as x,B as f,M as S,k as B}from"./vendor-large-f75deccb.js";import{C as E}from"./CommonDelete-4339174a.js";const A=()=>{const t=u(),[o]=s.useForm(),[r,n]=c.useState(!1),a=async l=>{n(!0);try{(await t(J(l))).payload.message==="success"&&(o.resetFields(),t(p({page:1,count:10,status:"true"}))),n(!1)}catch{}};return e.jsx(s,{style:{marginBottom:"40px"},form:o,eventKey:"jobCategory-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:a,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Job Category",name:"jobCategoryName",rules:[{required:!0,message:"please Input Job Category Name"}],children:e.jsx(x,{placeholder:"Engineering"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(f,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:r,children:"Add Job Category"})})]})})},M=A,T=({handleCancel:t})=>{const o=u(),[r]=s.useForm(),[n,a]=c.useState(!1),{jobCategory:l}=C(i=>i.jobCategory),m=async i=>{a(!0);try{(await o(N({id:l.id,values:i}))).payload.message==="success"&&(t(),o(p({page:1,count:10,status:"true"}))),a(!1)}catch{}};return c.useEffect(()=>{r.setFieldValue("jobCategoryName",l.jobCategoryName)},[r,l]),e.jsx(s,{style:{marginBottom:"40px"},form:r,eventKey:"jobCategory-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:m,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Job Category",name:"jobCategoryName",rules:[{required:!0,message:"please Input Job Category Name"}],children:e.jsx(x,{placeholder:"Engineering"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(f,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:n,children:"Update Job Category"})})]})})},U=T;function z(){const t=u(),{list:o,loading:r,total:n}=C(d=>d.jobCategory),[a,l]=c.useState({page:1,count:10,status:"true"}),[m,i]=c.useState(!1),g=()=>{i(!0)},y=()=>{i(!1)},h=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"jobCategoryName",key:"jobCategoryName"},{id:4,title:"",key:"action",render:d=>[{label:e.jsx(b,{permission:"update-jobCategory",children:e.jsxs("div",{onClick:()=>{t(v(d)),g()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(B,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(E,{values:{id:d.id,status:d.status},title:d.status==="true"?"Hide":"Show",permission:"delete-jobCategory",deleteThunk:I,loadThunk:p,query:a,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],j=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return c.useEffect(()=>{t(p(a))},[t,a]),e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Job Category",extra:e.jsx(F,{permission:"create-jobCategory",title:"Create Job Category",width:35,children:e.jsx(M,{})}),children:e.jsx(b,{permission:"readAll-jobCategory",children:e.jsx(k,{total:n,columns:h,list:o,loading:r,filters:j,setPageConfig:l,title:"Job Category List",isSearch:!0})})}),e.jsx(S,{title:"Update Job Category",open:m,onCancel:y,footer:!1,children:e.jsx(U,{handleCancel:y})})]})}export{z as default};
