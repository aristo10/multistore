import{cL as b,cM as j,r as c,cN as e,cT as g,cS as y}from"./vendor-3a94a37a.js";import{cP as A,a8 as p,U as V,cQ as C,cR as P}from"./index-ed7845ca.js";import{C as k}from"./CommonDelete-4339174a.js";import{C as h}from"./CreateDrawer-a7af16b9.js";import{T as N}from"./TableNoPagination-b00b3edd.js";import{A as F}from"./AddProductAttributeValue-d16feddc.js";import{F as o,I,B as v,C as w,M as D,k as M}from"./vendor-large-f75deccb.js";import{U}from"./UpdateAttribute-6ade928d.js";import"./UploadMany-c4472299.js";import"./BigDrawer-240149a9.js";import"./AddProductAttribute-4ec2c5fe.js";function E({handleCancel:s,attributeId:d}){const n=b(),{edit:r}=j(l=>l.productAttributeValue),[t]=o.useForm(),[x,i]=c.useState(),u=async l=>{i(!0),(await n(A({id:r.id,values:l}))).payload.message=="success"&&(s(),i(!1),n(p(d)))},m=()=>{i(!1)};return c.useEffect(()=>{t.setFieldValue("name",r.name)},[r]),e.jsx(e.Fragment,{children:e.jsxs(o,{form:t,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:u,onFinishFailed:m,autoComplete:"off",labelAlign:"left",children:[e.jsx(o.Item,{style:{marginBottom:"10px"},label:"Attribute name",name:"name",rules:[{required:!0,message:"Please input attribute Value!"}],children:e.jsx(I,{size:"small"})}),e.jsx(o.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(v,{loading:x,onClick:()=>i(!0),type:"primary",htmlType:"submit",shape:"round",children:"Update Product Attribute Value"})})]})})}function G(){const{id:s}=g(),d=b(),[n,r]=c.useState(!1),{productAttribute:t,total:x,loading:i}=j(a=>a.productAttribute);c.useEffect(()=>{d(p(s))},[d,s]);const u=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Attribute Value name",dataIndex:"name",key:"name",render:a=>a},{id:3,title:"Create Date",dataIndex:"createdAt",key:"createdAt",render:a=>y(a).format("DD/MM/YYYY")},{id:4,title:"",key:"action",render:a=>[{label:e.jsx(V,{permission:"update-productAttributeValue",children:e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{d(C(a)),m()},children:[e.jsx(M,{className:"bg-gray-600 p-1 text-white rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(k,{permission:"delete-productAttributeValue",deleteThunk:P,id:a.id,title:"Hide",loadThunk:p,query:s}),key:"delete"}]}],m=()=>{r(!0)},l=()=>{r(!1)},f=e.jsx(e.Fragment,{children:e.jsxs("h5",{className:"text-lg",children:["Values under ",e.jsxs("strong",{children:[t==null?void 0:t.name," "]})]})});return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs(w,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"md:flex-row flex-col flex justify-between md:mb-8 items-center gap-2",children:[e.jsx("h5",{className:"flex items-center",children:e.jsx("span",{className:"mr-left",children:t==null?void 0:t.name})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{permission:"update-productAttribute",title:"Update",update:!0,color:"bg-gray-700",width:30,children:e.jsx(U,{productAttribute:t})}),e.jsx(h,{permission:"create-productAttribute",title:"Create attribute value",width:35,children:e.jsx(F,{id:s})})]})]}),e.jsx(N,{list:t==null?void 0:t.productAttributeValue.filter(a=>a.status==="true"),columns:u,loading:i,csvFileName:"product attribute",rightElement:f})]},t==null?void 0:t.id),e.jsx(D,{title:"Update Product Attribute Value",open:n,onCancel:l,footer:!1,children:e.jsx(E,{attributeId:s,handleCancel:l})})]})})}export{G as default};
