import{r as c,cL as m,cT as p,cN as e,cM as f}from"./vendor-3a94a37a.js";import{er as h,es as u,et as j,C as v,L as g}from"./index-ed7845ca.js";import{V as b}from"./ViewBtn-ffc9b5cb.js";import{C as L}from"./CreateDrawer-a7af16b9.js";import{T as N}from"./TableNoPagination-b00b3edd.js";import{F as t,I as d,B as P}from"./vendor-large-f75deccb.js";function I({leavePolicy:i}){const[r,s]=c.useState(!1),[n]=t.useForm(),l=m(),{id:o}=p(),a=async x=>{s(!1);try{(await l(h({id:i.id,values:x}))).payload.message==="success"&&l(u(o)),s(!1)}catch{}};return e.jsx("div",{children:e.jsx(t,{style:{marginBottom:"40px"},form:n,eventKey:"department-form",name:"basic",layout:"vertical",className:"mx-4",onFinish:a,autoComplete:"off",initialValues:{...i},children:e.jsxs("div",{children:[e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input your leave-policy name!"}],children:e.jsx(d,{placeholder:"Policy 10-12"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Paid Leave ",name:"paidLeaveCount",rules:[{required:!0,message:"Please input your paid leave!"}],children:e.jsx(d,{placeholder:"20"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Unpaid Leave ",name:"unpaidLeaveCount",rules:[{required:!0,message:"Please input your unpaid Leave !"}],children:e.jsx(d,{placeholder:"10"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},className:"flex justify-center",children:e.jsx(P,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:r,children:"Update Policy"})})]})})})}const D=()=>{const{id:i}=p(),r=m(),{leavePolicy:s,loading:n}=f(a=>a.leavePolicy),l=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:1,title:"Name",dataIndex:"username",key:"name",render:a=>`${a}`,renderCsv:a=>`${a}`},{id:4,title:"",dataIndex:"",key:"action",render:({user:a})=>[{label:e.jsx(b,{title:"View",path:`/admin/hrm/staff/${a==null?void 0:a.id}`}),key:"view"}],csvOff:!0}];c.useEffect(()=>(r(u(i)),()=>{r(j())}),[r,i]);const o=e.jsx(e.Fragment,{children:e.jsx("h5",{className:"text-lg",children:"Employee List"})});return e.jsx("div",{children:e.jsx("div",{className:"mr-top",children:s?e.jsxs(v,{className:"border-0 md:border md:p-6 bg-transparent md:bg-[#fafafa]",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"md:flex flex justify-between md:mb-8 items-center gap-2",children:[e.jsx("h5",{className:"flex items-center",children:e.jsx("span",{className:" font-semibold",children:s.name})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(L,{permission:"update-leavePolicy",title:"Update Leave Policy",update:!0,color:"bg-gray-700",width:30,children:e.jsx(I,{leavePolicy:s})})})]}),e.jsx(N,{list:s==null?void 0:s.user,columns:l,csvFileName:"Leave policy list",rightElement:o,loading:n})]},s.id):e.jsx(g,{})})})};export{D as default};
