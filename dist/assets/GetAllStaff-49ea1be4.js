import{cN as e,cL as N,r as f,cM as u,cQ as C,cS as w}from"./vendor-3a94a37a.js";import{by as L,bz as M,ee as O,bB as F,ak as R,bC as T,gF as U,d as I,gG as Y,C as $,U as V,T as G,gH as H}from"./index-ed7845ca.js";import{V as J}from"./ViewBtn-ffc9b5cb.js";import{C as Z}from"./CommonDelete-4339174a.js";import{C as Q}from"./CreateDrawer-a7af16b9.js";import{H as W,F as s,I as r,D as c,O as _,R as D,q as y,b as m,h as K,B,P as X}from"./vendor-large-f75deccb.js";const ee=({key:i,restField:l,remove:p,name:o})=>e.jsx("div",{children:e.jsxs(W,{style:{display:"flex",justifyContent:"space-between",marginBottom:8},align:"baseline",children:[e.jsx(s.Item,{...l,name:[o,"degree"],rules:[{required:!0,message:"Missing  degree"}],children:e.jsx(r,{placeholder:"Degree"})}),e.jsx(s.Item,{...l,name:[o,"institution"],rules:[{required:!0,message:"Missing institution"}],children:e.jsx(r,{placeholder:"Institution"})}),e.jsx(s.Item,{...l,name:[o,"result"],rules:[{required:!0,message:"Missing result"}],children:e.jsx(r,{placeholder:"Result"})}),e.jsx(s.Item,{...l,name:[o,"studyStartDate"],rules:[{required:!0,message:"Missing studyStartDate"}],children:e.jsx(c,{placeholder:"studyStartDate"})}),e.jsx(s.Item,{...l,name:[o,"studyEndDate"],children:e.jsx(c,{placeholder:"studyEndDate"})}),e.jsx(s.Item,{...l,name:[o,"fieldOfStudy"],rules:[{required:!0,message:"Missing fieldOfStudy"}],children:e.jsx(r,{placeholder:"Field Of Study; Computer"})}),e.jsx(_,{className:"txt-color",style:{fontSize:"150%"},onClick:()=>p(o)})]},i)}),te=()=>{const{Option:i}=m,l=N(),[p,o]=f.useState(!1),{list:d}=u(t=>t.role),{list:x}=u(t=>t.department),{list:h}=u(t=>t.designations),{list:g}=u(t=>t.employmentStatus),{list:a}=u(t=>t.shift),{list:n,loading:P}=u(t=>t.store),[S]=s.useForm(),k=async t=>{var j;o(!0);try{((j=(await l(U(t))).payload)==null?void 0:j.message)==="success"&&l(I({status:"true",count:10,page:1})),o(!1),S.resetFields()}catch{o(!1)}},q=()=>{},v=["A+","A-","B+","B-","O+","O-","AB+","AB-"];return f.useEffect(()=>{l(L()),l(M()),l(O({query:"all"})),l(F()),l(R()),l(T())},[l]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"mr-top mt-5 p-5 ant-card ",style:{maxWidth:"100%"},children:e.jsxs(s,{size:"small",form:S,name:"basic",labelCol:{span:7},wrapperCol:{span:22},initialValues:{remember:!0},onFinish:k,onFinishFailed:q,autoComplete:"off",children:[e.jsxs(D,{gutter:{xs:8,sm:16,md:24,lg:32},children:[e.jsxs(y,{span:12,className:"gutter-row form-color",children:[e.jsx("h2",{className:"text-center text-xl mt-3 mb-3 txt-color",children:"User Information"}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"First Name",name:"firstName",rules:[{required:!0,message:"Please input First Name!"}],children:e.jsx(r,{placeholder:"John"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please input Last Name!"}],children:e.jsx(r,{placeholder:"Doe"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"User Name",name:"username",rules:[{required:!0,message:"Please input User Name!"}],children:e.jsx(r,{placeholder:"john_doe"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Password",name:"password",rules:[{required:!0,message:"Please input your password !"}],children:e.jsx(r,{placeholder:"Strong Password"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Email",name:"email",rules:[{required:!0,message:"Please input email!"}],children:e.jsx(r,{placeholder:"johndoe2@example.com"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Phone",name:"phone",rules:[{required:!0,message:"Please Enter Phone Number!"}],children:e.jsx(r,{placeholder:"015000000000"})})]}),e.jsxs(y,{span:12,className:"gutter-row",children:[e.jsx("h2",{className:"text-center text-xl mt-3 mb-3 txt-color",children:"Address Information"}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Street",name:"street",rules:[{required:!0,message:"Please input street!"}],children:e.jsx(r,{placeholder:"123 Main Street",style:{width:"100%"}})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"City",name:"city",rules:[{required:!0,message:"Please input city!"}],children:e.jsx(r,{placeholder:"Los Angeles"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"State",name:"state",rules:[{required:!0,message:"Please input state!"}],children:e.jsx(r,{placeholder:"CA"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Zip Code",name:"zipCode",rules:[{required:!0,message:"Please input Zip Code!"}],children:e.jsx(r,{placeholder:"90211"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Country",name:"country",rules:[{required:!0,message:"Please input Country!"}],children:e.jsx(r,{placeholder:"USA"})})]})]}),e.jsxs(D,{gutter:{xs:8,sm:16,md:24,lg:32},children:[e.jsxs(y,{span:12,className:"gutter-row",children:[e.jsxs("h2",{className:"text-center text-xl mt-3 mb-3 txt-color",children:[" ","Employee Information"," "]}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Joining Date",name:"joinDate",rules:[{required:!0,message:"Please input joining date!"}],children:e.jsx(c,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Leave Date",name:"leaveDate",children:e.jsx(c,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Employee ID",name:"employeeId",rules:[{required:!0,message:"Please input Employee ID!"}],children:e.jsx(r,{placeholder:"OE-012"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Blood Group",name:"bloodGroup",rules:[{required:!0,message:"Please input Blood Group!"}],children:e.jsx(m,{placeholder:"Select Blood Group",allowClear:!0,mode:"single",size:"middle",style:{width:"100%"},children:v.map(t=>e.jsx(i,{value:t,children:t},t))})}),e.jsx(s.Item,{name:"employmentStatusId",style:{marginBottom:"10px"},rules:[{required:!0,message:"Please input Employment Status!"}],label:"Employee Status",children:e.jsx(m,{placeholder:"Select Status",allowClear:!0,size:"middle",children:g&&g.map(t=>e.jsx(i,{value:t.id,children:t.name},t.id))})}),e.jsx(s.Item,{name:"departmentId",style:{marginBottom:"10px"},label:"Department",rules:[{required:!0,message:"Please input Department!"}],children:e.jsx(m,{loading:!x,placeholder:"Select Department",allowClear:!0,size:"middle",children:x&&x.map(t=>e.jsx(i,{value:t.id,children:t.name},t.id))})}),e.jsx(s.Item,{rules:[{required:!0,message:"Please input Department!"}],label:"Role",name:"roleId",style:{marginBottom:"10px"},children:e.jsx(m,{loading:!d,size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select",children:d&&d.map(t=>e.jsx(i,{value:t.id,children:t.name},t.id))})}),e.jsx(s.Item,{rules:[{required:!0,message:"Please input Department!"}],label:"Shift",name:"shiftId",style:{marginBottom:"10px"},children:e.jsx(m,{loading:!a,size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select",children:a&&a.map(t=>e.jsx(i,{value:t.id,children:t.name},t.id))})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Select Store",name:"storeId",rules:[{required:!0,message:"Please input Store!"}],children:e.jsx(m,{placeholder:"Select Store",allowClear:!0,mode:"multiple",size:"middle",style:{width:"100%"},loading:P,children:n==null?void 0:n.map(t=>e.jsx(i,{value:t.id,children:t==null?void 0:t.name},t.id))})})]}),e.jsxs(y,{span:12,className:"gutter-row",children:[e.jsx("h2",{className:"text-center text-xl mt-3 mb-3 txt-color",children:"Designation & Salary Information"}),e.jsx(s.Item,{rules:[{required:!0,message:"Please input Designation!"}],label:"Designation",name:"designationId",style:{marginBottom:"10px"},children:e.jsx(m,{loading:!h,size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select Designation",children:h&&h.map(t=>e.jsx(i,{value:t.id,children:t.name},t.id))})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Designation Start Date",rules:[{required:!0,message:"Please input date!"}],name:"designationStartDate",children:e.jsx(c,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Designation End Date",name:"designationEndDate",children:e.jsx(c,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Salary",name:"salary",rules:[{required:!0,message:"Please input salary"}],children:e.jsx(K,{style:{width:"100%"}})}),e.jsx(s.Item,{label:"Salary Start Date",name:"salaryStartDate",style:{marginBottom:"10px"},rules:[{required:!0,message:"Please input date!"}],children:e.jsx(c,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Salary End Date",name:"salaryEndDate",children:e.jsx(c,{className:"date-picker hr-staffs-date-picker"})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Salary Comment",name:"salaryComment",children:e.jsx(r,{})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Commission Type",name:"commissionType",children:e.jsxs(m,{loading:!d,size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select",children:[e.jsx(i,{value:"percentage",children:"Percentage"},"percentage"),e.jsx(i,{value:"flat",children:"Flat"},"flat")]})}),e.jsx(s.Item,{style:{marginBottom:"10px"},label:"Commission Value",name:"commissionValue",children:e.jsx(r,{})})]})]}),e.jsx("h2",{className:"text-center text-xl mt-3 mb-5 txt-color",children:"Education Information"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-red-500 text-base mb-4",children:"Please add education information using the button below"})}),e.jsx(s.List,{name:"education",children:(t,{add:j,remove:b})=>e.jsxs(e.Fragment,{children:[t.map(({key:A,name:E,...z})=>e.jsx(ee,{name:E,remove:b,restField:z},A)),e.jsx(s.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:4,span:16},children:e.jsx(B,{type:"dashed",size:"middle",style:{color:"#fff",backgroundColor:"#2c3e50"},onClick:()=>j(),block:!0,icon:e.jsx(X,{}),children:"Add Education Information"})})]})}),e.jsx(s.Item,{style:{marginBottom:"10px",marginTop:"10px"},wrapperCol:{offset:4,span:16},children:e.jsx(B,{className:"mt-5",size:"large",block:!0,type:"primary",htmlType:"submit",shape:"round",loading:p,children:"Add New Staff"})})]})})})},se=te;function me(){const i=N(),{list:l,total:p,loading:o}=u(a=>a.users),[d,x]=f.useState({page:1,count:10,status:"true"}),h=[{id:1,title:"ID",dataIndex:"id",key:"id",render:a=>e.jsx(C,{to:`/admin/hrm/staff/${a}`,children:a}),renderCsv:a=>a},{id:2,title:"Username",dataIndex:"username",key:"username",render:(a,{id:n})=>e.jsx(C,{to:`/admin/hrm/staff/${n}`,children:a})},{id:3,title:"Name",key:"email",render:({firstName:a,lastName:n})=>`${a||""} ${n||""}`,renderCsv:({firstName:a,lastName:n})=>`${a||""} ${n||""}`},{id:3,title:"Role",dataIndex:"role",key:"role",render:({name:a})=>a,renderCsv:({name:a})=>a},{id:4,title:"Created at",dataIndex:"createdAt",key:"addrcreatedAtess",render:a=>w(a).format("YYYY-MM-DD"),renderCsv:a=>w(a).format("YYYY-MM-DD")},{id:5,title:"",key:"action",render:({id:a,status:n})=>[{label:e.jsx(J,{title:"View",path:`/admin/hrm/staff/${a}`}),key:"view"},{label:e.jsx(Z,{values:{id:a,status:n},title:n==="true"?"Hide":"Show",permission:"delete-user",deleteThunk:H,loadThunk:I,query:d,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],g=[{key:"roleId",label:"Role",type:"select",options:l==null?void 0:l.map(({id:a,username:n})=>({value:a,label:n})),className:"min-w-[120px] max-w-[150px]",popupClassName:"w-[200px]"},{key:"status",label:"Status",type:"select",mode:"single",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[200px]"}];return f.useEffect(()=>(i(I(d)),()=>{i(Y())}),[i,d]),e.jsx($,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Staff List",extra:e.jsx(Q,{permission:"create-user",title:"Create Staff",width:85,children:e.jsx(se,{})}),children:e.jsx(V,{permission:"readAll-user",children:e.jsx(G,{columns:h,list:l,total:p,loading:o,setPageConfig:x,title:"Staff List",filters:g})})})}export{me as default};
