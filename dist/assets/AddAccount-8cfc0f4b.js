import{cL as h,r as l,cM as x,cN as s}from"./vendor-3a94a37a.js";import{ah as f,ai as y,aj as A}from"./index-ed7845ca.js";import{F as o,I as j,b as i,B as g,f as b}from"./vendor-large-f75deccb.js";const F=({drawer:w})=>{const r=h(),{Title:d}=b,[n]=o.useForm(),[m,a]=l.useState(!1),c=x(e=>{var t;return(t=e==null?void 0:e.accounts)==null?void 0:t.mainAccount})||null;l.useEffect(()=>{r(f())},[r]);const u=async e=>{try{(await r(y(e))).payload.message==="success"&&(a(!1),r(A())),n.resetFields(),a(!1)}catch{a(!1)}},p=e=>{a(!1)};return s.jsx("div",{children:s.jsxs("div",{children:[s.jsx(d,{level:4,className:"m-2 text-center",children:"Add Account"}),s.jsxs(o,{form:n,name:"basic",layout:"vertical",className:"sm:mx-10",initialValues:{remember:!0},onFinish:u,onFinishFailed:p,autoComplete:"off",children:[s.jsx(o.Item,{style:{marginBottom:"10px"},name:"name",label:"Name",rules:[{required:!0,message:"Please input debit account!"}],children:s.jsx(j,{placeholder:"Name"})}),s.jsx(o.Item,{style:{marginBottom:"10px"},name:"accountId",label:"Account Type",rules:[{required:!0,message:"Please input debit account!"}],children:s.jsx(i,{loading:!c,showSearch:!0,style:{width:"100%"},placeholder:"Select Account Type",optionFilterProp:"children",filterOption:(e,t)=>t.children.includes(e),filterSort:(e,t)=>e.children.toLowerCase().localeCompare(t.children.toLowerCase()),children:c&&c.map(e=>s.jsx(i.Option,{value:e.id,children:e.name},e.id))})}),s.jsx(o.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-6",children:s.jsx(g,{type:"primary",htmlType:"submit",shape:"round",loading:m,onClick:()=>a(!0),children:"Add New Account"})})]})]})})},v=F;export{v as A};
