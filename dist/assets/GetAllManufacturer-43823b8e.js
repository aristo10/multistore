import{r as o,cM as h,cL as y,cN as e,cS as j}from"./vendor-3a94a37a.js";import{aX as b,c7 as C,S as k,c8 as p,c9 as w,C as N,U as x,T as A,ca as v,cb as I}from"./index-ed7845ca.js";import{C as S}from"./CommonDelete-4339174a.js";import{C as F}from"./CreateDrawer-a7af16b9.js";import{A as L}from"./AddManufacturer-2f6bafee.js";import{F as u,I as D,M as E,k as T}from"./vendor-large-f75deccb.js";function U({handleCancel:t}){const[s]=u.useForm(),[d,r]=o.useState(!1),{edit:n}=h(c=>c.manufacturer),l=y(),i=async c=>{r(!0);try{(await l(C({id:n.id,values:c}))).payload.message==="success"&&(r(!1),s.resetFields(),l(k()),t())}catch{r(!1)}r(!1)};return o.useEffect(()=>{s.setFieldsValue(n)},[n,s]),e.jsx("div",{children:e.jsxs(u,{form:s,layout:"vertical",style:{marginLeft:"40px",marginRight:"40px"},onFinish:i,onFinishFailed:()=>{},labelAlign:"left",children:[e.jsx(u.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input manufacturer name!"}],children:e.jsx(D,{size:"small",placeholder:"e.g. company"})}),e.jsx(u.Item,{style:{marginBottom:"10px"},className:"flex justify-center mt-[24px]",children:e.jsx(b,{loading:d,type:"primary",htmlType:"submit",shape:"round",children:"Update Manufacturer"})})]})})}function R(){const t=y(),{list:s,total:d,loading:r}=h(a=>a.manufacturer),[n,l]=o.useState(!1),[i,c]=o.useState({page:1,count:10,status:"true"}),m=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:2,title:"Created At",dataIndex:"createdAt",key:"createdAt",render:a=>j(a).format("DD/MM/YYYY")},{id:4,title:"",key:"action",render:a=>[{label:e.jsx(x,{permission:"update-manufacturer",children:e.jsxs("div",{onClick:()=>{t(v(a)),M()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(T,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(S,{values:{id:a.id,status:a.status},title:a.status==="true"?"Hide":"Show",permission:"delete-manufacturer",deleteThunk:I,loadThunk:p,query:i,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],g=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];o.useEffect(()=>(t(p(i)),()=>{t(w())}),[t,i]);const M=()=>{l(!0)},f=()=>{l(!1)};return e.jsxs(N,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Manufacturer",extra:e.jsx(F,{permission:"create-manufacturer",title:"Create Manufacturer",width:35,children:e.jsx(L,{})}),children:[e.jsx(x,{permission:"readAll-manufacturer",children:e.jsx(A,{total:d,columns:m,list:s,loading:r,setPageConfig:c,title:"Manufacturer",filters:g})}),e.jsx(E,{title:e.jsx("div",{className:"border-b pb-5",children:"Update Manufacturer"}),open:n,onCancel:f,footer:!1,children:e.jsx(U,{handleCancel:f})})]})}export{R as default};
