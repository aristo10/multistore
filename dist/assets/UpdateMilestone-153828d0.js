import{cT as M,r as c,cO as r,c_ as P,cN as e}from"./vendor-3a94a37a.js";import{L as I}from"./index-ed7845ca.js";import{u as B,a as E}from"./milestoneApi-e59980bf.js";import{u as S}from"./projectApi-2d6ff3a1.js";import{F as t,R as N,q as F,b as d,I as p,D as u,B as q,f as C}from"./vendor-large-f75deccb.js";const U=()=>{const{id:o}=M(),{data:a,loading:x}=B(o),{data:n}=S(),[j,{isLoading:g}]=E(),[i,h]=c.useState(null);c.useEffect(()=>{a&&h({...a,startDate:r(a.startDate),endDate:r(a.endDate)})},[a]);const{Title:D}=C,[l]=t.useForm(),f=P(),y=async s=>{const b={...s,startDate:r(s.startDate).format(),endDate:r(s.endDate).format()},m=await j({id:o,values:b});m.data&&!m.error&&(l.resetFields(),f(-1))};return e.jsx(e.Fragment,{children:e.jsx(N,{className:"mt-[25px]",justify:"center",children:e.jsxs(F,{xs:24,sm:24,md:24,lg:18,xl:18,className:"column-design border rounded card-custom",children:[e.jsx(D,{level:4,className:"m-2 mt-5 mb-5 text-center",children:"Update Milestone"}),i?e.jsx(t,{form:l,style:{marginBottom:"40px"},name:"basic",initialValues:i,labelCol:{span:8},wrapperCol:{span:12},onFinish:y,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Project",name:"projectId",rules:[{required:!0,message:"Select Project"}],children:e.jsx(d,{mode:"single",loading:x,placeholder:"Select Project",optionFilterProp:"children",children:n==null?void 0:n.map(s=>e.jsx(d.Option,{value:s.id,children:s.name},s.id))})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Milestone Name",name:"name",rules:[{required:!0,message:"Enter Milestone Name"}],children:e.jsx(p,{placeholder:"Enter Milestone Name"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Start Date",name:"startDate",rules:[{required:!0,message:"Please input Project Start Date!"}],children:e.jsx(u,{})}),e.jsx(t.Item,{style:{marginBottom:"20px"},label:"End Date",name:"endDate",rules:[{required:!0,message:"Please input Project End Date!"}],children:e.jsx(u,{})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Milestone Description",name:"description",rules:[{required:!0,message:"Enter Milestone Description"}],children:e.jsx(p,{placeholder:"Enter Milestone Description"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:8,span:12},children:e.jsx(q,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:g,children:"Submit"})})]})}):e.jsx(I,{})]})})})};export{U as default};
