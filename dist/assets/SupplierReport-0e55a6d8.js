import{cM as b,cS as p,cN as a,cL as P,r as x,cQ as h}from"./vendor-3a94a37a.js";import{aX as i,cH as D,C as N,c6 as v}from"./index-ed7845ca.js";import{R as I}from"./ReportTable-b23b8ac7.js";import{i as T}from"./invoiceGenerator-eaeb8720.js";import{u as C}from"./useCurrency-4b14dd3d.js";import"./vendor-large-f75deccb.js";function A({data:d,info:t,title:c,type:n,btnName:o}){const{currencyName:s}=C()||{},l=b(e=>{var u;return(u=e==null?void 0:e.setting)==null?void 0:u.data})||null,r=[],m=[{label:"Total",value:`${t!=null&&t.grandTotalAmount?t.grandTotalAmount.toFixed(2):0}`},{label:"Due",value:`${t!=null&&t.grandDueAmount?t.grandDueAmount.toFixed(2):0}`},{label:"Paid",value:`${t!=null&&t.grandTotalPaidAmount?t.grandTotalPaidAmount.toFixed(2):0}`},{label:"Return",value:`${t!=null&&t.grandTotalReturnAmount?t.grandTotalReturnAmount.toFixed(2):0}`},{label:"Instant Paid Return ",value:`${t!=null&&t.grandInstantPaidReturnAmount?t.grandInstantPaidReturnAmount.toFixed(2):0}`}],g=["SL","Date","Id","Name","Phone","Address","Total Amount","Total Paid","Total Due"],y=d.map((e,u)=>[`${u+1}`,p(e.createdAt).format("YYYY-MM-DD"),e.id,e.name,e.phone,e.address,`${e!=null&&e.totalAmount?e.totalAmount:0}`,`${e!=null&&e.totalPaidAmount?e.totalPaidAmount:0}`,`${e!=null&&e.dueAmount?e.dueAmount:0}`]),j=[],R=[{value:`Report Date: ${p().format("YYYY-MM-DD")}`},{value:`Currency: ${s}`}],S={jsPDF:{},tableFontSize:10,infoTopFontSize:8,bottomRightFontSize:10,bottomLeftFontSize:8,footerFontSize:10};return a.jsx("div",{className:"flex gap-2",children:a.jsx(i,{className:"bg-primary flex  justify-center items-center px-4 py-2 text-white rounded",onClick:()=>T(n,{title:c,TopRightInfo:R,companyInfo:l,customerInfo:j,bottomLeftContent:r,bottomRightContent:m,tableBody:y,tableHead:g,settings:S}),children:o})})}function E(){const d=P(),[t,c]=x.useState(!1),{list:n,loading:o,info:s}=b(r=>r.suppliers),l=[{id:1,title:"ID",dataIndex:"id",key:"id",render:r=>a.jsx(h,{to:`/admin/supplier/${r}`,children:r}),renderCSV:r=>p(r).format("DD-MM-YYYY")},{id:2,title:"Name",dataIndex:"name",key:"name",render:(r,{id:m})=>a.jsx(h,{to:`/admin/supplier/${m}`,children:r}),renderCSV:r=>r},{id:3,title:"Phone",dataIndex:"phone",key:"phone"},{id:4,title:"Total Amount",dataIndex:"totalAmount",key:"totalAmount"},{id:4,title:"Paid Amount",dataIndex:"totalPaidAmount",key:"totalPaidAmount"},{id:4,title:"Return Amount",dataIndex:"totalReturnAmount",key:"totalReturnAmount"},{id:4,title:"Due Amount",dataIndex:"dueAmount",key:"dueAmount"},{id:4,title:"Address",dataIndex:"address",key:"address"}];return x.useEffect(()=>{d(D())},[d]),a.jsx("div",{className:"card card-custom mt-3 ",children:a.jsx("div",{className:"card-body",children:a.jsxs(N,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Supplier Report",children:[a.jsxs("div",{className:"flex justify-between py-5 items-start ",children:[a.jsx("div",{children:a.jsx(i,{onClick:()=>c(!0),className:"bg-green-500 text-white",children:"Generate Report"})}),a.jsxs("div",{className:"flex  items-center gap-2 ",children:[!o&&n?a.jsx(A,{data:n,info:s,title:"Supplier Report",type:"print",btnName:"Print"}):a.jsx("div",{children:a.jsx(i,{loading:o||!n,className:"bg-primary text-white",children:"Print"})}),!o&&n?a.jsx(A,{data:n,info:s,title:"Supplier Report",type:"download",btnName:"Export PDF"}):a.jsx("div",{children:a.jsx(i,{loading:o||!n,className:"bg-primary text-white",children:"Export PDF"})}),a.jsx("div",{children:a.jsx(v,{list:n,columns:l,title:"Supplier Report",className:"bg-primary",btnName:"Export CSV"})})]})]}),t&&a.jsx(I,{list:n,columns:l,loading:o})]})})})}export{E as default};
