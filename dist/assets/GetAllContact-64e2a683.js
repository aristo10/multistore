import{cM as o,cL as N,r as C,cN as t,cQ as x,cS as u}from"./vendor-3a94a37a.js";import{c as y,a as f,l as b,b as h,d as k,N as v,C as I,U as A,T as g}from"./index-ed7845ca.js";import{C as j}from"./CreateDrawer-a7af16b9.js";import{A as w}from"./AddContact-630a86a5.js";import"./vendor-large-f75deccb.js";function S(){const r=o(a=>a.contactSource.list)||[],d=o(a=>a.contactStage.list)||[],m=o(a=>a.company.list)||[],n=o(a=>a.industry.list)||[],p=o(a=>a.users.list)||[],l=N(),i=[{key:"contactOwner",label:"Owner",type:"select",options:p==null?void 0:p.map(a=>({label:`${a.username}`,value:a.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"contactSource",label:"Source",type:"select",options:r==null?void 0:r.map(a=>({label:a.contactSourceName,value:a.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"contactStage",label:"Stage",type:"select",options:d==null?void 0:d.map(a=>({label:a.contactStageName,value:a.id})),className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"company",label:"Company",type:"select",options:m==null?void 0:m.map(a=>({label:a.companyName,value:a.id})),className:"min-w-[100px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"industry",label:"Industry",type:"select",options:n==null?void 0:n.map(a=>({label:a.industryName,value:a.id})),className:"min-w-[90px] max-w-[150px]",popupClassName:"w-[100px]"},{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return C.useEffect(()=>{l(y()),l(f()),l(b()),l(h()),l(k({query:"all"}))},[l]),i||[]}function T(){const r=N(),{list:d,loading:m,total:n}=o(e=>e.contact),[p,l]=C.useState({page:1,count:10}),i=S(),a=[{title:"Name",key:"name",render:({firstName:e,lastName:s,id:c})=>t.jsxs(x,{to:`${c}`,children:[e," ",s]}),renderCsv:({firstName:e,lastName:s})=>`${e} ${s}`},{title:"Email",key:"email",dataIndex:"email"},{title:"Phone number",key:"phone",dataIndex:"phone"},{title:"Owner",dataIndex:"contactOwner",key:"owner",render:(e,s)=>t.jsxs(x,{to:`/admin/hrm/staff/${s==null?void 0:s.contactOwnerId}`,children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),renderCsv:e=>`${e==null?void 0:e.firstName} ${e==null?void 0:e.lastName}`},{title:"Company",key:"Company",dataIndex:"company",render:(e,s)=>t.jsx(x,{to:`/admin/crm/company/${s==null?void 0:s.companyId}`,children:e==null?void 0:e.companyName}),renderCsv:e=>e==null?void 0:e.companyName},{title:"Source",key:"contactSource",dataIndex:"contactSource",render:e=>e==null?void 0:e.contactSourceName,renderCsv:e=>e==null?void 0:e.contactSourceName},{title:"Stage",key:"contactStage",dataIndex:"contactStage",render:e=>e==null?void 0:e.contactStageName,renderCsv:e=>e==null?void 0:e.contactStageName},{title:"Industry",key:"Industry",dataIndex:"industry",render:e=>e==null?void 0:e.industryName,renderCsv:e=>e==null?void 0:e.industryName},{title:"Create date",key:"Create date",dataIndex:"createdAt",render:e=>u(e).format("ll"),renderCsv:e=>u(e).format("ll")}];return C.useEffect(()=>{r(v(p))},[r,p]),t.jsx(I,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Contact",extra:t.jsx(j,{permission:"create-contact",title:"Create Contact",width:50,children:t.jsx(w,{})}),children:t.jsx(A,{permission:"readAll-contact",children:t.jsx(g,{list:d,columns:a,loading:m,total:n,setPageConfig:l,title:"Contact List",isSearch:!0,filters:i})})})}export{T as default};
