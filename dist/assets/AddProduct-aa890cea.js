import{cN as e,cM as m,cL as D,r as u,cU as O}from"./vendor-3a94a37a.js";import{X as z,Y as E,V as q,a5 as $,a9 as R,c3 as X,a1 as H,S as Q,c4 as Y,aP as _}from"./index-ed7845ca.js";import{I as J}from"./ImageUploader-c0ae741f.js";import{B as i}from"./BigDrawer-240149a9.js";import{A as K}from"./AddManufacturer-2f6bafee.js";import{A as W}from"./AddProductBrand-894ab785.js";import{A as Z}from"./AddProductSubcategory-71762def.js";import{A as ee}from"./AddUoM-1dc09ff9.js";import{A as v}from"./AddVatTax-97a0925d.js";import{S as ae,U as le,F as se}from"./FormProductListCard-571d2cbc.js";import{A as re}from"./AddDiscount-05e89f9a.js";import{F as l,b as s,I as x,h as te,w as oe,B as ce}from"./vendor-large-f75deccb.js";import"./MediaGallery-5095f29f.js";import"./UploaderWithDrag-568744bd.js";import"./UploadMany-c4472299.js";import"./AddProductCategory-6511f02f.js";import"./AddProductAttribute-4ec2c5fe.js";import"./AddProductAttributeValue-d16feddc.js";function ie({discount:d,discountLoading:f,form:h}){return e.jsx(e.Fragment,{children:e.jsx(l.List,{name:"productGroup",initialValue:[{}],rules:[{required:!0,message:"Product is required"}],children:(w,{add:b,remove:y})=>e.jsx(e.Fragment,{children:w.map(({key:g,name:c,...o},p)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(ae,{restField:o,name:c,className:"w-full sm:w-1/2"},p),e.jsx(l.Item,{...o,label:e.jsxs(e.Fragment,{children:["Discount",e.jsx(i,{title:"Discount",children:e.jsx(re,{drawer:!0})})]}),name:[c,"discountId"],className:"w-full sm:w-1/2",children:e.jsx(s,{showSearch:!0,placeholder:"Select discount",optionFilterProp:"children",allowClear:!0,loading:f,children:d==null?void 0:d.map(r=>e.jsx(s.Option,{value:r.id,children:`${r.type=="percentage"?`${r.value}%`:`Flat ${r.value}`}`},r.id))})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l.Item,{...o,label:"UPC No",name:[c,"upcNo"],className:"w-full sm:w-1/2",children:e.jsx(x,{size:"small",placeholder:"Universal product code"})}),e.jsx(l.Item,{...o,label:"EAN No",name:[c,"eanNo"],className:"w-full sm:w-1/2",children:e.jsx(x,{size:"small",placeholder:"International article number"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l.Item,{...o,label:"ISBN No",name:[c,"isbnNo"],className:"w-full sm:w-1/2",children:e.jsx(x,{size:"small",placeholder:"International standard book number"})}),e.jsx(l.Item,{...o,label:"Part No",name:[c,"partNo"],className:"w-full sm:w-1/2",children:e.jsx(x,{size:"small",placeholder:"Part number"})})]}),e.jsx(l.Item,{label:"Thumbnail Image",className:"w-full",children:e.jsx(le,{form:h,index:p})})]}))})})})}const de={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline"],["link","image"],[{color:[]},{background:[]}],["clean"]]},ne=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background"],Ve=()=>{const{list:d,loading:f}=m(a=>a.productSubCategories),{list:h,loading:w}=m(a=>a.productBrands),{list:b,loading:y}=m(a=>a.uom),{list:g,loading:c}=m(a=>a.manufacturer),{list:o,loading:p}=m(a=>a.discount),{list:r,loading:A}=m(a=>a.vatTax),t=D(),[n]=l.useForm();u.useEffect(()=>{t(z({page:1,count:100,status:!0})),t(E({page:1,count:100,status:!0})),t(q({page:1,count:100,status:!0})),t($()),t(R()),t(X()),t(H()),t(Q())},[t]);const[P,V]=u.useState([]),[M,j]=u.useState(!1),[S,B]=u.useState(""),[me,k]=u.useState([]),[N,L]=u.useState(!1),T=a=>{a.target.checked?n.setFieldValue("productGroup",[]):n.setFieldValue("productGroup",[{}]),L(a.target.checked)},U=a=>{B(a)},G=async a=>{var F;j(!0);try{const C={...a,galleryImages:P.map(I=>I.id),description:S,productGroup:N?a.productGroup:(F=a.productGroup)==null?void 0:F.map(I=>({...I,name:a.productGroupName}))};(await t(Y(C))).payload.message==="success"&&(n.resetFields(),B(""),t(_({status:"true",page:1,count:10}))),j(!1)}catch{j(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(l,{form:n,name:"basic",layout:"vertical",className:"sm:mx-4",initialValues:{remember:!0},onFinish:G,autoComplete:"off",children:[e.jsx(l.Item,{style:{marginBottom:"15px"},label:"Group Name",name:"productGroupName",rules:[{required:!0,message:"Please input Product name!"}],children:e.jsx(x,{})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l.Item,{style:{marginBottom:"15px"},name:"subCategoryId",className:"w-full sm:w-1/2",label:e.jsxs(e.Fragment,{children:["Subcategory",e.jsx(i,{title:"Sub Category",children:e.jsx(Z,{drawer:!0})})]}),children:e.jsx(s,{loading:f,showSearch:!0,placeholder:"Select Subcategory",children:d&&d.map(a=>e.jsx(s.Option,{value:a.id,children:a.name},a.id))})}),e.jsx(l.Item,{style:{marginBottom:"15px"},name:"productBrandId",className:"w-full sm:w-1/2",label:e.jsxs(e.Fragment,{children:["Brand",e.jsx(i,{title:"new Brand",children:e.jsx(W,{drawer:!0})})]}),children:e.jsx(s,{name:"productBrandId",loading:w,showSearch:!0,placeholder:"Select Brand",children:h&&h.map(a=>e.jsx(s.Option,{value:a.id,children:a.name},a.id))})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l.Item,{style:{marginBottom:"15px"},name:"uomId",className:"w-full sm:w-1/2",label:e.jsxs(e.Fragment,{children:["UoM",e.jsx(i,{title:"UoM",children:e.jsx(ee,{})})]}),children:e.jsx(s,{name:"uomId",loading:y,showSearch:!0,placeholder:"Select UoM ",children:b&&b.map(a=>e.jsx(s.Option,{value:a==null?void 0:a.id,children:a==null?void 0:a.name},a))})}),e.jsx(l.Item,{style:{marginBottom:"15px"},label:"UoM Value",name:"uomValue",className:"w-full sm:w-1/2",children:e.jsx(te,{size:"small"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(l.Item,{style:{marginBottom:"15px"},label:e.jsxs(e.Fragment,{children:["Purchase VAT"," ",e.jsx(i,{title:"Vat/Tax",children:e.jsx(v,{})})]}),className:"w-full sm:w-1/2",name:"productPurchaseTaxId",children:e.jsx(s,{allowClear:!0,placeholder:"Select Vat/Tax type",loading:A,children:r==null?void 0:r.map(a=>e.jsxs(s.Option,{value:a.id,children:[a.title,e.jsxs("span",{className:"italic",children:["@",a.percentage,"%"]})]},a.id))})}),e.jsx(l.Item,{style:{marginBottom:"15px"},label:e.jsxs(e.Fragment,{children:["Sales VAT"," ",e.jsx(i,{title:"VAT/TAX",children:e.jsx(v,{})})]}),className:"w-full sm:w-1/2",name:"productSalesTaxId",children:e.jsx(s,{allowClear:!0,placeholder:"Select Vat/Tax type",loading:A,children:r==null?void 0:r.map(a=>e.jsxs(s.Option,{value:a.id,children:[a.title,e.jsxs("span",{className:"italic",children:["@",a.percentage,"%"]})]},a.id))})})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsx(l.Item,{style:{marginBottom:"15px"},label:e.jsxs(e.Fragment,{children:["Manufacture",e.jsx(i,{title:"Manufacture",children:e.jsx(K,{})})]}),className:"w-full sm:w-1/2",name:"manufacturerId",children:e.jsx(s,{allowClear:!0,placeholder:"Select Manufacture",loading:c,children:g==null?void 0:g.map(a=>e.jsx(s.Option,{value:a.id,children:a.name},a.id))})})}),e.jsx(oe,{checked:N,onChange:T,className:"my-2",children:"Create multiple items with attributes and options?"}),N?e.jsx(se,{setAttributeId:k,form:n,discount:o,discountLoading:p}):e.jsx(ie,{form:n,discount:o,discountLoading:p}),e.jsx("div",{className:"flex gap-3",children:e.jsx(l.Item,{label:"Gallery Images",valuePropName:"gallery_image",className:"w-full",tooltip:"Maximum number of images is 4 and each image should be less than 2MB.",children:e.jsx(J,{images:P,setImages:V,isMultiple:!0,maxCount:4,filter:{image:"image"}})})}),e.jsx(l.Item,{style:{marginBottom:"25px"},label:"Product Description ",children:e.jsx(O,{value:S,onChange:U,modules:de,formats:ne})}),e.jsx(l.Item,{style:{marginBottom:"15px"},className:"flex justify-center mt-[24px]",children:e.jsx(ce,{type:"primary",htmlType:"submit",shape:"round",loading:M,children:"Create Product"})})]})})};export{Ve as default,ne as textEditorFormats,de as textEditorModule};
