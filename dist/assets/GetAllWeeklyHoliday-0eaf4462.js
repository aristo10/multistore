import{cL as x,r as c,cN as e,cM as j}from"./vendor-3a94a37a.js";import{g6 as S,g7 as m,g8 as O,C as D,U as h,T as W,g9 as H,ga as b}from"./index-ed7845ca.js";import{C as T}from"./CreateDrawer-a7af16b9.js";import{F as t,I as g,b as a,B as f,M as F,k as C}from"./vendor-large-f75deccb.js";import{C as w}from"./CommonDelete-4339174a.js";const I=()=>{const[d]=t.useForm(),s=x(),[n,r]=c.useState(!1),i=async l=>{r(!0);try{(await s(S(l))).payload.message==="success"&&(d.resetFields(),s(m({page:1,count:10,status:"true"}))),r(!1)}catch{}};return e.jsx(t,{style:{marginBottom:"40px"},form:d,eventKey:"department-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:i,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(g,{placeholder:"Saturday-Friday"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Start Day",name:"startDay",rules:[{required:!0,message:"Please input start day!"}],children:e.jsxs(a,{placeholder:"Select Start Day",children:[e.jsx(a.Option,{value:"Saturday",children:"Saturday"}),e.jsx(a.Option,{value:"Sunday",children:"Sunday"}),e.jsx(a.Option,{value:"Monday",children:"Monday"}),e.jsx(a.Option,{value:"Tuesday",children:"Tuesday"}),e.jsx(a.Option,{value:"Wednesday",children:"Wednesday"}),e.jsx(a.Option,{value:"Thursday",children:"Thursday"}),e.jsx(a.Option,{value:"Friday",children:"Friday"})]})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"End Day",name:"endDay",rules:[{required:!0,message:"Please input End day!"}],children:e.jsxs(a,{placeholder:"Select Start Day",children:[e.jsx(a.Option,{value:"Saturday",children:"Saturday"}),e.jsx(a.Option,{value:"Sunday",children:"Sunday"}),e.jsx(a.Option,{value:"Monday",children:"Monday"}),e.jsx(a.Option,{value:"Tuesday",children:"Tuesday"}),e.jsx(a.Option,{value:"Wednesday",children:"Wednesday"}),e.jsx(a.Option,{value:"Thursday",children:"Thursday"}),e.jsx(a.Option,{value:"Friday",children:"Friday"})]})}),e.jsx(t.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(f,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:n,children:"Add Weekly Holiday"})})]})})},M=I,B=({handleCancel:d})=>{const[s]=t.useForm(),n=x(),[r,i]=c.useState(!1),{weeklyHoliday:l}=j(o=>o.weeklyHoliday),p=async o=>{i(!0);try{(await n(O({id:l.id,values:o}))).payload.message==="success"&&(d(),n(m({page:1,count:10,status:"true"}))),i(!1)}catch(y){console.log(y)}};return c.useEffect(()=>{s.setFieldValue("name",l.name),s.setFieldValue("startDay",l.startDay),s.setFieldValue("endDay",l.endDay)},[s,l]),e.jsx(t,{style:{marginBottom:"40px"},form:s,eventKey:"department-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:p,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:e.jsx(g,{placeholder:"Saturday-Friday"})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"Start Day",name:"startDay",rules:[{required:!0,message:"Please input start day!"}],children:e.jsxs(a,{placeholder:"Select Start Day",children:[e.jsx(a.Option,{value:"Saturday",children:"Saturday"}),e.jsx(a.Option,{value:"Sunday",children:"Sunday"}),e.jsx(a.Option,{value:"Monday",children:"Monday"}),e.jsx(a.Option,{value:"Tuesday",children:"Tuesday"}),e.jsx(a.Option,{value:"Wednesday",children:"Wednesday"}),e.jsx(a.Option,{value:"Thursday",children:"Thursday"}),e.jsx(a.Option,{value:"Friday",children:"Friday"})]})}),e.jsx(t.Item,{style:{marginBottom:"10px"},label:"End Day",name:"endDay",rules:[{required:!0,message:"Please input End day!"}],children:e.jsxs(a,{placeholder:"Select Start Day",children:[e.jsx(a.Option,{value:"Saturday",children:"Saturday"}),e.jsx(a.Option,{value:"Sunday",children:"Sunday"}),e.jsx(a.Option,{value:"Monday",children:"Monday"}),e.jsx(a.Option,{value:"Tuesday",children:"Tuesday"}),e.jsx(a.Option,{value:"Wednesday",children:"Wednesday"}),e.jsx(a.Option,{value:"Thursday",children:"Thursday"}),e.jsx(a.Option,{value:"Friday",children:"Friday"})]})}),e.jsx(t.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:e.jsx(f,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:r,children:"Update Weekly Holiday"})})]})})},E=B;function L(){const d=x(),{list:s,total:n,loading:r}=j(u=>u.weeklyHoliday),[i,l]=c.useState(!1),p=()=>{l(!0)},o=()=>{l(!1)},[y,v]=c.useState({page:1,count:10,status:"true"}),k=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:3,title:"Start Day",dataIndex:"startDay",key:"startDay"},{id:3,title:"End Day",dataIndex:"endDay",key:"endDay"},{id:4,title:"",dataIndex:"",key:"action",render:u=>[{label:e.jsx(h,{permission:"update-weeklyHoliday",children:e.jsxs("div",{onClick:()=>{d(H(u)),p()},className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(C,{className:"gray-600 rounded-md"}),"Edit"]})}),key:"edit"},{label:e.jsx(w,{values:{id:u.id,status:u.status},title:u.status==="true"?"Delete":"Show",permission:"delete-weeklyHoliday",deleteThunk:b,loadThunk:m,query:y,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}];return c.useEffect(()=>{d(m(y))},[d,y]),e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Weekly Holiday",extra:e.jsx(T,{permission:"create-weeklyHoliday",title:"Create Weekly Holiday",width:35,children:e.jsx(M,{})}),children:e.jsx(h,{permission:"readAll-weeklyHoliday",children:e.jsx(W,{total:n,columns:k,list:s,loading:r,setPageConfig:v,title:"Weekly Holiday List"})})}),e.jsx(F,{title:"Update Weekly Holiday",open:i,onCancel:o,footer:!1,children:e.jsx(E,{handleCancel:o})})]})}export{L as default};
