import{r as c,cL as y,cN as e,cM as v}from"./vendor-3a94a37a.js";import{eo as h,ep as p,C as f,U as L,T as g,eq as C}from"./index-ed7845ca.js";import{V as P}from"./ViewBtn-ffc9b5cb.js";import{C as j}from"./CreateDrawer-a7af16b9.js";import{F as a,I as m,B as b}from"./vendor-large-f75deccb.js";import{C as w}from"./CommonDelete-4339174a.js";function k(){const[s,l]=c.useState(!1),[i]=a.useForm(),o=y(),t=async n=>{l(!1);try{(await o(h(n))).payload.message==="success"&&(i.resetFields(),o(p({page:1,count:10,status:"true"}))),l(!1)}catch{}};return e.jsx("div",{children:e.jsx(a,{style:{marginBottom:"40px"},form:i,eventKey:"department-form",name:"basic",layout:"vertical",className:"mx-4",onFinish:t,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input your leave-policy name!"}],children:e.jsx(m,{placeholder:"Policy 10-12"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Paid Leave ",name:"paidLeaveCount",rules:[{required:!0,message:"Please input your paid leave!"}],children:e.jsx(m,{placeholder:"20"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},label:"Unpaid Leave ",name:"unpaidLeaveCount",rules:[{required:!0,message:"Please input your unpaid Leave !"}],children:e.jsx(m,{placeholder:"10"})}),e.jsx(a.Item,{style:{marginBottom:"10px"},className:"flex justify-center",children:e.jsx(b,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:s,children:"Add Policy"})})]})})})}function A(){const s=y(),{list:l,total:i,loading:o}=v(r=>r.leavePolicy),[t,n]=c.useState({page:1,count:10,status:"true"}),d=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"name",key:"name"},{id:3,title:"Total Paid Leave",dataIndex:"paidLeaveCount",key:"paidLeaveCount"},{id:3,title:"Total Unpaid Leave",dataIndex:"unpaidLeaveCount",key:"unpaidLeaveCount"},{id:4,title:"",key:"action",render:({id:r,status:u})=>[{label:e.jsx(P,{title:"View",path:`/admin/hrm/leave-policy/${r}`}),key:"view"},{label:e.jsx(w,{values:{id:r,status:u},title:u==="true"?"Hide":"Show",permission:"delete-leavePolicy",deleteThunk:C,loadThunk:p,query:t,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],x=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return c.useEffect(()=>{s(p(t))},[s,t]),e.jsx(f,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Leave Policy",extra:e.jsx(j,{permission:"create-leavePolicy",title:"Create Leave Policy",width:35,children:e.jsx(k,{})}),children:e.jsx(L,{permission:"readAll-leavePolicy",children:e.jsx(g,{total:i,columns:d,list:l,loading:o,filters:x,setPageConfig:n,title:"Leave Policy List"})})})}export{A as default};
