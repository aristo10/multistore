import{r as c,cL as h,cN as e,cM as w,cQ as y,cO as u}from"./vendor-3a94a37a.js";import{e1 as g,e2 as p,C as j,U as b,T as C,e3 as A}from"./index-ed7845ca.js";import{V as k}from"./ViewBtn-ffc9b5cb.js";import{C as v}from"./CreateDrawer-a7af16b9.js";import{F as r,I as x,B as D}from"./vendor-large-f75deccb.js";import{C as I}from"./CommonDelete-4339174a.js";function N(){const[t]=r.useForm(),[n,i]=c.useState(!1),l=h(),s=async m=>{i(!0);try{(await l(g(m))).payload.message=="success"&&(t.resetFields(),l(p({page:1,count:10,status:"true"}))),i(!1)}catch(o){console.log(o)}};return e.jsxs("div",{children:["  ",e.jsx(r,{style:{marginBottom:"40px"},form:t,eventKey:"department-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:s,autoComplete:"off",children:e.jsxs("div",{children:[e.jsx(r.Item,{style:{marginBottom:"10px"},label:"Name",name:"name",rules:[{required:!0,message:"Please input your award name!"}],children:e.jsx(x,{placeholder:"Employee Of The Month"})}),e.jsx(r.Item,{style:{marginBottom:"20px"},label:"Description",name:"description",rules:[{required:!0,message:"Please input your award description!"}],children:e.jsx(x,{placeholder:"Employee Who Performed Well"})}),e.jsx(r.Item,{style:{marginBottom:"10px"},className:"flex justify-center",children:e.jsx(D,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:n,children:"Add Award"})})]})})]})}function E(){const t=h(),{list:n,loading:i,total:l}=w(a=>a.award),[s,m]=c.useState({page:1,count:10,status:"true"}),o=[{id:1,title:"ID",dataIndex:"id",key:"id"},{id:2,title:"Name",dataIndex:"",key:"name",render:({name:a,id:d})=>e.jsx(y,{className:"hover:text-primary duration-200",to:`/admin/hrm/award/${d}`,children:a})},{id:3,title:"Description",dataIndex:"description",key:"description"},{id:3,title:"Created at",dataIndex:"createdAt",key:"addrcreatedAtess",render:a=>u(a).format("YYYY-MM-DD"),renderCsv:a=>u(a).format("YYYY-MM-DD")},{id:4,title:"",key:"action",render:({id:a,status:d})=>[{label:e.jsx(k,{title:"View",path:`/admin/hrm/award/${a}`}),key:"view"},{label:e.jsx(I,{values:{id:a,status:d},title:d==="true"?"Hide":"Show",permission:"delete-award",deleteThunk:A,loadThunk:p,query:s,className:"bg-white text-black"}),key:"delete"}],csvOff:!0}],f=[{key:"status",label:"Status",type:"select",options:[{label:"Show",value:"true"},{label:"Hide",value:"false"}],className:"min-w-[85px] max-w-[150px]",popupClassName:"w-[100px]"}];return c.useEffect(()=>{t(p(s))},[t,s]),e.jsx(j,{className:"max-md:border-0 max-md:bg-white",bodyClass:"max-md:p-0 ",headClass:"border-none",title:"Award",extra:e.jsx(v,{permission:"create-award",title:"Create Award",width:35,children:e.jsx(N,{})}),children:e.jsx(b,{permission:"readAll-award",children:e.jsx(C,{total:l,columns:o,list:n,loading:i,filters:f,setPageConfig:m,title:"Award List",isSearch:!0})})})}export{E as default};
