import{r as c,cL as d,cM as u,cN as s,cT as j,cO as y}from"./vendor-3a94a37a.js";import{eA as b,eB as g,eC as x,C as v,L as S}from"./index-ed7845ca.js";import{L as w}from"./List-9eb27318.js";import{C as p}from"./CreateDrawer-a7af16b9.js";import{F as o,b as m,B as A}from"./vendor-large-f75deccb.js";function C({data:t}){const[i]=o.useForm(),[e,a]=c.useState(!1),r=d(),{list:n}=u(l=>l.jobApplicationStatus),f=async l=>{a(!0);try{(await r(g({id:t==null?void 0:t.id,values:l}))).payload.message==="success"&&r(x(t.id)),a(!1)}catch{}};return c.useEffect(()=>{r(b())},[r]),c.useEffect(()=>{t&&i.setFieldValue("applicationStatusId",t.jobApplicationStatus.id)},[t,i]),s.jsx("div",{children:s.jsx(o,{style:{marginBottom:"40px"},form:i,eventKey:"jobApplicationReview-form",name:"basic",className:"mx-4",layout:"vertical",onFinish:f,autoComplete:"off",children:s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center my-4",children:s.jsxs("ul",{className:"list-inside list-none w-full uppercase",children:[s.jsxs("li",{className:"text-sm text-gray-600/60 font-semibold py-2 px-4 bg-gray-400/10 mb-1.5 rounded  flex justify-start",children:["Candidate Name :"," ",s.jsxs("p",{className:"ml-2 text-sm text-gray-800/80",children:[t==null?void 0:t.name," "]})]}),s.jsxs("li",{className:"text-sm text-gray-600/60 font-semibold py-2 px-4 bg-gray-400/10 mb-1.5 rounded  flex justify-start",children:["Applied For :"," ",s.jsxs("p",{className:"ml-2 text-sm text-gray-800/80",children:[t==null?void 0:t.job.jobTitle," "]})]})]})}),s.jsx(o.Item,{style:{marginBottom:"10px"},label:"Application Status",name:"applicationStatusId",rules:[{required:!0,message:"please Select Application Status"}],children:s.jsx(m,{size:"middle",mode:"single",allowClear:!0,style:{width:"100%"},placeholder:"Please select Application Status",children:n&&n.map(l=>s.jsx(m.Option,{value:l.id,children:l.applicationStatus},l.id))})}),s.jsx(o.Item,{style:{marginBottom:"10px"},wrapperCol:{offset:6,span:12},children:s.jsx(A,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:e,children:"Review"})})]})})})}function E(){const{id:t}=j(),i=d(),{jobApplication:e}=u(a=>a.jobApplication);return c.useEffect(()=>{i(x(t))},[i,t]),s.jsx(s.Fragment,{children:e?s.jsx(v,{title:`Job Application ${e.id}`,extra:s.jsxs(s.Fragment,{children:[s.jsx(p,{permission:"readSingle-jobApplication",title:"Applicant CV or Resume",width:82,color:"bg-rose-500",icon:!1,children:s.jsx("div",{children:s.jsx("embed",{src:e.cvUrl,type:"application/pdf",width:"100%",height:"600px"})})}),s.jsx(p,{permission:"create-jobApplication",title:"Review Application",icon:!1,width:35,children:s.jsx(C,{data:e})})]}),children:s.jsx("div",{className:"max-w-[800px] mx-auto",children:s.jsx(w,{list:[{label:"Candidate Name",value:e==null?void 0:e.name},{label:"Applied For",value:e==null?void 0:e.job.jobTitle},{label:"Applied Date",value:y(e==null?void 0:e.job.createdAt).format("DD/MM/YYYY")},{label:"Email",value:e==null?void 0:e.email},{label:"Phone",value:e==null?void 0:e.phone},{label:"Cover Letter",value:e==null?void 0:e.coverLater},{label:"Application Status",value:e==null?void 0:e.jobApplicationStatus.applicationStatus}]})})}):s.jsx(S,{})})}export{E as default};
