import{cL as h,r as n,cN as a,cQ as f}from"./vendor-3a94a37a.js";import{aE as g}from"./index-ed7845ca.js";import{R as y,q as j,C as b,A as w,F as o,I as i,B as I,f as S}from"./vendor-large-f75deccb.js";const F=()=>{const m=h(),[d,s]=n.useState(!1),[u,t]=n.useState(!1),{Title:l}=S,p=async r=>{var c;try{const e=await m(g(r));e.payload.message==="success"?(localStorage.setItem("access-token",e==null?void 0:e.payload.data.token),localStorage.setItem("email",e==null?void 0:e.payload.data.email),localStorage.setItem("username",e==null?void 0:e.payload.data),localStorage.setItem("id",e==null?void 0:e.payload.data.id),localStorage.setItem("phone",e==null?void 0:e.payload.data.phone),localStorage.setItem("address",(c=e==null?void 0:e.payload.data)==null?void 0:c.address),localStorage.setItem("isLogged",!0),t(!0),setTimeout(()=>{window.location.href="/",t(!1),s(!1)},2e3)):(s(!1),t(!1))}catch{s(!1),t(!1)}},x=r=>{s(!1)};return a.jsx(a.Fragment,{children:a.jsx(y,{className:"card-row",children:a.jsx(j,{span:24,children:a.jsxs(b,{bordered:!1,className:"w-full max-w-[480px] border-solid border-2 mx-auto border-black-300 mt-[5rem]",children:[u&&a.jsx(w,{message:"Login Success",description:"Redirecting to Homepage",type:"success",showIcon:!0}),a.jsx(l,{level:3,className:"mt-10 mb-10 text-center",children:"Login Now"}),a.jsxs(o,{name:"basic",labelCol:{span:6},wrapperCol:{span:16},onFinish:p,onFinishFailed:x,autoComplete:"off",children:[a.jsx(o.Item,{className:"mb-5",label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:a.jsx(i,{type:"email"})}),a.jsx(o.Item,{className:"mb-5",label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:a.jsx(i.Password,{})}),a.jsx(o.Item,{className:"flex justify-center",children:a.jsx(I,{type:"primary",htmlType:"submit",loading:d,onClick:()=>s(!0),children:"Submit"})})]}),a.jsxs(l,{className:"mt-5 mb-5 text-center text-base",children:["Don't have an account?"," ",a.jsx(f,{to:"/customer/register",children:"Register Now"})]})]})})})})};export{F as default};
